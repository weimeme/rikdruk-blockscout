"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4305],{50045:function(e,t,n){n.d(t,{C:function(){return CharacterStream},P:function(){return Position},R:function(){return Range}});var r=Object.defineProperty,__name=(e,t)=>r(e,"name",{value:t,configurable:!0});let CharacterStream=class CharacterStream{constructor(e){this.getStartOfToken=()=>this._start,this.getCurrentPosition=()=>this._pos,this.eol=()=>this._sourceText.length===this._pos,this.sol=()=>0===this._pos,this.peek=()=>this._sourceText.charAt(this._pos)?this._sourceText.charAt(this._pos):null,this.next=()=>{let e=this._sourceText.charAt(this._pos);return this._pos++,e},this.eat=e=>{let t=this._testNextCharacter(e);if(t)return this._start=this._pos,this._pos++,this._sourceText.charAt(this._pos-1)},this.eatWhile=e=>{let t=this._testNextCharacter(e),n=!1;for(t&&(n=t,this._start=this._pos);t;)this._pos++,t=this._testNextCharacter(e),n=!0;return n},this.eatSpace=()=>this.eatWhile(/[\s\u00a0]/),this.skipToEnd=()=>{this._pos=this._sourceText.length},this.skipTo=e=>{this._pos=e},this.match=(e,t=!0,n=!1)=>{let r=null,i=null;if("string"==typeof e){let t=new RegExp(e,n?"i":"g");i=t.test(this._sourceText.substr(this._pos,e.length)),r=e}else e instanceof RegExp&&(r=null==(i=this._sourceText.slice(this._pos).match(e))?void 0:i[0]);return!!(null!=i&&("string"==typeof e||i instanceof Array&&this._sourceText.startsWith(i[0],this._pos)))&&(t&&(this._start=this._pos,r&&r.length&&(this._pos+=r.length)),i)},this.backUp=e=>{this._pos-=e},this.column=()=>this._pos,this.indentation=()=>{let e=this._sourceText.match(/\s*/),t=0;if(e&&0!==e.length){let n=e[0],r=0;for(;n.length>r;)9===n.charCodeAt(r)?t+=2:t++,r++}return t},this.current=()=>this._sourceText.slice(this._start,this._pos),this._start=0,this._pos=0,this._sourceText=e}_testNextCharacter(e){let t=this._sourceText.charAt(this._pos);return"string"==typeof e?t===e:e instanceof RegExp?e.test(t):e(t)}};__name(CharacterStream,"CharacterStream");let Range=class Range{constructor(e,t){this.containsPosition=e=>this.start.line===e.line?this.start.character<=e.character:this.end.line===e.line?this.end.character>=e.character:this.start.line<=e.line&&this.end.line>=e.line,this.start=e,this.end=t}setStart(e,t){this.start=new Position(e,t)}setEnd(e,t){this.end=new Position(e,t)}};__name(Range,"Range");let Position=class Position{constructor(e,t){this.lessThanOrEqualTo=e=>this.line<e.line||this.line===e.line&&this.character<=e.character,this.line=e,this.character=t}setLine(e){this.line=e}setCharacter(e){this.character=e}};__name(Position,"Position")},44305:function(e,t,n){n.r(t);var r=n(97480),i=n(52877),a=n(77990),s=n(69538),o=n(93201),l=n(22618),h=n(53274),c=n(25580),u=n(84873),p=n(96300),_=n(34800),d=n(42266),g=n(92767),m=n(8783),f=n(81294),v=n(88081),y=n(5311),C=n(78758),x=n(97359),T=n(16918),E=n(10785),R=n(46364),P=n(29551),w=n(93058);function NoDeprecatedCustomRule(e){return{Field(t){let n=e.getFieldDef(),r=null==n?void 0:n.deprecationReason;if(n&&null!=r){let i=e.getParentType();null!=i||(0,P.k)(!1),e.reportError(new R.__(`The field ${i.name}.${n.name} is deprecated. ${r}`,{nodes:t}))}},Argument(t){let n=e.getArgument(),r=null==n?void 0:n.deprecationReason;if(n&&null!=r){let i=e.getDirective();if(null!=i)e.reportError(new R.__(`Directive "@${i.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}));else{let i=e.getParentType(),a=e.getFieldDef();null!=i&&null!=a||(0,P.k)(!1),e.reportError(new R.__(`Field "${i.name}.${a.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}))}}},ObjectField(t){let n=(0,w.xC)(e.getParentInputType());if((0,w.hL)(n)){let r=n.getFields()[t.name.value],i=null==r?void 0:r.deprecationReason;null!=i&&e.reportError(new R.__(`The input field ${n.name}.${r.name} is deprecated. ${i}`,{nodes:t}))}},EnumValue(t){let n=e.getEnumValue(),r=null==n?void 0:n.deprecationReason;if(n&&null!=r){let i=(0,w.xC)(e.getInputType());null!=i||(0,P.k)(!1),e.reportError(new R.__(`The enum value "${i.name}.${n.name}" is deprecated. ${r}`,{nodes:t}))}}}}var k=n(34386),$=n(50045);n(59361),n(67294),n(73935);var b=Object.defineProperty,__name=(e,t)=>b(e,"name",{value:t,configurable:!0});let D=[i.t,a.q,s.P,o.L,l.y,h.o,c.I,u.J,p.k,_.g,d.L,g.P];function validateWithCustomRules(e,t,n,r,i){let a=m.i.filter(e=>e!==f.J&&e!==v.i&&(!r||e!==y.a));n&&Array.prototype.push.apply(a,n),i&&Array.prototype.push.apply(a,D);let s=(0,C.Gu)(e,t,a);return s.filter(e=>{if(-1!==e.message.indexOf("Unknown directive")&&e.nodes){let t=e.nodes[0];if(t&&t.kind===x.h.DIRECTIVE){let e=t.name.value;if("arguments"===e||"argumentDefinitions"===e)return!1}}return!0})}__name(validateWithCustomRules,"validateWithCustomRules");let L={Error:"Error",Warning:"Warning",Information:"Information",Hint:"Hint"},A={[L.Error]:1,[L.Warning]:2,[L.Information]:3,[L.Hint]:4},S=__name((e,t)=>{if(!e)throw Error(t)},"invariant");function getDiagnostics(e,t=null,n,r,i){var a,s;let o=null;i&&("string"==typeof i?e+="\n\n"+i:e+="\n\n"+i.reduce((e,t)=>e+=(0,T.S)(t)+"\n\n",""));try{o=(0,E.Qc)(e)}catch(t){if(t instanceof R.__){let n=getRange(null!==(s=null===(a=t.locations)||void 0===a?void 0:a[0])&&void 0!==s?s:{line:0,column:0},e);return[{severity:A.Error,message:t.message,source:"GraphQL: Syntax",range:n}]}throw t}return validateQuery(o,t,n,r)}function validateQuery(e,t=null,n,r){if(!t)return[];let i=mapCat(validateWithCustomRules(t,e,n,r),e=>annotations(e,A.Error,"Validation")),a=mapCat((0,C.Gu)(t,e,[NoDeprecatedCustomRule]),e=>annotations(e,A.Warning,"Deprecation"));return i.concat(a)}function mapCat(e,t){return Array.prototype.concat.apply([],e.map(t))}function annotations(e,t,n){if(!e.nodes)return[];let r=[];return e.nodes.forEach(i=>{let a="Variable"!==i.kind&&"name"in i&&void 0!==i.name?i.name:"variable"in i&&void 0!==i.variable?i.variable:i;if(a){S(e.locations,"GraphQL validation error requires locations.");let i=e.locations[0],s=getLocation(a),o=i.column+(s.end-s.start);r.push({source:`GraphQL: ${n}`,message:e.message,severity:t,range:new $.R(new $.P(i.line-1,i.column-1),new $.P(i.line-1,o))})}}),r}function getRange(e,t){let n=(0,k.o)(),r=n.startState(),i=t.split("\n");S(i.length>=e.line,"Query text must have more lines than where the error happened");let a=null;for(let t=0;t<e.line;t++)for(a=new $.C(i[t]);!a.eol();){let e=n.token(a,r);if("invalidchar"===e)break}S(a,"Expected Parser stream to be available.");let s=e.line-1,o=a.getStartOfToken(),l=a.getCurrentPosition();return new $.R(new $.P(s,o),new $.P(s,l))}function getLocation(e){let t=e.loc;return S(t,"Expected ASTNode to have a location."),t}__name(getDiagnostics,"getDiagnostics"),__name(validateQuery,"validateQuery"),__name(mapCat,"mapCat"),__name(annotations,"annotations"),__name(getRange,"getRange"),__name(getLocation,"getLocation");let Q=["error","warning","information","hint"],W={"GraphQL: Validation":"validation","GraphQL: Deprecation":"deprecation","GraphQL: Syntax":"syntax"};r.C.registerHelper("lint","graphql",(e,t)=>{let n=t.schema,i=getDiagnostics(e,n,t.validationRules,void 0,t.externalFragments),a=i.map(e=>({message:e.message,severity:e.severity?Q[e.severity-1]:"error",type:e.source?W[e.source]:void 0,from:r.C.Pos(e.range.start.line,e.range.start.character),to:r.C.Pos(e.range.end.line,e.range.end.character)}));return a})}}]);
//# sourceMappingURL=4305.a0f8de9436e47317.js.map