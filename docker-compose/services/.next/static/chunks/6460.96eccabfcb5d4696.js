"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6460],{54700:function(e,t,r){r.d(t,{Z:function(){return hexToUtf8}});function hexToUtf8(e){let t=new TextDecoder,r=new Uint8Array(function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t}(e));return t.decode(r)}},37013:function(e,t,r){r.d(t,{Z:function(){return useContractTabs}});var n=r(85893),a=r(67294),i=r(75350),o=r(776),l=r(93344),s=r(96272),c=r(23100),d=r(31507),u=r(204),h=r(33838),p=r(31708),m=r(30202),x=r(99640),g=r(36217),b=r(4914),f=r(14335),v=r(9095),j=r(32841),y=r(19819),_=r(26287),k=r(30721),C=r(76215),w=r(44834),S=r(88911),N=r(47523),B=r(18691),z=r(68387),Z=r(12498),T=r(34629),F=r(7754),L=r(19604),M=r(24384),W=r(55036),I=r(62999),lib_stripLeadingSlash=e=>"/"===e[0]?e.slice(1):e;let E={base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#f5f5f6","editorWidget.background":"#f5f5f6","tab.activeBackground":"#f5f5f6","tab.inactiveBackground":"rgb(236, 236, 236)","tab.activeForeground":"#101112","tab.inactiveForeground":"#4a5568","tab.border":"rgb(243, 243, 243)","icon.foreground":"#616161","input.foreground":"#616161","input.background":"#fff","list.inactiveSelectionBackground":"#e4e6f1","breadcrumbs.foreground":"rgb(97, 97, 97)","badge.background":"#c4c4c4","sideBar.background":"#eee",focusBorder:"#0090f1","custom.list.hoverBackground":"rgba(16, 17, 18, 0.08)","custom.findMatchHighlightBackground":"rgba(198, 246, 213, 1)","custom.inputOption.activeBackground":"rgba(0, 144, 241, 0.2)","custom.inputOption.hoverBackground":"rgba(184, 184, 184, 0.31)","custom.fileLink.hoverForeground":"#4299E1","custom.riskWarning.primaryBackground":"#FEEBCB","custom.riskWarning.background":"#FFFAF0"}},O={base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1a1b1b","editorWidget.background":"#1a1b1b","tab.activeBackground":"#1a1b1b","tab.inactiveBackground":"rgb(45, 45, 45)","tab.activeForeground":"#fff","tab.inactiveForeground":"#a0aec0","tab.border":"rgb(37, 37, 38)","icon.foreground":"#616161","input.foreground":"#cccccc","input.background":"#3c3c3c","list.inactiveSelectionBackground":"#37373d","badge.background":"#4d4d4d","breadcrumbs.foreground":"rgb(97, 97, 97)","sideBar.background":"#222",focusBorder:"#007fd4","custom.list.hoverBackground":"rgba(255, 255, 255, 0.08)","custom.findMatchHighlightBackground":"rgba(34, 84, 61, 1)","custom.inputOption.activeBackground":"rgba(0, 127, 212, 0.4)","custom.inputOption.hoverBackground":"rgba(90, 93, 94, 0.31)","custom.fileLink.hoverForeground":"#4299E1","custom.riskWarning.primaryBackground":"rgba(246, 173, 85, 0.3)","custom.riskWarning.background":"rgba(246, 173, 85, 0.1)"}};function useThemeColors(){let e=(0,Z.ff)(E,O);return e.colors}var R=a.memo(e=>{let{path:t}=e,r=lib_stripLeadingSlash(t).split("/"),i=useThemeColors();return(0,n.jsx)(u.k,{color:i["breadcrumbs.foreground"],bgColor:i["editor.background"],pl:"16px",pr:"8px",flexWrap:"wrap",fontSize:"13px",lineHeight:"22px",alignItems:"center",children:r.map((e,t)=>(0,n.jsxs)(a.Fragment,{children:[0!==t&&(0,n.jsx)(c.xu,{className:"codicon codicon-breadcrumb-separator",boxSize:"16px",_before:{content:'"\\eab6"'}}),(0,n.jsx)(c.xu,{children:e})]},t))})}),D=r(35202),P=a.memo((0,i.m)(e=>{let{className:t}=e,r=useThemeColors();return(0,n.jsx)(F.M,{bgColor:r["editor.background"],w:"100%",h:"100%",overflow:"hidden",className:t,children:(0,n.jsx)(D.Z,{})})})),A=r(70385),V=r(1004),G=r(56005),q=r(49394),H=r(80333),U=r(69558),K=r(23493),J=r.n(K),Q=r(14853),$=r(36024),Y=r(5077),X=r(77484),ee=r(18122),et=r(96026),er=a.memo((0,i.m)(e=>{let{className:t,fileName:r}=e,a=/.vy$/.test(r)?"monaco/vyper":/.sol|.yul$/.test(r)?"monaco/solidity":"monaco/file";return(0,n.jsx)(et.Z,{className:t,name:a,boxSize:"16px"})})),en=(0,i.m)(e=>{let{className:t}=e;return(0,n.jsx)(N.u,{label:"The main file containing verified contract",children:(0,n.jsx)(c.xu,{className:t,children:(0,n.jsx)(et.Z,{name:"star_filled",boxSize:3,display:"block",color:"green.500"})})})});let CodeEditorFileTree=e=>{let{tree:t,level:r=0,onItemClick:a,isCollapsed:o,selectedFile:l,mainFile:s}=e,d={borderWidth:"0px",cursor:"pointer",lineHeight:"22px",_last:{borderBottomWidth:"0px"}},u=useThemeColors();return(0,n.jsx)($.U,{allowMultiple:!0,defaultIndex:o?void 0:t.map((e,t)=>t),reduceMotion:!0,children:t.map((e,t)=>{let h=(0,n.jsx)(i.m.span,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:e.name});return"children"in e?(0,n.jsx)(Y.Q,{...d,children:t=>{let{isExpanded:i}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(X.K,{pr:"8px",py:"0",pl:"".concat(8+8*r,"px"),_hover:{bgColor:u["custom.list.hoverBackground"]},fontSize:"13px",lineHeight:"22px",h:"22px",transitionDuration:"0",children:[(0,n.jsx)(c.xu,{className:"codicon codicon-tree-item-expanded",transform:i?"rotate(0deg)":"rotate(-90deg)",boxSize:"16px",mr:"2px"}),(0,n.jsx)(et.Z,{name:i?"monaco/folder-open":"monaco/folder",boxSize:"16px",mr:"4px"}),h]}),(0,n.jsx)(ee.H,{p:"0",children:(0,n.jsx)(CodeEditorFileTree,{tree:e.children,level:r+1,onItemClick:a,isCollapsed:o,selectedFile:l,mainFile:s})})]})}},t):(0,n.jsxs)(Y.Q,{...d,pl:"".concat(26+8*r,"px"),pr:"8px",onClick:a,"data-file-path":e.file_path,display:"flex",position:"relative",alignItems:"center",overflow:"hidden",_hover:{bgColor:l===e.file_path?u["list.inactiveSelectionBackground"]:u["custom.list.hoverBackground"]},bgColor:l===e.file_path?u["list.inactiveSelectionBackground"]:"none",children:[s===e.file_path&&(0,n.jsx)(en,{position:"absolute",top:"".concat(5,"px"),left:"".concat(12+8*r,"px")}),(0,n.jsx)(er,{fileName:e.name,mr:"4px"}),h]},t)})})};var ea=a.memo(CodeEditorFileTree),ei=a.memo(e=>{let{onClick:t,label:r,isDisabled:a,isCollapsed:i}=e,o=useThemeColors();return(0,n.jsx)(c.xu,{ml:"auto",alignSelf:"center",className:i?"codicon codicon-search-expand-results":"codicon codicon-collapse-all",opacity:a?.6:1,boxSize:"20px",p:"2px",borderRadius:"sm",_before:{content:i?'"\\eb95"':'"\\eac5"'},_hover:{bgColor:o["custom.inputOption.hoverBackground"]},onClick:t,cursor:"pointer",title:r,"aria-label":r})});function sortFileTree(e,t){return"children"in e&&!("children"in t)?-1:"children"in t&&!("children"in e)?1:e.name.localeCompare(t.name)}var eo=a.memo(e=>{let{data:t,onFileSelect:r,selectedFile:i,mainFile:o,isActive:l,setActionBarRenderer:s}=e,[d,u]=a.useState(0),h=a.useMemo(()=>(function(e){let t=[],r={result:t};return e.forEach(e=>{let t=lib_stripLeadingSlash(e.file_path),n=t.split("/");n.reduce((t,r,n,a)=>(t[r]||(t[r]={result:[]},t.result.push({name:r,...n===a.length-1?e:{children:t[r].result}})),t.result.sort(sortFileTree),t[r]),r)}),t.sort(sortFileTree)})(t),[t]),p=a.useCallback(()=>{u(e=>e+1)},[]),m=a.useCallback(()=>(0,n.jsx)(ei,{onClick:p,label:"Collapse folders"}),[p]),x=a.useCallback(e=>{let n=e.currentTarget.getAttribute("data-file-path"),a=t.findIndex(e=>e.file_path===n);a>-1&&r(a)},[t,r]);return a.useEffect(()=>{l&&s(()=>m)},[l,m,s]),(0,n.jsx)(c.xu,{children:(0,n.jsx)(ea,{tree:h,onItemClick:x,isCollapsed:d>0,selectedFile:i,mainFile:o},d)})}),el=r(93863),es=r(28129),ec=r(43775),ed=r(12208);let calculateStartPosition=(e,t)=>{let r=0;for(let n=0;n<t;n++){let t=e[n];if(" "===t){r=n+1;continue}}return r?r-1:0};var eu=a.memo(e=>{let{lineContent:t,filePath:r,onClick:a,startLineNumber:o,startColumn:l,endColumn:s}=e,d=calculateStartPosition(t,l),u=useThemeColors();return(0,n.jsxs)(c.xu,{pr:"8px",pl:"36px",fontSize:"13px",lineHeight:"22px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer","data-file-path":r,"data-line-number":o,onClick:a,transitionDuration:"0",_hover:{bgColor:u["custom.list.hoverBackground"]},children:[(0,n.jsx)("span",{children:t.slice(d,l-1)}),(0,n.jsx)(i.m.span,{bgColor:u["custom.findMatchHighlightBackground"],children:t.slice(l-1,s-1)}),(0,n.jsx)("span",{children:t.slice(s-1)})]})}),eh=a.memo(e=>{let{data:t,onItemClick:r}=e,i=function(e){let t=e.split("/");return t[t.length-1]}(t.file_path),o=a.useCallback(e=>{let n=Number(e.currentTarget.getAttribute("data-line-number"));Object.is(n,NaN)||r(t.file_path,Number(n))},[t.file_path,r]),l=useThemeColors();return(0,n.jsx)(Y.Q,{borderWidth:"0px",_last:{borderBottomWidth:"0px"},children:e=>{let{isExpanded:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(X.K,{py:0,px:2,_hover:{bgColor:l["custom.list.hoverBackground"]},fontSize:"13px",transitionDuration:"0",lineHeight:"22px",alignItems:"center",children:[(0,n.jsx)(c.xu,{className:"codicon codicon-tree-item-expanded",transform:r?"rotate(0deg)":"rotate(-90deg)",width:"20px",height:"22px",py:"3px",flexShrink:0}),(0,n.jsx)(er,{mr:"4px",fileName:i}),(0,n.jsx)(c.xu,{mr:"8px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",children:i}),(0,n.jsx)(c.xu,{className:"monaco-count-badge",ml:"auto",bgColor:l["badge.background"],flexShrink:0,children:t.matches.length})]}),(0,n.jsx)(ee.H,{p:0,children:t.matches.map(e=>(0,n.jsx)(eu,{filePath:t.file_path,onClick:o,...e},t.file_path+"_"+e.startLineNumber+"_"+e.startColumn))})]})}})}),ep=a.memo(e=>{let{monaco:t,data:r,onFileSelect:i,isInputStuck:o,isActive:l,setActionBarRenderer:s,defaultValue:d}=e,[u,h]=a.useState(""),[p,m]=a.useState([]),[x,g]=a.useState([]),[b,f]=(0,A.k)(),[v,j]=(0,A.k)(),[y,_]=(0,A.k)(),k=a.useRef({}),C=useThemeColors(),w=(0,ed.Z)(u,300);a.useEffect(()=>{h(d)},[d]),a.useEffect(()=>{if(!t)return;w||m([]);let e=t.editor.getModels(),r=e.map(e=>e.findMatches(w,!1,y,b,v?"true":null,!1));e.forEach((e,t)=>{let n=e.uri.path,a=k.current[n]||[],i=r[t].map(e=>{let{range:t}=e;return{range:t,options:{className:"highlight"}}}),o=e.deltaDecorations(a,i);k.current[n]=o});let n=r.map((t,r)=>{let n=e[r];return{file_path:n.uri.path,matches:t.map(e=>{let{range:t}=e;return{...t,lineContent:n.getLineContent(t.startLineNumber)}})}}).filter(e=>{let{matches:t}=e;return t.length>0});m(n.length>0?n:[])},[w,b,y,v,t]),a.useEffect(()=>{g(p.map((e,t)=>t))},[p]);let S=a.useCallback(e=>{h(e.target.value)},[]),N=a.useCallback((e,t)=>{let n=r.findIndex(t=>t.file_path===e);n>-1&&i(n,Number(t))},[r,i]),B=a.useCallback(e=>{g(e)},[]),z=a.useCallback(()=>{0===x.length?g(p.map((e,t)=>t)):g([])},[x.length,p]),Z=a.useCallback(()=>(0,n.jsx)(ei,{onClick:z,label:0===x.length?"Expand all":"Collapse all",isDisabled:0===p.length,isCollapsed:0===x.length}),[x.length,z,p.length]);a.useEffect(()=>{l&&s(()=>Z)},[l,Z,s]);let T={boxSize:"20px",p:"1px",cursor:"pointer",borderRadius:"3px",borderWidth:"1px",borderColor:"transparent"},F=(()=>{if(!w)return null;let e=p.map(e=>{let{matches:t}=e;return t.length}).reduce((e,t)=>e+t,0);return e?(0,n.jsxs)(c.xu,{px:"8px",fontSize:"13px",lineHeight:"18px",mb:"8px",children:[e," result",e>1?"s":""," in ",p.length," file",p.length>1?"s":""]}):(0,n.jsx)(c.xu,{px:"8px",fontSize:"13px",lineHeight:"18px",mb:"8px",children:"No results found. Review your settings for configured exclusions."})})();return(0,n.jsxs)(c.xu,{children:[(0,n.jsxs)(el.B,{px:"8px",position:"sticky",top:"35px",left:"0",zIndex:"2",bgColor:C["sideBar.background"],pb:"8px",boxShadow:o?"md":"none",children:[(0,n.jsx)(es.I,{size:"xs",onChange:S,value:u,placeholder:"Search",variant:"unstyled",color:C["input.foreground"],bgColor:C["input.background"],borderRadius:"none",fontSize:"13px",lineHeight:"20px",borderWidth:"1px",borderColor:C["input.background"],py:"2px",pl:"4px",pr:"75px",transitionDuration:"0",_focus:{borderColor:C.focusBorder}}),(0,n.jsxs)(ec.x,{w:"auto",h:"auto",right:"12px",top:"3px",columnGap:"2px",children:[(0,n.jsx)(c.xu,{...T,className:"codicon codicon-case-sensitive",onClick:f.toggle,bgColor:b?C["custom.inputOption.activeBackground"]:"transparent",_hover:{bgColor:b?C["custom.inputOption.activeBackground"]:C["custom.inputOption.hoverBackground"]},title:"Match Case","aria-label":"Match Case"}),(0,n.jsx)(c.xu,{...T,className:"codicon codicon-whole-word",bgColor:v?C["custom.inputOption.activeBackground"]:"transparent",onClick:j.toggle,_hover:{bgColor:v?C["custom.inputOption.activeBackground"]:C["custom.inputOption.hoverBackground"]},title:"Match Whole Word","aria-label":"Match Whole Word"}),(0,n.jsx)(c.xu,{...T,className:"codicon codicon-regex",bgColor:y?C["custom.inputOption.activeBackground"]:"transparent",onClick:_.toggle,_hover:{bgColor:y?C["custom.inputOption.activeBackground"]:C["custom.inputOption.hoverBackground"]},title:"Use Regular Expression","aria-label":"Use Regular Expression"})]})]}),F,(0,n.jsx)($.U,{allowMultiple:!0,index:x,onChange:B,reduceMotion:!0,children:p.map(e=>(0,n.jsx)(eh,{data:e,onItemClick:N},e.file_path))},w)]})}),em=a.memo(e=>{let{onFileSelect:t,data:r,monaco:i,editor:o,selectedFile:l,mainFile:s}=e,[d,u]=a.useState(!1),[h,p]=(0,A.k)(!1),[m,x]=a.useState(0),[g,b]=a.useState(""),[f,v]=a.useState(),j=useThemeColors(),y={fontFamily:"heading",textTransform:"uppercase",fontSize:"11px",lineHeight:"35px",fontWeight:500,color:j["tab.inactiveForeground"],_selected:{color:j["tab.activeForeground"]},px:0,letterSpacing:.3},_=a.useRef(J()(e=>{u(e.target.scrollTop>0)},100)),k=a.useCallback((e,r)=>{h&&p.off(),t(e,r)},[h,t,p]);return a.useEffect(()=>{o&&i&&(o.addAction({id:"file-explorer",label:"Show File Explorer",keybindings:[i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.KeyE],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){x(0)}}),o.addAction({id:"search-in-files",label:"Show Search in Files",keybindings:[i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.KeyF],contextMenuGroupId:"navigation",contextMenuOrder:1.6,run:function(e){var t;x(1);let r=e.getSelection(),n=r?null===(t=e.getModel())||void 0===t?void 0:t.getValueInRange(r):"";b(n||"")}}))},[o,i]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.xu,{w:"".concat(250,"px"),flexShrink:0,bgColor:j["sideBar.background"],fontSize:"13px",overflowY:"scroll",onScroll:_.current,position:{base:"absolute",lg:"relative"},right:{base:h?"0":"-".concat(250,"px"),lg:"0"},top:{base:0,lg:void 0},h:"100%",pb:"22px",boxShadow:{base:h?"md":"none",lg:"none"},zIndex:{base:"2",lg:void 0},transitionProperty:"right",transitionDuration:"normal",transitionTimingFunction:"ease-in-out",borderTopRightRadius:"md",borderBottomRightRadius:"md",children:(0,n.jsxs)(V.m,{isLazy:!0,lazyBehavior:"keepMounted",variant:"unstyled",size:"13px",index:m,onChange:x,children:[(0,n.jsxs)(G.t,{columnGap:3,position:"sticky",top:0,left:0,bgColor:j["sideBar.background"],zIndex:"1",px:2,boxShadow:d?"md":"none",borderTopRightRadius:"md",children:[(0,n.jsx)(q.O,{...y,title:"File explorer (".concat(Q.uY+Q.x8,"E)"),children:"Explorer"}),(0,n.jsx)(q.O,{...y,title:"Search in files (".concat(Q.uY+Q.x8,"F)"),children:"Search"}),null==f?void 0:f()]}),(0,n.jsxs)(H.n,{children:[(0,n.jsx)(U.x,{p:0,children:(0,n.jsx)(eo,{data:r,onFileSelect:k,selectedFile:l,mainFile:s,isActive:0===m,setActionBarRenderer:v})}),(0,n.jsx)(U.x,{p:0,children:(0,n.jsx)(ep,{data:r,onFileSelect:k,monaco:i,isInputStuck:d,isActive:1===m,setActionBarRenderer:v,defaultValue:g})})]})]})}),(0,n.jsx)(c.xu,{boxSize:"24px",p:"4px",position:"absolute",display:{base:"block",lg:"none"},right:h?"".concat(249,"px"):"0",top:"calc(50% - 12px)",backgroundColor:j["sideBar.background"],borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",boxShadow:"md",onClick:p.toggle,zIndex:"1",transitionProperty:"right",transitionDuration:"normal",transitionTimingFunction:"ease-in-out",title:h?"Open sidebar":"Close sidebar","aria-label":h?"Open sidebar":"Close sidebar",children:(0,n.jsx)(c.xu,{className:"codicon codicon-tree-item-expanded",transform:h?"rotate(-90deg)":"rotate(+90deg)",boxSize:"16px"})})]})}),ex=a.memo(e=>{let{isActive:t,isMainFile:r,path:o,onClick:l,onClose:s,isCloseDisabled:d,tabsPathChunks:h}=e,[p,m]=function(e,t){let r=e.split("/"),n=r[r.length-1],a=function(e,t){let r=e[e.length-1],n=t.filter(t=>t.join("/")!==e.join("/")),a=n.filter(e=>e[e.length-1]===r);if(0===a.length||e.length<=1)return;if(2===e.length)return"./"+e[e.length-2];let i="/"+e[e.length-2];for(let t=3;t<=e.length;t++){let r=e[e.length-t];""===r&&(i="."+i);let n=a.map(e=>e[e.length-t]);if(n.includes(r))i="/"+r+i;else break}return i}(r,t);return[n,a]}(o,h),x=useThemeColors(),g=a.useCallback(()=>{l(o)},[l,o]),b=a.useCallback(e=>{e.stopPropagation(),d||s(o)},[d,s,o]);return(0,n.jsxs)(u.k,{pl:"10px",pr:"4px",fontSize:"13px",lineHeight:"34px",bgColor:t?x["tab.activeBackground"]:x["tab.inactiveBackground"],borderRightWidth:"1px",borderRightColor:x["tab.border"],borderBottomWidth:"1px",borderBottomColor:t?"transparent":x["tab.border"],color:t?x["tab.activeForeground"]:x["tab.inactiveForeground"],alignItems:"center",fontWeight:400,cursor:"pointer",onClick:g,_hover:{".codicon-close":{visibility:"visible"}},userSelect:"none",children:[(0,n.jsx)(er,{mr:"4px",fileName:p}),(0,n.jsx)("span",{children:p}),m&&(0,n.jsxs)(i.m.span,{fontSize:"11px",opacity:.8,ml:1,children:["."===m[0]?"":"...",m]}),r&&(0,n.jsx)(en,{ml:2}),(0,n.jsx)(c.xu,{className:"codicon codicon-close",boxSize:"20px",ml:"4px",p:"2px",title:"Close ".concat(t?"(".concat(Q.wp,"W)"):""),"aria-label":"Close",onClick:b,borderRadius:"sm",opacity:d?.3:1,visibility:{base:"visible",lg:t?"visible":"hidden"},color:x["icon.foreground"],_hover:{bgColor:d?"transparent":x["custom.inputOption.hoverBackground"]}})]})}),eg=a.memo(e=>{let{tabs:t,activeTab:r,mainFile:i,onTabSelect:o,onTabClose:l}=e,s=useThemeColors(),c=a.useMemo(()=>t.map(e=>e.split("/")),[t]);return(0,n.jsx)(u.k,{borderTopLeftRadius:"md",overflow:"hidden",bgColor:s["sideBar.background"],flexWrap:"wrap",children:t.map(e=>(0,n.jsx)(ex,{path:e,isActive:r===e,isMainFile:i===e,onClick:o,onClose:l,isCloseDisabled:1===t.length,tabsPathChunks:c},e))})});let getLibraryName=e=>t=>{let r=t.name.includes(":");if(!r)return t.name;let[n,a]=t.name.split(":");if(e.uri.path==="/".concat(n))return a},sortByEndLineNumberAsc=(e,t)=>e.range.endLineNumber<t.range.endLineNumber?-1:e.range.endLineNumber>t.range.endLineNumber?1:0;var eb=r(32957);let ef={readOnly:!0,minimap:{enabled:!1},scrollbar:{alwaysConsumeMouseWheel:!0},dragAndDrop:!1};var ev=a.memo(e=>{let{data:t,remappings:r,libraries:i,language:o,mainFile:l}=e,[s,d]=a.useState(),[h,p]=a.useState(),[m,x]=a.useState(0),[g,b]=a.useState([t[m].file_path]),[f,v]=a.useState(!1),[j,y]=(0,M.Z)(),{colorMode:_}=(0,Z.If)(),k=(0,T.dQ)("radii","md"),C=(0,W.Z)(),w=useThemeColors(),S=j?j.width-(C?0:250):0,N="vyper"===o?"elixir":"sol";a.useEffect(()=>{null==s||s.editor.setTheme("light"===_?"blockscout-light":"blockscout-dark")},[_,null==s?void 0:s.editor]);let B=a.useCallback((e,r)=>{d(r),p(e),r.editor.defineTheme("blockscout-light",E),r.editor.defineTheme("blockscout-dark",O),r.editor.setTheme("light"===_?"blockscout-light":"blockscout-dark");let n=r.editor.getModels(),a=n.map(e=>e.uri.path),l=t.slice(1).filter(e=>!a.includes(e.file_path)).map(e=>r.editor.createModel(e.source_code,N,r.Uri.parse(e.file_path)));"solidity"===o&&n.concat(l).forEach(e=>{(function(e){let t={inlineClassName:"import-link",hoverMessage:{value:"Cmd/Win + click to open file"}},r=e.findMatches("^import ('|\")(.+)('|\")",!1,!0,!1,null,!0),n=r.map(e=>{let{range:r}=e;return{range:{...r,startColumn:r.startColumn+8,endColumn:r.endColumn-1},options:t}}),a=e.findMatches("(^import \\{.+\\} from )('|\")(.+)('|\")",!1,!0,!1,null,!0),i=a.map(e=>{var r;let{range:n,matches:a}=e;return{range:{...n,startColumn:n.startColumn+(Array.isArray(a)?(null==a?void 0:null===(r=a[1])||void 0===r?void 0:r.length)+1:0),endColumn:n.endColumn-1},options:t}});e.deltaDecorations([],n.concat(i))})(e),(null==i?void 0:i.length)&&function(e,t){let r={isWholeLine:!0,hoverMessage:[{value:"**This is an external library linked to the verified contract**"},{value:"The linked library source code only affects the bytecode part with external `DELEGATECALL` to the library and it is not possible to automatically ensure that provided library is really the one deployed at specified address. If you want to be sure, check the source code of the library at the given address. (See [issue](https://github.com/blockscout/blockscout-rs/issues/532) for more details)"}]},n=t.map(getLibraryName(e)).filter(Boolean).join("|");if(!n)return;let[a]=e.findMatches("(^library ".concat(n,")\\s?\\{"),!1,!0,!1,null,!0);if(!a)return;let i={range:{startColumn:1,endColumn:10,startLineNumber:a.range.startLineNumber,endLineNumber:a.range.startLineNumber},options:{...r,className:".risk-warning-primary",marginClassName:".risk-warning-primary"}},o={startLineNumber:a.range.startLineNumber,startColumn:1,endColumn:10,endLineNumber:e.getLineCount()},[l]=e.findMatches("^\\}",o,!0,!1,null,!0).sort(sortByEndLineNumberAsc),s={range:{startLineNumber:a.range.startLineNumber+1,endLineNumber:l.range.startLineNumber,startColumn:1,endColumn:10},options:{...r,className:".risk-warning",marginClassName:".risk-warning"}};e.deltaDecorations([],[i,s])}(e,i)}),e.addAction({id:"close-tab",label:"Close current tab",keybindings:[r.KeyMod.Alt|r.KeyCode.KeyW],contextMenuGroupId:"navigation",contextMenuOrder:1.7,run:function(e){let t=e.getModel(),r=null==t?void 0:t.uri.path;r&&A(r,!0)}})},[]),z=a.useCallback((e,r)=>{x(e),b(r=>r.some(r=>r===t[e].file_path)?r:[...r,t[e].file_path]),void 0===r||Object.is(r,NaN)||window.setTimeout(()=>{null==h||h.revealLineInCenter(r)},0),null==h||h.focus()},[t,h]),D=a.useCallback(e=>{let r=t.findIndex(t=>t.file_path===e);r>-1&&x(r)},[t]),A=a.useCallback((e,r)=>{b(n=>{if(n.length>1){let a=n.findIndex(t=>t===e),i=void 0!==r?r:t[m].file_path===e;if(i){let e=t.findIndex(e=>e.file_path===n[0===a?1:a-1]);x(e)}return n.filter(t=>t!==e)}return n})},[t,m]),V=a.useCallback(e=>{if(!f&&!C)return;let n=e.target,a=n.classList.contains("import-link");if(a){let a=[n.previousElementSibling,n,n.nextElementSibling].filter(e=>null==e?void 0:e.classList.contains("import-link")).map(e=>e.innerText).join(""),i=function(e,t,r){if("."!==t[0]){let n=t;if(r&&r.length>0){let a=r.map(e=>{let t=e.split(":"),[r,n]=t[t.length-1].split("=");return{context:t.length>1?t[0]:void 0,prefix:r,target:n}}),{prefix:i,target:o}=a.find(r=>{let{context:n,prefix:a}=r;if(n){let r="/"+lib_stripLeadingSlash((0,eb.Z)(n));return e.startsWith(r+"/")&&t.startsWith(a)}return t.startsWith(a)})||{};i&&o&&(n=t.replace(i,o))}return"/"===n[0]?n:"/"+n}let n=lib_stripLeadingSlash(e).split("/"),a=t.split("/"),i=n.slice(0,-1);for(let e=0;e<a.length;e++){let t=a[e];if("."!==t){if(".."===t){if(0===i.length)break;i.pop();continue}i.push(t)}}if(0!==i.length)return"/"+i.join("/")}(t[m].file_path,a,r),o=t.findIndex(e=>e.file_path===i);o>-1&&(e.stopPropagation(),z(o))}},[t,z,m,f,C,r]),G=a.useCallback(e=>{(e.metaKey||e.getModifierState("Meta")||e.getModifierState("OS"))&&v(!0)},[]),q=a.useCallback(()=>{v(!1)},[]),H=a.useMemo(()=>({".editor-container":{position:"absolute",top:0,left:0,width:"".concat(S,"px"),height:"100%"},".monaco-editor":{"border-bottom-left-radius":k},".monaco-editor .overflow-guard":{"border-bottom-left-radius":k},".highlight":{backgroundColor:w["custom.findMatchHighlightBackground"]},"&&.meta-pressed .import-link:hover, &&.meta-pressed .import-link:hover + .import-link":{color:w["custom.fileLink.hoverForeground"],textDecoration:"underline",cursor:"pointer"},".risk-warning-primary":{backgroundColor:w["custom.riskWarning.primaryBackground"]},".risk-warning":{backgroundColor:w["custom.riskWarning.background"]}}),[S,w,k]),U=a.useCallback(()=>(0,n.jsx)(F.M,{bgColor:w["editor.background"],w:"100%",borderRadius:"md",children:"Oops! Something went wrong!"}),[w]);if(1===t.length){let e={...H,".monaco-editor":{"border-radius":k},".monaco-editor .overflow-guard":{"border-radius":k}};return(0,n.jsx)(c.xu,{height:"".concat(500,"px"),width:"100%",sx:e,ref:y,children:(0,n.jsx)(I.Z,{renderErrorScreen:U,children:(0,n.jsx)(L.ZP,{className:"editor-container",language:N,path:t[m].file_path,defaultValue:t[m].source_code,options:ef,onMount:B,loading:(0,n.jsx)(P,{borderRadius:"md"})})})})}return(0,n.jsx)(u.k,{className:f?"meta-pressed":void 0,width:"100%",height:"".concat(557,"px"),position:"relative",ref:y,sx:H,overflow:{base:"hidden",lg:"visible"},borderRadius:"md",onClick:V,onKeyDown:G,onKeyUp:q,children:(0,n.jsxs)(I.Z,{renderErrorScreen:U,children:[(0,n.jsxs)(c.xu,{flexGrow:1,children:[(0,n.jsx)(eg,{tabs:g,activeTab:t[m].file_path,mainFile:l,onTabSelect:D,onTabClose:A}),(0,n.jsx)(R,{path:t[m].file_path}),(0,n.jsx)(L.ZP,{className:"editor-container",height:"".concat(500,"px"),language:N,path:t[m].file_path,defaultValue:t[m].source_code,options:ef,onMount:B,loading:(0,n.jsx)(P,{borderBottomLeftRadius:"md"})})]}),(0,n.jsx)(em,{data:t,onFileSelect:z,monaco:s,editor:h,selectedFile:t[m].file_path,mainFile:l})]})})});function formatFilePath(e){return"."===e[0]&&"/"===e[1]?e.slice(1):"/"===e[0]?e:"/"+e}var ej=r(62723),ey=r(14418),e_=r(90634),ek=r(9140),eC=r(34151),ew=r(77374),eS=r(23438),eN=r(89076),eB=r(53948),ez=r(44416),eZ=r(20623);let Item=e=>(0,n.jsxs)(u.k,{flexDir:"column",py:2,w:"100%",rowGap:1,children:[(0,n.jsx)(c.xu,{children:e.name}),(0,n.jsx)(_.ZP,{address:{hash:e.address_hash,is_contract:!0,implementation_name:null},query:{tab:"contract"},fontSize:"sm",fontWeight:"500",target:"_blank"})]});var contract_ContractExternalLibraries=e=>{let{className:t,data:r}=e,{isOpen:a,onToggle:i,onClose:o}=(0,ej.q)(),l=(0,W.Z)();if(0===r.length)return null;let c=(0,n.jsxs)(s.z,{className:t,size:"sm",variant:"outline",colorScheme:"gray",onClick:i,fontWeight:600,px:2,"aria-label":"View external libraries",children:[(0,n.jsxs)("span",{children:[r.length," ",r.length>1?"Libraries":"Library"," "]}),(0,n.jsx)(et.Z,{name:"status/warning",boxSize:5,color:"orange.400",ml:"2px"}),(0,n.jsx)(et.Z,{name:"arrows/east-mini",transform:a?"rotate(90deg)":"rotate(-90deg)",transitionDuration:"faster",boxSize:5,ml:2})]}),u=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ey.X,{size:"sm",children:["External libraries (",r.length,")"]}),(0,n.jsxs)(d.b,{status:"warning",mt:4,children:["The linked library",Q.Iy,"s source code may not be the real one. Check the source code at the library address (if any) if you want to be sure in case if there is any library linked"]}),(0,n.jsx)(e_.g,{divider:(0,n.jsx)(ek.c,{borderColor:"divider"}),spacing:2,mt:4,children:r.map(e=>(0,n.jsx)(Item,{...e},e.address_hash))})]});return l?(0,n.jsxs)(n.Fragment,{children:[c,(0,n.jsx)(eC.u_,{isOpen:a,onClose:o,size:"full",children:(0,n.jsxs)(ew.h,{paddingTop:4,children:[(0,n.jsx)(eS.o,{}),u]})})]}):(0,n.jsxs)(eN.J,{isOpen:a,onClose:o,placement:"bottom-start",isLazy:!0,children:[(0,n.jsx)(eB.x,{children:c}),(0,n.jsx)(ez.y,{w:"400px",children:(0,n.jsx)(eZ.b,{children:u})})]})};let eT=[{id:"primary",label:"Proxy"},{id:"secondary",label:"Implementation"}];function getEditorData(e){if(!e||!e.source_code)return;let t=(()=>{switch(e.language){case"vyper":return"vy";case"yul":return"yul";default:return"sol"}})();return[{file_path:formatFilePath(e.file_path||"index.".concat(t)),source_code:e.source_code},...(e.additional_sources||[]).map(e=>({...e,file_path:formatFilePath(e.file_path)}))]}var eF=a.memo(e=>{var t,r,i,o,s,d,h,p,m,b,f,v,y,_,k,w,Z;let{address:T,implementationAddress:F}=e,[L,M]=a.useState("primary"),W=(0,g.Z)("contract",{pathParams:{hash:T},queryOptions:{enabled:!!T,refetchOnMount:!1,placeholderData:j.gd}}),I=(0,g.Z)("contract",{pathParams:{hash:F},queryOptions:{enabled:!!F,refetchOnMount:!1,placeholderData:j.gd}}),E=F?W.isPlaceholderData||I.isPlaceholderData:W.isPlaceholderData,O=a.useMemo(()=>getEditorData(W.data),[W.data]),R=a.useMemo(()=>I.isPlaceholderData?void 0:getEditorData(I.data),[I.data,I.isPlaceholderData]),D="secondary"===L?I.data:W.data,P="secondary"===L?R:O,A=(0,n.jsxs)(l.O,{isLoaded:!E,fontWeight:500,children:[(0,n.jsx)("span",{children:"Contract source code"}),(null==D?void 0:D.language)&&(0,n.jsxs)(S.x,{whiteSpace:"pre",as:"span",variant:"secondary",textTransform:"capitalize",children:[" (",D.language,")"]})]}),V=(()=>{if(null==D?void 0:D.can_be_visualized_via_sol2uml)return"secondary"===L?F:T})(),G=V?(0,n.jsx)(N.u,{label:"Visualize contract code using Sol2Uml JS library",children:(0,n.jsx)(C.Z,{href:(0,x.B)({pathname:"/visualize/sol2uml",query:{address:V}}),ml:{base:"0",lg:"auto"},children:(0,n.jsx)(l.O,{isLoaded:!E,children:"View UML diagram"})})}):null,q=(null==P?void 0:P.length)===1?(0,n.jsx)(z.Z,{text:P[0].source_code,isLoading:E,ml:{base:"auto",lg:G?"0":"auto"}}):null,H=a.useCallback(e=>{M(e.target.value)},[]),U=!I.isPlaceholderData&&(null===(t=I.data)||void 0===t?void 0:t.source_code)?(0,n.jsx)(B.P,{size:"xs",value:L,onChange:H,focusBorderColor:"none",w:"auto",fontWeight:600,borderRadius:"base",children:eT.map(e=>(0,n.jsx)("option",{value:e.id,children:e.label},e.id))}):null,K="secondary"===L?(null===(i=I.data)||void 0===i?void 0:i.external_libraries)&&(0,n.jsx)(contract_ContractExternalLibraries,{data:I.data.external_libraries}):(null===(r=W.data)||void 0===r?void 0:r.external_libraries)&&(0,n.jsx)(contract_ContractExternalLibraries,{data:W.data.external_libraries}),J=E?(0,n.jsx)(l.O,{h:"557px",w:"100%"}):O?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.xu,{display:"primary"===L?"block":"none",children:(0,n.jsx)(ev,{data:O,remappings:null===(s=W.data)||void 0===s?void 0:null===(o=s.compiler_settings)||void 0===o?void 0:o.remappings,libraries:null!==(_=null===(d=W.data)||void 0===d?void 0:d.external_libraries)&&void 0!==_?_:void 0,language:null!==(k=null===(h=W.data)||void 0===h?void 0:h.language)&&void 0!==k?k:void 0,mainFile:null===(p=O[0])||void 0===p?void 0:p.file_path})}),R&&(0,n.jsx)(c.xu,{display:"secondary"===L?"block":"none",children:(0,n.jsx)(ev,{data:R,remappings:null===(b=I.data)||void 0===b?void 0:null===(m=b.compiler_settings)||void 0===m?void 0:m.remappings,libraries:null!==(w=null===(f=I.data)||void 0===f?void 0:f.external_libraries)&&void 0!==w?w:void 0,language:null!==(Z=null===(v=I.data)||void 0===v?void 0:v.language)&&void 0!==Z?Z:void 0,mainFile:null==R?void 0:null===(y=R[0])||void 0===y?void 0:y.file_path})})]}):null;return O?(0,n.jsxs)("section",{children:[(0,n.jsxs)(u.k,{alignItems:"center",mb:3,columnGap:3,rowGap:2,flexWrap:"wrap",children:[A,U,K,G,q]}),J]}):null});let eL=(0,i.m)(e=>{let{label:t,value:r,className:a,isLoading:i}=e;return(0,n.jsxs)(o.P,{display:"flex",columnGap:6,wordBreak:"break-all",className:a,alignItems:"baseline",children:[(0,n.jsx)(l.O,{isLoaded:!i,w:"170px",flexShrink:0,fontWeight:500,children:t}),(0,n.jsx)(l.O,{isLoaded:!i,children:r})]})});var contract_ContractCode=e=>{var t;let{addressHash:r,noSocket:o}=e,[S,N]=a.useState(!1),[B,z]=a.useState(),Z=(0,m.NL)(),T=Z.getQueryData((0,g.$)("address",{pathParams:{hash:r}})),{data:F,isPlaceholderData:L,isError:M}=(0,g.Z)("contract",{pathParams:{hash:r},queryOptions:{enabled:!!r&&(o||S),refetchOnMount:!1,placeholderData:(null==T?void 0:T.is_verified)?j.gd:j.nz}}),W=a.useCallback(()=>{z(!0)},[]),I=a.useCallback(()=>{Z.refetchQueries({queryKey:(0,g.$)("address",{pathParams:{hash:r}})}),Z.refetchQueries({queryKey:(0,g.$)("contract",{pathParams:{hash:r}})})},[r,Z]),E=a.useCallback(()=>N(!0),[]),O=(0,f.Z)({topic:"addresses:".concat(null==r?void 0:r.toLowerCase()),isDisabled:!r,onJoin:E,onSocketError:E});if((0,v.Z)({channel:O,event:"changed_bytecode",handler:W}),(0,v.Z)({channel:O,event:"smart_contract_was_verified",handler:I}),M)return(0,n.jsx)(y.Z,{});let R=!(null==F?void 0:F.is_self_destructed)&&!(null==F?void 0:F.is_verified),D=L?(0,n.jsx)(l.O,{w:"130px",h:8,mr:(null==F?void 0:F.is_partially_verified)?0:3,ml:(null==F?void 0:F.is_partially_verified)?0:"auto",borderRadius:"base",flexShrink:0}):(0,n.jsx)(s.z,{size:"sm",mr:(null==F?void 0:F.is_partially_verified)?0:3,ml:(null==F?void 0:F.is_partially_verified)?0:"auto",flexShrink:0,as:"a",href:(0,x.B)({pathname:"/address/[hash]/contract-verification",query:{hash:r||""}}),children:"Verify & publish"}),P=(()=>{if(!(null==F?void 0:F.decoded_constructor_args))return null==F?void 0:F.constructor_args;let e=F.decoded_constructor_args.map((e,t)=>{let[r,{name:a,type:i}]=e,o="address"===i?(0,n.jsx)(_.ZP,{address:{hash:r},noIcon:!0,display:"inline-flex",maxW:"100%"}):(0,n.jsx)("span",{children:r});return(0,n.jsxs)(c.xu,{children:[(0,n.jsxs)("span",{children:["Arg [",t,"] ",a||""," (",i,"): "]}),o]},t)});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:F.constructor_args}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),e]})})(),A=(null==F?void 0:F.is_verified_via_eth_bytecode_db)?(0,n.jsxs)(d.b,{status:"warning",whiteSpace:"pre-wrap",flexWrap:"wrap",children:[(0,n.jsxs)("span",{children:["This contract has been ",F.is_partially_verified?"partially ":"","verified using "]}),(0,n.jsx)(k.Z,{href:"https://docs.blockscout.com/about/features/ethereum-bytecode-database-microservice",fontSize:"md",children:"Blockscout Bytecode Database"})]}):(null==F?void 0:F.is_verified_via_sourcify)?(0,n.jsxs)(d.b,{status:"warning",whiteSpace:"pre-wrap",flexWrap:"wrap",children:[(0,n.jsxs)("span",{children:["This contract has been ",F.is_partially_verified?"partially ":"","verified via Sourcify. "]}),F.sourcify_repo_url&&(0,n.jsx)(k.Z,{href:F.sourcify_repo_url,fontSize:"md",children:"View contract in Sourcify repository"})]}):null;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.k,{flexDir:"column",rowGap:2,mb:6,_empty:{display:"none"},children:[(null==F?void 0:F.is_verified)&&(0,n.jsx)(l.O,{isLoaded:!L,children:(0,n.jsxs)(d.b,{status:"success",flexWrap:"wrap",rowGap:3,columnGap:5,children:[(0,n.jsxs)("span",{children:["Contract Source Code Verified (",F.is_partially_verified?"Partial":"Exact"," Match)"]}),F.is_partially_verified?D:null]})}),A,((null==F?void 0:F.is_changed_bytecode)||B)&&(0,n.jsx)(d.b,{status:"warning",children:"Warning! Contract bytecode has been changed and does not match the verified one. Therefore, interaction with this smart contract may be risky."}),!(null==F?void 0:F.is_verified)&&(null==F?void 0:F.verified_twin_address_hash)&&!(null==F?void 0:F.minimal_proxy_address_hash)&&(0,n.jsxs)(d.b,{status:"warning",whiteSpace:"pre-wrap",flexWrap:"wrap",children:[(0,n.jsx)("span",{children:"Contract is not verified. However, we found a verified contract with the same bytecode in Blockscout DB "}),(0,n.jsx)(_.ZP,{address:{hash:F.verified_twin_address_hash,is_contract:!0,implementation_name:null},truncation:"constant",fontSize:"sm",fontWeight:"500"}),(0,n.jsx)(i.m.span,{mt:1,children:"All functions displayed below are from ABI of that contract. In order to verify current contract, proceed with "}),(0,n.jsx)(C.Z,{href:(0,x.B)({pathname:"/address/[hash]/contract-verification",query:{hash:r||""}}),children:"Verify & Publish"}),(0,n.jsx)("span",{children:" page"})]}),(null==F?void 0:F.minimal_proxy_address_hash)&&(0,n.jsxs)(d.b,{status:"warning",flexWrap:"wrap",whiteSpace:"pre-wrap",children:[(0,n.jsx)("span",{children:"Minimal Proxy Contract for "}),(0,n.jsx)(_.ZP,{address:{hash:F.minimal_proxy_address_hash,is_contract:!0,implementation_name:null},truncation:"constant",fontSize:"sm",fontWeight:"500",noCopy:!0}),(0,n.jsx)("span",{children:". "}),(0,n.jsxs)(c.xu,{children:[(0,n.jsx)(h.r,{href:"https://eips.ethereum.org/EIPS/eip-1167",children:"EIP-1167"}),(0,n.jsx)("span",{children:" - minimal bytecode implementation that delegates all calls to a known address"})]})]})]}),(null==F?void 0:F.is_verified)&&(0,n.jsxs)(p.r,{templateColumns:{base:"1fr",lg:"1fr 1fr"},rowGap:4,columnGap:6,mb:8,children:[F.name&&(0,n.jsx)(eL,{label:"Contract name",value:F.name,isLoading:L}),F.compiler_version&&(0,n.jsx)(eL,{label:"Compiler version",value:F.compiler_version,isLoading:L}),F.evm_version&&(0,n.jsx)(eL,{label:"EVM version",value:F.evm_version,textTransform:"capitalize",isLoading:L}),"boolean"==typeof F.optimization_enabled&&(0,n.jsx)(eL,{label:"Optimization enabled",value:F.optimization_enabled?"true":"false",isLoading:L}),F.optimization_runs&&(0,n.jsx)(eL,{label:"Optimization runs",value:String(F.optimization_runs),isLoading:L}),F.verified_at&&(0,n.jsx)(eL,{label:"Verified at",value:(0,b.Z)(F.verified_at).format("llll"),wordBreak:"break-word",isLoading:L}),F.file_path&&(0,n.jsx)(eL,{label:"Contract file path",value:F.file_path,wordBreak:"break-word",isLoading:L})]}),(0,n.jsxs)(u.k,{flexDir:"column",rowGap:6,children:[P&&(0,n.jsx)(w.Z,{data:P,title:"Constructor Arguments",textareaMaxHeight:"200px",isLoading:L}),(null==F?void 0:F.source_code)&&(0,n.jsx)(eF,{address:r,implementationAddress:null!==(t=null==T?void 0:T.implementation_address)&&void 0!==t?t:void 0}),(null==F?void 0:F.compiler_settings)?(0,n.jsx)(w.Z,{data:JSON.stringify(F.compiler_settings,void 0,4),title:"Compiler Settings",textareaMaxHeight:"200px",isLoading:L}):null,(null==F?void 0:F.abi)&&(0,n.jsx)(w.Z,{data:JSON.stringify(F.abi,void 0,4),title:"Contract ABI",textareaMaxHeight:"200px",isLoading:L}),(null==F?void 0:F.creation_bytecode)&&(0,n.jsx)(w.Z,{data:F.creation_bytecode,title:"Contract creation code",rightSlot:R?D:null,beforeSlot:F.is_self_destructed?(0,n.jsx)(d.b,{status:"info",whiteSpace:"pre-wrap",mb:3,children:"Contracts that self destruct in their constructors have no contract code published and cannot be verified. Displaying the init data provided of the creating transaction."}):null,textareaMaxHeight:"200px",isLoading:L}),(null==F?void 0:F.deployed_bytecode)&&(0,n.jsx)(w.Z,{data:F.deployed_bytecode,title:"Deployed ByteCode",rightSlot:(null==F?void 0:F.creation_bytecode)||!R?null:D,textareaMaxHeight:"200px",isLoading:L})]})]})},eM=r(11163),eW=r(22099),eI=r(97526),eE=r(41701),eO=r.n(eE),eR=r(66261),eD=r(40156),eP=r(21673),eA=r(44831),eV=r(82572),eG=a.memo(e=>{let{data:t,index:r,id:i,addressHash:o,renderContent:l,tab:s}=e,d=a.useMemo(()=>"method_id"in t?eA.Z.app.baseUrl+(0,x.B)({pathname:"/address/[hash]",query:{hash:null!=o?o:"",tab:s},hash:t.method_id}):"",[o,t,s]),{hasCopied:u,onCopy:h}=(0,eD.V)(d,1e3),{isOpen:p,onOpen:m,onClose:g}=(0,ej.q)(),b=a.useCallback(e=>{e.stopPropagation(),h()},[h]);return(0,n.jsxs)(Y.Q,{as:"section",_first:{borderTopWidth:0},_last:{borderBottomWidth:0},children:[(0,n.jsx)(eR.W_,{as:"h2",name:"method_id"in t?"method_".concat(t.method_id):"",children:(0,n.jsxs)(X.K,{px:0,py:3,_hover:{bgColor:"inherit"},wordBreak:"break-all",textAlign:"left",children:["method_id"in t&&(0,n.jsx)(N.u,{label:u?"Copied!":"Copy link",isOpen:p||u,onClose:g,children:(0,n.jsx)(c.xu,{boxSize:5,color:"text_secondary",_hover:{color:"link_hovered"},mr:2,onClick:b,onMouseEnter:m,onMouseLeave:g,children:(0,n.jsx)(et.Z,{name:"link",boxSize:5})})}),(0,n.jsxs)(c.xu,{as:"span",fontWeight:500,mr:1,children:[r+1,". ","fallback"===t.type||"receive"===t.type?t.type:t.name]}),"fallback"===t.type&&(0,n.jsx)(eV.Z,{label:"The fallback function is executed on a call to the contract if none of the other functions match \n                    the given function signature, or if no data was supplied at all and there is no receive Ether function. \n                    The fallback function always receives data, but in order to also receive Ether it must be marked payable."}),"receive"===t.type&&(0,n.jsx)(eV.Z,{label:"The receive function is executed on a call to the contract with empty calldata. \n                    This is the function that is executed on plain Ether transfers (e.g. via .send() or .transfer()). \n                    If no such function exists, but a payable fallback function exists, the fallback function will be called on a plain Ether transfer. \n                    If neither a receive Ether nor a payable fallback function is present, \n                    the contract cannot receive Ether through regular transactions and throws an exception."}),(0,n.jsx)(eP.X,{})]})}),(0,n.jsx)(ee.H,{pb:4,pr:0,pl:"28px",w:"calc(100% - 6px)",children:l(t,r,i)})]})}),eq=a.memo(e=>{let{data:t,addressHash:r,renderItemContent:i,tab:o}=e,[l,s]=a.useState(1===t.length?[0]:[]),[d,p]=a.useState(0);a.useEffect(()=>{let e=window.location.hash.replace("#","");if(!e)return;let r=t.findIndex(t=>"method_id"in t&&t.method_id===e);r>-1&&(eR.OK.scrollTo("method_".concat(e),{duration:500,smooth:!0,offset:-100}),s([r]))},[t]);let m=a.useCallback(e=>{s(e)},[]),x=a.useCallback(()=>{t&&(l.length<t.length?s(eO()(0,t.length)):s([]))},[t,l.length]),g=a.useCallback(()=>{p(e=>e+1)},[]);return 0===t.length?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.k,{mb:3,children:[(0,n.jsx)(c.xu,{fontWeight:500,mr:"auto",children:"Contract information"}),t.length>1&&(0,n.jsxs)(h.r,{onClick:x,children:[l.length===t.length?"Collapse":"Expand"," all"]}),(0,n.jsx)(h.r,{onClick:g,ml:3,children:"Reset"})]}),(0,n.jsx)($.U,{allowMultiple:!0,position:"relative",onChange:m,index:l,children:t.map((e,t)=>(0,n.jsx)(eG,{data:e,id:d,index:t,addressHash:r,renderContent:i,tab:o},t))})]})}),eH=r(19500),contract_ContractConnectWallet=()=>{let{isModalOpening:e,isModalOpen:t,connect:r,disconnect:a,address:i,isWalletConnected:o}=(0,eH.Z)({source:"Smart contracts"}),l=(0,W.Z)(),c=o?(0,n.jsxs)(u.k,{columnGap:3,rowGap:3,alignItems:{base:"flex-start",lg:"center"},flexDir:{base:"column",lg:"row"},children:[(0,n.jsxs)(u.k,{alignItems:"center",children:[(0,n.jsx)("span",{children:"Connected to "}),(0,n.jsx)(_.ZP,{address:{hash:i},truncation:l?"constant":"dynamic",fontWeight:600,ml:2})]}),(0,n.jsx)(s.z,{onClick:a,size:"sm",variant:"outline",children:"Disconnect"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Disconnected"}),(0,n.jsx)(s.z,{ml:3,onClick:r,size:"sm",variant:"outline",isLoading:e||t,loadingText:"Connect wallet",children:"Connect wallet"})]});return(0,n.jsx)(d.b,{mb:6,status:i?"success":"warning",children:c})},eU=a.memo(()=>(0,n.jsx)(d.b,{status:"warning",mb:4,children:"Note: Contract with custom ABI is only meant for debugging purpose and it is the user’s responsibility to ensure that the provided ABI matches the contract, otherwise errors may occur or results returned may be incorrect. Blockscout is not responsible for any losses that arise from the use of Read & Write contract."})),eK=a.memo(e=>{let{hash:t}=e,r=(0,m.NL)(),a=r.getQueryData((0,g.$)("address",{pathParams:{hash:t}}));return(null==a?void 0:a.implementation_address)?(0,n.jsxs)(u.k,{mb:6,flexWrap:"wrap",columnGap:2,children:[(0,n.jsx)("span",{children:"Implementation address:"}),(0,n.jsx)(_.ZP,{address:{hash:a.implementation_address,is_contract:!0},noIcon:!0,noCopy:!0})]}):null}),eJ=r(87536),eQ=r(85786),e$=r(70654),eY=r(57333),eX=r(49321),e0=r(45775),e1=r(15102),e2=r(37362),e3=r(49598),e4=r(5197),e5=a.memo(e=>{let{onClick:t,isDisabled:r}=e,[o,l]=a.useState(18),[c,d]=a.useState(),{isOpen:u,onToggle:h,onClose:p}=(0,ej.q)(),m=a.useCallback(e=>{let t=Number(e.currentTarget.getAttribute("data-id"));Object.is(t,NaN)||(l(e=>e===t?void 0:t),d(void 0),p())},[p]),x=a.useCallback(e=>{d(Number(e.target.value)),l(void 0)},[]),g=o||c,b=a.useCallback(()=>{g&&t(g)},[t,g]);return(0,n.jsxs)(n.Fragment,{children:[!!g&&(0,n.jsxs)(s.z,{px:1,lineHeight:6,h:6,fontWeight:500,ml:1,variant:"subtle",colorScheme:"gray",display:"inline",onClick:b,isDisabled:r,children:[Q.DZ,(0,n.jsx)(i.m.span,{children:"10"}),(0,n.jsx)(i.m.span,{fontSize:"xs",lineHeight:4,verticalAlign:"super",children:g})]}),(0,n.jsxs)(eN.J,{placement:"bottom-end",isLazy:!0,isOpen:u,onClose:p,children:[(0,n.jsx)(eB.x,{children:(0,n.jsx)(s.z,{variant:"subtle",colorScheme:"gray",size:"xs",cursor:"pointer",ml:1,p:0,onClick:h,isDisabled:r,children:(0,n.jsx)(et.Z,{name:"arrows/east-mini",transform:u?"rotate(90deg)":"rotate(-90deg)",boxSize:6})})}),(0,n.jsx)(e3.h,{children:(0,n.jsx)(ez.y,{w:"110px",children:(0,n.jsx)(eZ.b,{py:2,children:(0,n.jsxs)(e4.aV,{children:[[8,12,16,18,20].map(e=>(0,n.jsxs)(e4.HC,{py:2,"data-id":e,onClick:m,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",children:[(0,n.jsxs)("span",{children:["10*",e]}),o===e&&(0,n.jsx)(et.Z,{name:"check",boxSize:6,color:"blue.600"})]},e)),(0,n.jsxs)(e4.HC,{py:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)("span",{children:"10*"}),(0,n.jsx)(es.I,{type:"number",min:0,max:100,ml:3,size:"xs",onChange:x,value:c||""})]})]})})})})]})]})}),e6=r(66604),e8=r.n(e6);let e9=/^(u)?int(\d+)?$/i,e7=/^bytes(\d+)?$/i,te=/^(.*)\[(\d*)\]$/,getIntBoundaries=(e,t)=>{let r=2**e;return[t?0:-r/2,t?r-1:r/2-1]},formatBooleanValue=e=>{let t=e.toLowerCase();switch(t){case"true":case"1":return"true";case"false":case"0":return"false";default:return}},getNativeCoinValue=e=>{let t=Array.isArray(e)?e[0]:e;return"string"!=typeof t?BigInt(0):BigInt(t)};function castValue(e,t){if("bool"===t)return"true"===formatBooleanValue(e);let r=t.match(e9);if(r)return e.replaceAll(" ","");let n=(t.match(/\[/g)||[]).length>1;return n&&function(e){try{let t=JSON.parse(e);if(Array.isArray(t))return t;throw Error("Not an array")}catch(e){return""}}(e)||e}var tt=a.memo(e=>{let{control:t,name:r,groupName:i,index:o,argType:l,placeholder:s,setValue:d,getValues:u,isDisabled:h,isOptional:p,onChange:m}=e,x=a.useRef(null),g=(0,Z.ff)("white","black"),b=a.useCallback(()=>{var e;d(r,""),m(),null===(e=x.current)||void 0===e||e.focus()},[r,m,d]),f=a.useCallback(e=>{let t=i&&void 0!==o?u()[i][o]:u()[r],n=Array(e).fill("0").join("");d(r,t?t+n:"1"+n),m()},[u,i,o,r,m,d]),v=a.useMemo(()=>{let e=l.match(e9);if(!e)return null;let[,t,r="256"]=e,[n,a]=getIntBoundaries(Number(r),!!t);return{isUnsigned:t,power:r,min:n,max:a}},[l]),j=a.useMemo(()=>l.match(e7),[l]),y=a.useCallback(e=>{var t;let{field:a,formState:l}=e,d=void 0!==o&&void 0!==i?null===(t=l.errors[i])||void 0===t?void 0:t[o]:l.errors[r],u=v&&Number(v.power)>=64;return(0,n.jsxs)(c.xu,{w:"100%",children:[(0,n.jsx)(e$.NI,{id:r,isDisabled:h,children:(0,n.jsxs)(el.B,{size:"xs",children:[(0,n.jsx)(es.I,{...a,...v?{as:eY.h3,thousandSeparator:" ",decimalScale:0,allowNegative:!v.isUnsigned}:{},ref:x,isInvalid:!!d,required:!p,placeholder:s,paddingRight:u?"120px":"40px",autoComplete:"off",bgColor:g}),(0,n.jsxs)(ec.x,{w:"auto",right:1,children:["string"==typeof a.value&&a.value.replace("\n","")&&(0,n.jsx)(e2.Z,{onClick:b,isDisabled:h}),u&&(0,n.jsx)(e5,{onClick:f,isDisabled:h})]})]})}),d&&(0,n.jsx)(c.xu,{color:"error",fontSize:"sm",mt:1,children:d.message})]})},[o,i,r,v,h,p,s,g,b,f]),_=a.useCallback(e=>{if("object"==typeof e||!e)return;let t=e.replace("\n","");if(!t&&!p)return"Field is required";if("address"===l){if(!(0,eX.U)(t))return"Invalid address format";let e=t===t.toLowerCase();return!!e||(0,e0.K)(t)===t||"Invalid address checksum"}if(v){let e=Number(t.replace(/\s/g,""));if(Object.is(e,NaN))return"Invalid integer format";if(e>v.max||e<v.min){let e=v.isUnsigned?"0":"-1 * 2 ^ ".concat(Number(v.power)/2),t=v.isUnsigned?"2 ^ ".concat(v.power," - 1"):"2 ^ ".concat(Number(v.power)/2," - 1");return'Value should be in range from "'.concat(e,'" to "').concat(t,'" inclusively')}return!0}if("bool"===l){let e=formatBooleanValue(t);if(void 0===e)return"Invalid boolean format. Allowed values: 0, 1, true, false"}if(j){let[,e]=j;if(!(0,e1.v)(t))return"Invalid bytes format";if(e){let r=t.replace("0x","").length/2;return r===Number(e)||"Value should be ".concat(e," bytes in length")}}return!0},[p,l,v,j]);return(0,n.jsx)(eJ.Qr,{name:r,control:t,render:y,rules:{required:!p&&"Field is required",validate:_}})}),tr=r(89154),tn=a.memo(e=>{let{control:t,name:r,setValue:i,getValues:o,isDisabled:l,argType:s,onChange:c,size:d}=e,{fields:h,append:p,remove:m}=(0,eJ.Dq)({name:r,control:t});a.useEffect(()=>{if(0===h.length){if(d===1/0)p("");else for(let e=0;e<d-1;e++)p("\n")}},[h.length,p,d]);let x=a.useCallback(()=>{p("")},[p]),g=a.useCallback(e=>{let t=e.currentTarget.getAttribute("data-index");t&&m(Number(t))},[m]);return(0,n.jsx)(u.k,{flexDir:"column",rowGap:3,w:"100%",children:h.map((e,a,h)=>(0,n.jsxs)(u.k,{columnGap:3,children:[(0,n.jsx)(tt,{name:"".concat(r,"[").concat(a,"]"),groupName:r,index:a,argType:s,placeholder:s,control:t,setValue:i,getValues:o,isDisabled:l,onChange:c}),h.length>1&&d===1/0&&(0,n.jsx)(tr.h,{"aria-label":"remove","data-index":a,variant:"outline",w:"30px",h:"30px",flexShrink:0,onClick:g,icon:(0,n.jsx)(et.Z,{name:"minus",boxSize:4}),isDisabled:l}),a===h.length-1&&d===1/0&&(0,n.jsx)(tr.h,{"aria-label":"add","data-index":a,variant:"outline",w:"30px",h:"30px",flexShrink:0,onClick:x,icon:(0,n.jsx)(et.Z,{name:"plus",boxSize:4}),isDisabled:l})]},e.id))})}),ta=a.memo(e=>{let{argName:t,fieldName:r,fieldType:a,argType:i,onChange:o,isDisabled:l,isGrouped:s,isOptional:d}=e,{control:h,getValues:p,setValue:m}=(0,eJ.Gc)(),x=i.match(te),g=(0,Z.ff)("blackAlpha.50","whiteAlpha.100"),b=x?(0,n.jsx)(tn,{name:r,argType:x[1],size:Number(x[2]||1/0),control:h,setValue:m,getValues:p,isDisabled:l,onChange:o}):(0,n.jsx)(tt,{name:r,argType:i,placeholder:i,control:h,setValue:m,getValues:p,isDisabled:l,isOptional:d,onChange:o}),f="native_coin"===a;return(0,n.jsxs)(u.k,{flexDir:{base:"column",lg:"row"},columnGap:3,rowGap:{base:2,lg:0},bgColor:f?g:void 0,py:f?1:void 0,px:f?"6px":void 0,mx:f?"-6px":void 0,borderRadius:"base",children:[(0,n.jsxs)(c.xu,{position:"relative",fontWeight:500,lineHeight:"20px",py:{lg:"6px"},fontSize:"sm",color:s?"text_secondary":"initial",wordBreak:"break-word",w:{lg:"250px"},flexShrink:0,children:[t,d?"":"*"," (",i,")"]}),b]})});let getFormFieldName=(e,t)=>"".concat(t?"".concat(t.name,"%").concat(t.index,":"):"").concat(e.name||"input","%").concat(e.index);var ti=a.memo(e=>{let{data:t,onSubmit:r,resultComponent:o,isWrite:l}=e,[d,h]=a.useState(),[p,m]=a.useState(!1),x=a.useMemo(()=>[..."inputs"in t?t.inputs:[],..."stateMutability"in t&&"payable"===t.stateMutability?[{name:"Send native ".concat(eA.Z.chain.currency.symbol||"coin"),type:"uint256",internalType:"uint256",fieldType:"native_coin"}]:[]],[t]),g=(0,eJ.cI)({mode:"onBlur"}),b=a.useCallback(()=>{m(!1)},[]),f=a.useCallback(()=>{d&&h(void 0)},[d]),v=a.useCallback(async e=>{let n=function(e,t){let r=e8()(e,(e,r)=>{let n=function(e,t){let r=e.split(":");if(1===r.length){let[,e]=r[0].split("%");return t[Number(e)].type}{var n;let e=r[0].split("%"),a=r[1].split("%");return null===(n=t[Number(e[1])].components)||void 0===n?void 0:n[Number(a[1])].type}}(r,t);if(!n)return e;if(Array.isArray(e)){let t=n.match(te);return t?e.map(e=>castValue(e,t[1])):e}return castValue(e,n)});return r}(e,x),a=function(e){let t=Object.entries(e).reduce((e,t)=>{let[r,n]=t,a=r.split(":");if(a.length>1){let t=a[0],[,r]=a[1].split("%");return void 0===e[t]&&(e[t]=[]),e[t][Number(r)]=n,e}return e[r]=n,e},{}),r=Object.entries(t).map(e=>{let[t,r]=e,[,n]=t.split("%");return[Number(n),r]}).sort((e,t)=>e[0]-t[0]).map(e=>{let[,t]=e;return t});return r}(n);h(void 0),m(!0),r(t,a).then(e=>{h(e)}).catch(e=>{h((null==e?void 0:e.error)||(null==e?void 0:e.data)||(null==e?void 0:e.reason)&&{message:e.reason}||e),m(!1)}).finally(()=>{eQ.Kz(eQ.GM.CONTRACT_INTERACTION,{"Method type":l?"Write":"Read","Method name":"name"in t?t.name:"Fallback"})})},[x,r,t,l]);return(0,n.jsxs)(c.xu,{children:[(0,n.jsx)(eJ.RV,{...g,children:(0,n.jsxs)(i.m.form,{noValidate:!0,onSubmit:g.handleSubmit(v),onChange:f,children:[(0,n.jsx)(u.k,{flexDir:"column",rowGap:3,mb:3,_empty:{display:"none"},children:x.map((e,t)=>{let r=getFormFieldName({name:e.name,index:t});return"tuple"===e.type&&e.components?(0,n.jsxs)(a.Fragment,{children:[0!==t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.xu,{h:{base:0,lg:3}}),(0,n.jsx)("div",{})]}),(0,n.jsxs)(c.xu,{fontWeight:500,lineHeight:"20px",py:{lg:"6px"},fontSize:"sm",wordBreak:"break-word",children:[e.name," (",e.type,")"]}),e.components.map((r,a)=>{let i=getFormFieldName({name:r.name,index:a},{name:e.name,index:t});return(0,n.jsx)(ta,{fieldName:i,argName:r.name,argType:r.type,isDisabled:p,onChange:f,isGrouped:!0},i)}),t!==x.length-1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.xu,{h:{base:0,lg:3}}),(0,n.jsx)("div",{})]})]},r):(0,n.jsx)(ta,{fieldName:r,fieldType:e.fieldType,argName:e.name,argType:e.type,isDisabled:p,isOptional:"native_coin"===e.fieldType&&x.length>1,onChange:f},r)})}),(0,n.jsx)(s.z,{isLoading:p,loadingText:l?"Write":"Read",variant:"outline",size:"sm",flexShrink:0,width:"min-content",px:4,type:"submit",children:l?"Write":"Read"})]})}),"outputs"in t&&!l&&t.outputs.length>0&&(0,n.jsxs)(u.k,{mt:3,fontSize:"sm",children:[(0,n.jsx)(et.Z,{name:"arrows/down-right",boxSize:5,mr:1}),(0,n.jsx)("p",{children:t.outputs.map((e,r)=>{let{type:a,name:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.m.span,{fontWeight:500,children:[o," "]}),(0,n.jsx)("span",{children:o?"(".concat(a,")"):a}),r<t.outputs.length-1&&(0,n.jsx)("span",{children:", "})]})})})]}),d&&(0,n.jsx)(o,{item:t,result:d,onSettle:b})]})}),to=r(15058),tl=r(70794),ts=r(7263),tc=r(38390);function castValueToString(e){switch(typeof e){case"string":return e;case"boolean":return String(e);case"undefined":return"";case"number":return e.toLocaleString(void 0,{useGrouping:!1});case"bigint":return e.toString();case"object":return JSON.stringify(e,void 0,2)}}var ContractMethodConstant=e=>{let{data:t}=e,[r,o]=a.useState(castValueToString(t.value)),[l,s]=a.useState(tc.Y.wei.toUpperCase()),c=a.useCallback(e=>{let r=castValueToString(t.value);e.target.checked?(o((0,tl.Z)(r).div(ts.sJ).toFixed()),s(tc.Y.ether.toUpperCase())):(o((0,tl.Z)(r).toFixed()),s(tc.Y.wei.toUpperCase()))},[t.value]),d="string"==typeof t.value&&"address"===t.type&&t.value?(0,n.jsx)(_.ZP,{address:{hash:t.value},noIcon:!0}):(0,n.jsxs)(i.m.span,{wordBreak:"break-all",whiteSpace:"pre-wrap",children:["(",t.type,"): ",String(r)]});return(0,n.jsxs)(u.k,{flexDir:{base:"column",lg:"row"},columnGap:2,rowGap:2,children:[d,(t.type.includes("int256")||t.type.includes("int128"))&&(0,n.jsx)(to.X,{onChange:c,children:l})]})},td=r(54700);let tu=/\[(.+)\]/,ContractReadResultError=e=>{let{children:t}=e;return(0,n.jsx)(d.b,{status:"error",mt:3,p:4,borderRadius:"md",fontSize:"sm",wordBreak:"break-word",whiteSpace:"pre-wrap",children:t})},ContractReadResultItem=e=>{let{output:t,name:r}=e;if(Array.isArray(r)){var a;let[e,o]=r,l=null===(a=t.type.match(tu))||void 0===a?void 0:a[1].split(",");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:[(0,n.jsxs)(i.m.span,{fontWeight:500,children:["  ",e]}),(0,n.jsxs)("span",{children:[" (",t.type,") :"]})]}),o.map((e,r)=>(0,n.jsxs)("p",{children:[(0,n.jsxs)(i.m.span,{fontWeight:500,children:["      ",e]}),(0,n.jsxs)("span",{children:[(null==l?void 0:l[r])?" (".concat(l[r],")"):""," : ",String(t.value[r])]})]},e))]})}return(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{children:"  "}),r&&(0,n.jsxs)(i.m.span,{fontWeight:500,children:[r," "]}),(0,n.jsxs)("span",{children:["(",t.type,") : ",String(t.value)]})]})};var th=a.memo(e=>{let{item:t,result:r,onSettle:o}=e,l=(0,Z.ff)("blackAlpha.50","whiteAlpha.50");return(a.useEffect(()=>{o()},[o]),"status"in r)?(0,n.jsx)(ContractReadResultError,{children:r.statusText}):r.is_error?"error"in r.result?(0,n.jsx)(ContractReadResultError,{children:r.result.error}):"message"in r.result?(0,n.jsxs)(ContractReadResultError,{children:["[",r.result.code,"] ",r.result.message]}):"raw"in r.result?(0,n.jsx)(ContractReadResultError,{children:"Revert reason: ".concat((0,td.Z)(r.result.raw))}):"method_id"in r.result?(0,n.jsx)(ContractReadResultError,{children:JSON.stringify(r.result,void 0,2)}):(0,n.jsx)(ContractReadResultError,{children:"Something went wrong."}):(0,n.jsxs)(c.xu,{mt:3,p:4,borderRadius:"md",bgColor:l,fontSize:"sm",whiteSpace:"break-spaces",wordBreak:"break-all",children:[(0,n.jsxs)("p",{children:["[ ",(0,n.jsx)(i.m.span,{fontWeight:500,children:"name"in t?t.name:""})," method response ]"]}),(0,n.jsx)("p",{children:"["}),r.result.output.map((e,t)=>(0,n.jsx)(ContractReadResultItem,{output:e,name:r.result.names[t]},t)),(0,n.jsx)("p",{children:"]"})]})}),tp=r(30438),tm=a.memo(()=>{let e=(0,eW.Z)(),t=function(){let[e,t]=a.useState(function(){try{return(0,tp.D0)()}catch(e){return null}}());return a.useEffect(()=>{if(e)return(0,tp.uH)(t)},[e]),e}(),r=(0,eM.useRouter)(),i=(0,eI.Z)(r.query.tab),o=(0,eI.Z)(r.query.hash),l="read_proxy"===i,s="read_custom_methods"===i,{data:c,isPending:h,isError:p}=(0,g.Z)(l?"contract_methods_read_proxy":"contract_methods_read",{pathParams:{hash:o},queryParams:{is_custom_abi:s?"true":"false",from:null==t?void 0:t.address},queryOptions:{enabled:!!o}}),m=a.useCallback(async(r,n)=>e("contract_method_query",{pathParams:{hash:o},queryParams:{is_custom_abi:s?"true":"false"},fetchParams:{method:"POST",body:{args:n,method_id:r.method_id,contract_type:l?"proxy":"regular",from:null==t?void 0:t.address}}}),[null==t?void 0:t.address,o,e,s,l]),x=a.useCallback((e,t,r)=>e.error?(0,n.jsx)(d.b,{status:"error",fontSize:"sm",wordBreak:"break-word",children:e.error}):e.outputs.some(e=>{let{value:t}=e;return null!=t})?(0,n.jsx)(u.k,{flexDir:"column",rowGap:1,children:e.outputs.map((e,t)=>(0,n.jsx)(ContractMethodConstant,{data:e},t))}):(0,n.jsx)(ti,{data:e,onSubmit:m,resultComponent:th},r+"_"+t),[m]);return p?(0,n.jsx)(y.Z,{}):h?(0,n.jsx)(D.Z,{}):0!==c.length||l?(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(eU,{}),t&&(0,n.jsx)(contract_ContractConnectWallet,{}),l&&(0,n.jsx)(eK,{hash:o}),(0,n.jsx)(eq,{data:c,addressHash:o,renderItemContent:x,tab:i})]}):(0,n.jsx)("span",{children:"No public read functions were found for this contract."})}),tx=r(38793),tg=r(295),tb=a.memo(e=>{let{result:t,onSettle:r,txInfo:o}=e,l=t&&"hash"in t?t.hash:void 0;if(a.useEffect(()=>{"loading"!==o.status&&r()},[r,o.status]),!t)return null;let s="message"in t,d=l?(0,n.jsx)(C.Z,{href:(0,x.B)({pathname:"/tx/[hash]",query:{hash:l}}),children:"View transaction details"}):null,u=(()=>{if(s)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Error: "}),(0,n.jsx)("span",{children:t.message})]});switch(o.status){case"success":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Transaction has been confirmed. "}),d]});case"loading":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tg.$,{size:"sm",mr:3}),(0,n.jsxs)(i.m.span,{verticalAlign:"text-bottom",children:["Waiting for transaction's confirmation. ",d]})]});case"error":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Error: "}),(0,n.jsxs)("span",{children:[o.error?o.error.message:"Something went wrong"," "]}),d]})}})();return(0,n.jsx)(c.xu,{fontSize:"sm",mt:3,alignItems:"center",whiteSpace:"pre-wrap",wordBreak:"break-all",color:"error"===o.status||s?"error":void 0,children:u})}),tf=a.memo(e=>{let{result:t,onSettle:r}=e,a=t&&"hash"in t?t.hash:void 0,i=(0,tx.BX)({hash:a});return(0,n.jsx)(tb,{result:t,onSettle:r,txInfo:i})}),tv=a.memo(()=>{let{data:e}=(0,tx.py)(),{isConnected:t}=(0,tx.mA)(),{chain:r}=(0,tx.LN)(),{switchNetworkAsync:i}=(0,tx.g0)(),o=(0,eM.useRouter)(),l=(0,eI.Z)(o.query.tab),s=(0,eI.Z)(o.query.hash),c="write_proxy"===l,d="write_custom_methods"===l,{data:u,isPending:h,isError:p}=(0,g.Z)(c?"contract_methods_write_proxy":"contract_methods_write",{pathParams:{hash:s},queryParams:{is_custom_abi:d?"true":"false"},queryOptions:{enabled:!!s}}),x=function(e){let{addressHash:t,isProxy:r,isCustomAbi:n}=e,i=(0,m.NL)(),{data:o}=(0,g.Z)("contract",{pathParams:{hash:t},queryOptions:{enabled:!!t,refetchOnMount:!1}}),l=i.getQueryData((0,g.$)("address",{pathParams:{hash:t}})),{data:s}=(0,g.Z)("contract",{pathParams:{hash:(null==l?void 0:l.implementation_address)||""},queryOptions:{enabled:!!(null==l?void 0:l.implementation_address),refetchOnMount:!1}}),{data:c}=(0,g.Z)("contract_methods_write",{pathParams:{hash:t},queryParams:{is_custom_abi:"true"},queryOptions:{enabled:!!(null==l?void 0:l.has_custom_methods_write),refetchOnMount:!1}});return a.useMemo(()=>{var e,t;return r?null!==(e=null==s?void 0:s.abi)&&void 0!==e?e:void 0:n?c:null!==(t=null==o?void 0:o.abi)&&void 0!==t?t:void 0},[null==o?void 0:o.abi,c,n,r,null==s?void 0:s.abi])}({addressHash:s,isProxy:c,isCustomAbi:d}),b=a.useCallback(async(n,a)=>{if(!t)throw Error("Wallet is not connected");if((null==r?void 0:r.id)&&String(r.id)!==eA.Z.chain.id&&await (null==i?void 0:i(Number(eA.Z.chain.id))),!x)throw Error("Something went wrong. Try again later.");if("receive"===n.type||"fallback"===n.type){let t=getNativeCoinValue(a[0]),r=await (null==e?void 0:e.sendTransaction({to:s,value:t}));return{hash:r}}let o="stateMutability"in n&&"payable"===n.stateMutability?a.slice(0,-1):a,l="stateMutability"in n&&"payable"===n.stateMutability?getNativeCoinValue(a[a.length-1]):void 0,c=n.name;if(!c)throw Error("Method name is not defined");let d=function(e,t){if("name"in t){let r=e.filter(e=>"name"in e&&e.name===t.name).length>1;if(r)return e.filter(e=>!("name"in e)||e.name!==t.name||e.inputs.length===t.inputs.length&&e.inputs.every(e=>{let{name:r,type:n}=e,a=t.inputs.find(e=>e.name===r);return!!a&&(null==a?void 0:a.type)===n}))}return e}(x,n),u=await (null==e?void 0:e.writeContract({args:o,abi:d,functionName:c,address:s,value:l}));return{hash:u}},[t,r,x,e,s,i]),f=a.useCallback((e,t,r)=>(0,n.jsx)(ti,{data:e,onSubmit:b,resultComponent:tf,isWrite:!0},r+"_"+t),[b]);return p?(0,n.jsx)(y.Z,{}):h?(0,n.jsx)(D.Z,{}):0!==u.length||c?(0,n.jsxs)(n.Fragment,{children:[d&&(0,n.jsx)(eU,{}),(0,n.jsx)(contract_ContractConnectWallet,{}),c&&(0,n.jsx)(eK,{hash:s}),(0,n.jsx)(eq,{data:u,addressHash:s,renderItemContent:f,tab:l})]}):(0,n.jsx)("span",{children:"No public write functions were found for this contract."})});function useContractTabs(e){return a.useMemo(()=>[{id:"contact_code",title:"Code",component:(0,n.jsx)(contract_ContractCode,{addressHash:null==e?void 0:e.hash})},(null==e?void 0:e.has_methods_read)?{id:"read_contract",title:"Read contract",component:(0,n.jsx)(tm,{})}:void 0,(null==e?void 0:e.has_methods_read_proxy)?{id:"read_proxy",title:"Read proxy",component:(0,n.jsx)(tm,{})}:void 0,(null==e?void 0:e.has_custom_methods_read)?{id:"read_custom_methods",title:"Read custom",component:(0,n.jsx)(tm,{})}:void 0,(null==e?void 0:e.has_methods_write)?{id:"write_contract",title:"Write contract",component:(0,n.jsx)(tv,{})}:void 0,(null==e?void 0:e.has_methods_write_proxy)?{id:"write_proxy",title:"Write proxy",component:(0,n.jsx)(tv,{})}:void 0,(null==e?void 0:e.has_custom_methods_write)?{id:"write_custom_methods",title:"Write custom",component:(0,n.jsx)(tv,{})}:void 0].filter(Boolean),[e])}},32841:function(e,t,r){r.d(t,{FH:function(){return l},gd:function(){return i},nz:function(){return a},qQ:function(){return o}});var n=r(93027);let a={creation_bytecode:"0x60806040526e",deployed_bytecode:"0x608060405233",is_self_destructed:!1},i={abi:[],additional_sources:[],can_be_visualized_via_sol2uml:!0,compiler_settings:{compilationTarget:{"contracts/StubContract.sol":"StubContract"},evmVersion:"london",libraries:{},metadata:{bytecodeHash:"ipfs"},optimizer:{enabled:!1,runs:200},remappings:[]},compiler_version:"v0.8.7+commit.e28d00a7",creation_bytecode:"0x6080604052348",deployed_bytecode:"0x60806040",evm_version:"london",external_libraries:[],file_path:"contracts/StubContract.sol",is_verified:!0,name:"StubContract",optimization_enabled:!1,optimization_runs:200,source_code:"source_code",verified_at:"2023-02-21T14:39:16.906760Z"},o={address:{...n.k,name:"StubContract"},coin_balance:"30319033612988277",compiler_version:"v0.8.17+commit.8df45f5f",has_constructor_args:!0,language:"solidity",market_cap:null,optimization_enabled:!1,tx_count:565058,verified_at:"2023-04-10T13:16:33.884921Z"},l={scan_report:{scan_status:"scan_done",scan_summary:{issue_severity_distribution:{critical:0,gas:1,high:0,informational:0,low:2,medium:0},lines_analyzed_count:18,scan_time_taken:1,score:"3.61",score_v2:"72.22",threat_score:"94.74"},scanner_reference_url:"https://solidityscan.com/quickscan/0xc1EF7811FF2ebFB74F80ed7423f2AdAA37454be2/blockscout/eth-goerli?ref=blockscout"}}},90019:function(e,t,r){var n=r(85893),a=r(67294),i=r(10814),o=r(36399);let l={columnGap:3};t.Z=a.memo(e=>{let{tabs:t}=e,r=a.useCallback(()=>{let e=t.filter(e=>{let{id:t}=e;return"contact_code"===t||t.startsWith("read_")});return(0,n.jsx)(i.Z,{tabs:e,variant:"outline",colorScheme:"gray",size:"sm",tabListProps:l})},[t]);return(0,n.jsx)(o.Z,{fallback:r,children:(0,n.jsx)(i.Z,{tabs:t,variant:"outline",colorScheme:"gray",size:"sm",tabListProps:l})})})},23551:function(e,t,r){var n=r(85893),a=r(62723),i=r(89076),o=r(53948),l=r(44416),s=r(20623),c=r(204),d=r(75350),u=r(67294),h=r(55036),p=r(95204);t.Z=u.memo((0,d.m)(e=>{let{className:t,data:r,tagsBefore:d=[],tagsAfter:u=[],isLoading:m,contentAfter:x}=e,g=(0,h.Z)(),{isOpen:b,onToggle:f,onClose:v}=(0,a.q)(),j=[...d,...(null==r?void 0:r.private_tags)||[],...(null==r?void 0:r.public_tags)||[],...(null==r?void 0:r.watchlist_names)||[],...u].filter(Boolean);if(0===j.length&&!x)return null;let y=g&&j.length>2?(0,n.jsxs)(n.Fragment,{children:[j.slice(0,2).map(e=>(0,n.jsx)(p.Z,{isLoading:m,isTruncated:!0,maxW:{base:"115px",lg:"initial"},colorScheme:"colorScheme"in e?e.colorScheme:"gray",variant:"variant"in e?e.variant:"subtle",children:e.display_name},e.label)),(0,n.jsxs)(i.J,{isOpen:b,onClose:v,placement:"bottom-start",isLazy:!0,children:[(0,n.jsx)(o.x,{children:(0,n.jsxs)(p.Z,{onClick:f,children:["+",j.length-1]})}),(0,n.jsx)(l.y,{w:"240px",children:(0,n.jsx)(s.b,{children:(0,n.jsx)(c.k,{columnGap:2,rowGap:2,flexWrap:"wrap",children:j.slice(2).map(e=>(0,n.jsx)(p.Z,{colorScheme:"colorScheme"in e?e.colorScheme:"gray",variant:"variant"in e?e.variant:"subtle",children:e.display_name},e.label))})})})]})]}):j.map(e=>(0,n.jsx)(p.Z,{isLoading:m,isTruncated:!0,maxW:{base:"115px",lg:"initial"},colorScheme:"colorScheme"in e?e.colorScheme:"gray",variant:"variant"in e?e.variant:"subtle",children:e.display_name},e.label));return(0,n.jsxs)(c.k,{className:t,columnGap:2,rowGap:2,flexWrap:"wrap",alignItems:"center",flexGrow:1,children:[y,x]})}))},93274:function(e,t,r){var n=r(85893),a=r(62723),i=r(89076),o=r(53948),l=r(96272),s=r(44416),c=r(20623),d=r(75350),u=r(204),h=r(67294),p=r(44831),m=r(32957),x=r(96026),g=r(30721);t.Z=h.memo((0,d.m)(e=>{let{className:t,type:r,pathParam:b}=e,{isOpen:f,onToggle:v,onClose:j}=(0,a.q)(),y=h.useMemo(()=>p.Z.UI.explorers.items.filter(e=>"string"==typeof e.paths[r]).map(e=>{let t=new URL((0,m.Z)(e.paths[r]||"")+"/"+b,e.baseUrl);return(0,n.jsx)(g.Z,{href:t.toString(),children:e.title},e.baseUrl)}),[b,r]);return 0===y.length?null:(0,n.jsxs)(i.J,{isOpen:f,onClose:j,placement:"bottom-start",isLazy:!0,children:[(0,n.jsx)(o.x,{children:(0,n.jsxs)(l.z,{className:t,size:"sm",variant:"outline",colorScheme:"gray",onClick:v,"aria-label":"Verify in other explorers",fontWeight:500,px:2,h:"32px",flexShrink:0,children:[(0,n.jsx)(x.Z,{name:"explorer",boxSize:5}),(0,n.jsx)(x.Z,{name:"arrows/east-mini",transform:f?"rotate(90deg)":"rotate(-90deg)",transitionDuration:"faster",boxSize:5})]})}),(0,n.jsx)(s.y,{w:"240px",children:(0,n.jsxs)(c.b,{children:[(0,n.jsx)(d.m.span,{color:"text_secondary",fontSize:"xs",children:"Verify with other explorers"}),(0,n.jsx)(u.k,{alignItems:"center",flexWrap:"wrap",columnGap:6,rowGap:3,mt:3,children:y})]})})]})}))},58395:function(e,t,r){var n=r(85893),a=r(12498),i=r(47523),o=r(204);r(67294);var l=r(96026);t.Z=e=>{let{onClick:t}=e,r=(0,a.ff)("blue.600","blue.300"),s=(0,a.ff)("blue.400","blue.200");return(0,n.jsx)(i.u,{label:"Reset filter",children:(0,n.jsx)(o.k,{children:(0,n.jsx)(l.Z,{name:"cross",boxSize:5,ml:1,color:r,cursor:"pointer",_hover:{color:s},onClick:t})})})}}}]);
//# sourceMappingURL=6460.96eccabfcb5d4696.js.map