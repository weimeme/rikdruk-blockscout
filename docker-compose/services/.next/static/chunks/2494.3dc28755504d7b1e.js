(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2494],{67762:function(e){e.exports=function(e,s){for(var t,a=-1,n=e.length;++a<n;){var i=s(e[a]);void 0!==i&&(t=void 0===t?i:t+i)}return t}},9841:function(e,s,t){var a=t(33448),n=0/0;e.exports=function(e){return"number"==typeof e?e:a(e)?n:+e}},67273:function(e,s,t){var a=t(9841),n=t(80531);e.exports=function(e,s){return function(t,i){var r;if(void 0===t&&void 0===i)return s;if(void 0!==t&&(r=t),void 0!==i){if(void 0===r)return i;"string"==typeof t||"string"==typeof i?(t=n(t),i=n(i)):(t=a(t),i=a(i)),r=e(t,i)}return r}}},20874:function(e,s,t){var a=t(67273)(function(e,s){return e+s},0);e.exports=a},74432:function(e,s,t){var a=t(92822)("add",t(20874));a.placeholder=t(69306),e.exports=a},73303:function(e,s,t){var a=t(67206),n=t(67762);e.exports=function(e,s){return e&&e.length?n(e,a(s,2)):0}},64389:function(e,s,t){"use strict";t.d(s,{Z:function(){return getBlockTotalReward}});var a=t(70794),n=t(7263);function getBlockTotalReward(e){var s;let t=(null===(s=e.rewards)||void 0===s?void 0:s.map(e=>{let{reward:s}=e;return(0,a.Z)(s)}).reduce((e,s)=>e.plus(s),n.xE))||n.xE;return t.div(n.sJ)}},65812:function(e,s,t){"use strict";t.d(s,{Z:function(){return usePreventFocusAfterModalClosing}});var a=t(67294);function usePreventFocusAfterModalClosing(){return a.useCallback(e=>e.stopPropagation(),[])}},16471:function(e,s,t){"use strict";t.d(s,{v:function(){return n}});var a=t(93027);let n={amount:"12565723",index:3810697,receiver:a.k,validator_index:25987,block_number:9005713,timestamp:"2023-05-12T19:29:12.000000Z"}},40146:function(e,s,t){"use strict";t.d(s,{k:function(){return a}});let a=["from","to"]},12494:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Address}});var a=t(85893),n=t(204),i=t(24804),r=t(23100),o=t(11163),l=t(67294),d=t(44831),c=t(36217),h=t(21260),u=t(37013),x=t(83757),m=t(89321);let p=d.Z.features.safe;var g=t(97526),j=t(52726),f=t(720),b=t(36557),v=t(36526),_=t(75421),k=t(28650),y=t(83686),w=t(30202),Z=t(14335),C=t(9095),L=t(38390),S=t(71956),T=t(48572),P=t(58244),A=t(39468),E=t(52323),F=t(5737),I=t(31507),D=t(88911),R=t(33838),N=t(75350),O=(0,N.m)(e=>{let{className:s}=e;return(0,a.jsxs)(I.b,{status:"warning",className:s,children:[(0,a.jsx)(D.x,{whiteSpace:"pre",children:"Connection lost, click "}),(0,a.jsx)(R.r,{href:window.document.location.href,children:"to load newer records"})]})}),z=t(87900),W=t(93344),q=t(70794),G=t(64389),B=t(46491),V=t(88841),M=t(40299),U=t(23310),Q=l.memo(e=>{var s;let t=(0,B.Z)(e.timestamp,1===e.page),i=(0,G.Z)(e);return(0,a.jsxs)(M.Z,{rowGap:2,isAnimated:!0,children:[(0,a.jsxs)(n.k,{justifyContent:"space-between",w:"100%",children:[(0,a.jsx)(V.ZP,{isLoading:e.isLoading,number:e.height,noIcon:!0,fontWeight:700}),(0,a.jsx)(W.O,{isLoaded:!e.isLoading,color:"text_secondary",display:"inline-block",children:(0,a.jsx)("span",{children:t})})]}),(0,a.jsxs)(n.k,{columnGap:2,w:"100%",children:[(0,a.jsx)(W.O,{isLoaded:!e.isLoading,fontWeight:500,flexShrink:0,children:"Txn"}),(0,a.jsx)(W.O,{isLoaded:!e.isLoading,display:"inline-block",color:"Skeleton_secondary",children:(0,a.jsx)("span",{children:e.tx_count})})]}),(0,a.jsxs)(n.k,{columnGap:2,w:"100%",children:[(0,a.jsx)(W.O,{isLoaded:!e.isLoading,fontWeight:500,flexShrink:0,children:"Gas used"}),(0,a.jsx)(W.O,{isLoaded:!e.isLoading,color:"text_secondary",children:(0,q.Z)(e.gas_used||0).toFormat()}),(0,a.jsx)(U.Z,{colorScheme:"gray",value:(0,q.Z)(e.gas_used||0).dividedBy((0,q.Z)(e.gas_limit)).toNumber(),isLoading:e.isLoading})]}),!(null===(s=d.Z.UI.views.block.hiddenFields)||void 0===s?void 0:s.total_reward)&&(0,a.jsxs)(n.k,{columnGap:2,w:"100%",children:[(0,a.jsxs)(W.O,{isLoaded:!e.isLoading,fontWeight:500,flexShrink:0,children:["Reward ",L.Y.ether]}),(0,a.jsx)(W.O,{isLoaded:!e.isLoading,color:"text_secondary",children:i.toFixed()})]})]})}),H=t(577),Y=l.memo(e=>{var s;let t=(0,B.Z)(e.timestamp,1===e.page),i=(0,G.Z)(e);return(0,a.jsxs)(v.Tr,{children:[(0,a.jsx)(H.Td,{children:(0,a.jsx)(V.ZP,{isLoading:e.isLoading,number:e.height,noIcon:!0,fontSize:"sm",lineHeight:5,fontWeight:700})}),(0,a.jsx)(H.Td,{children:(0,a.jsx)(W.O,{isLoaded:!e.isLoading,color:"text_secondary",display:"inline-block",children:(0,a.jsx)("span",{children:t})})}),(0,a.jsx)(H.Td,{children:(0,a.jsx)(W.O,{isLoaded:!e.isLoading,display:"inline-block",fontWeight:"500",children:(0,a.jsx)("span",{children:e.tx_count})})}),(0,a.jsx)(H.Td,{children:(0,a.jsxs)(n.k,{alignItems:"center",columnGap:2,children:[(0,a.jsx)(W.O,{isLoaded:!e.isLoading,flexBasis:"80px",children:(0,q.Z)(e.gas_used||0).toFormat()}),(0,a.jsx)(U.Z,{colorScheme:"gray",value:(0,q.Z)(e.gas_used||0).dividedBy((0,q.Z)(e.gas_limit)).toNumber(),isLoading:e.isLoading})]})}),!(null===(s=d.Z.UI.views.block.hiddenFields)||void 0===s?void 0:s.total_reward)&&(0,a.jsx)(H.Td,{isNumeric:!0,display:"flex",justifyContent:"end",children:(0,a.jsx)(W.O,{isLoaded:!e.isLoading,display:"inline-block",children:(0,a.jsx)("span",{children:i.toFixed()})})})]})}),$=l.memo(e=>{var s,t,n;let{scrollRef:i}=e,[r,h]=l.useState(!1),u=(0,w.NL)(),x=(0,o.useRouter)(),m=String(x.query.hash),p=(0,F.Z)({resourceName:"address_blocks_validated",pathParams:{hash:m},scrollRef:i,options:{placeholderData:(0,T.F)(S.x,50,{next_page_params:{block_number:9060562,items_count:50}})}}),g=l.useCallback(()=>{h(!0)},[]),j=l.useCallback(e=>{h(!1),u.setQueryData((0,c.$)("address_blocks_validated",{pathParams:{hash:m}}),s=>{if(s)return{...s,items:[e.block,...s.items]}})},[m,u]),I=(0,Z.Z)({topic:"blocks:".concat(m.toLowerCase()),onSocketClose:g,onSocketError:g,isDisabled:!m||p.isPlaceholderData||1!==p.pagination.page});(0,C.Z)({channel:I,event:"new_block",handler:j});let D=(null===(s=p.data)||void 0===s?void 0:s.items)?(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)(O,{mb:6}),(0,a.jsx)(f.c,{below:"lg",ssr:!1,children:(0,a.jsxs)(b.i,{variant:"simple",size:"sm",children:[(0,a.jsx)(z.Z,{top:p.pagination.isVisible?80:0,children:(0,a.jsxs)(v.Tr,{children:[(0,a.jsx)(_.Th,{width:"17%",children:"Block"}),(0,a.jsx)(_.Th,{width:"17%",children:"Age"}),(0,a.jsx)(_.Th,{width:"16%",children:"Txn"}),(0,a.jsx)(_.Th,{width:"25%",children:"Gas used"}),!(null===(t=d.Z.UI.views.block.hiddenFields)||void 0===t?void 0:t.total_reward)&&(0,a.jsxs)(_.Th,{width:"25%",isNumeric:!0,children:["Reward ",L.Y.ether]})]})}),(0,a.jsx)(k.p,{children:p.data.items.map((e,s)=>(0,a.jsx)(Y,{...e,page:p.pagination.page,isLoading:p.isPlaceholderData},e.height+(p.isPlaceholderData?String(s):"")))})]})}),(0,a.jsx)(y.d,{below:"lg",ssr:!1,children:p.data.items.map((e,s)=>(0,a.jsx)(Q,{...e,page:p.pagination.page,isLoading:p.isPlaceholderData},e.height+(p.isPlaceholderData?String(s):"")))})]}):null,R=p.pagination.isVisible?(0,a.jsx)(P.Z,{mt:-6,children:(0,a.jsx)(E.Z,{ml:"auto",...p.pagination})}):null;return(0,a.jsx)(A.Z,{isError:p.isError,items:null===(n=p.data)||void 0===n?void 0:n.items,emptyText:"There are no validated blocks for this address.",content:D,actionBar:R})}),J=t(15342),K=l.memo(e=>{let{addressHash:s}=e,{data:t,isPending:n,isError:i}=(0,c.Z)("address_coin_balance_chart",{pathParams:{hash:s}}),r=l.useMemo(()=>null==t?void 0:t.map(e=>{let{date:s,value:t}=e;return{date:new Date(s),value:(0,q.Z)(t).div(10**d.Z.chain.currency.decimals).toNumber()}}),[t]);return(0,a.jsx)(J.Z,{isError:i,title:"Balances",items:r,isLoading:n,h:"300px",units:L.Y.ether})}),X=t(55227),ee=t(35059),es=t(91639),et=t(33179),ea=t(25432),[en,ei]=(0,X.k)({name:"StatStylesContext",errorMessage:"useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Stat />\" "}),er=(0,ee.G)(function(e,s){let t=(0,es.jC)("Stat",e),n={position:"relative",flex:"1 1 0%",...t.container},{className:i,children:r,...o}=(0,et.Lr)(e);return(0,a.jsx)(en,{value:t,children:(0,a.jsx)(N.m.div,{ref:s,...o,className:(0,ea.cx)("chakra-stat",i),__css:n,children:(0,a.jsx)("dl",{children:r})})})});er.displayName="Stat";var eo=(0,ee.G)(function(e,s){let t=ei();return(0,a.jsx)(N.m.dd,{ref:s,...e,className:(0,ea.cx)("chakra-stat__help-text",e.className),__css:t.helpText})});eo.displayName="StatHelpText";var el=t(56877),StatDownArrow=e=>(0,a.jsx)(el.J,{color:"red.400",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})});function StatUpArrow(e){return(0,a.jsx)(el.J,{color:"green.400",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})})}function StatArrow(e){let{type:s,"aria-label":t,...n}=e,i=ei(),r="increase"===s?StatUpArrow:StatDownArrow;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.m.span,{srOnly:!0,children:t||("increase"===s?"increased by":"decreased by")}),(0,a.jsx)(r,{"aria-hidden":!0,...n,__css:i.icon})]})}StatDownArrow.displayName="StatDownArrow",StatUpArrow.displayName="StatUpArrow",StatArrow.displayName="StatArrow";var ed=t(7263),ec=t(92040),eh=l.memo(e=>{let s=(0,q.Z)(e.delta).div(ed.sJ),t=s.gte(ed.xE),i=(0,B.Z)(e.block_timestamp,1===e.page);return(0,a.jsxs)(M.Z,{rowGap:2,isAnimated:!0,children:[(0,a.jsxs)(n.k,{justifyContent:"space-between",w:"100%",children:[(0,a.jsxs)(W.O,{isLoaded:!e.isLoading,fontWeight:600,children:[(0,q.Z)(e.value).div(ed.sJ).dp(8).toFormat()," ",L.Y.ether]}),(0,a.jsx)(W.O,{isLoaded:!e.isLoading,children:(0,a.jsx)(er,{flexGrow:"0",children:(0,a.jsxs)(eo,{display:"flex",mb:0,alignItems:"center",children:[(0,a.jsx)(StatArrow,{type:t?"increase":"decrease",mr:2}),(0,a.jsx)(D.x,{as:"span",color:t?"green.500":"red.500",fontWeight:600,children:s.dp(8).toFormat()})]})})})]}),(0,a.jsxs)(n.k,{columnGap:2,w:"100%",children:[(0,a.jsx)(W.O,{isLoaded:!e.isLoading,fontWeight:500,flexShrink:0,children:"Block"}),(0,a.jsx)(V.ZP,{isLoading:e.isLoading,number:e.block_number,noIcon:!0,fontWeight:700})]}),e.transaction_hash&&(0,a.jsxs)(n.k,{columnGap:2,w:"100%",children:[(0,a.jsx)(W.O,{isLoaded:!e.isLoading,fontWeight:500,flexShrink:0,children:"Txs"}),(0,a.jsx)(ec.ZP,{hash:e.transaction_hash,isLoading:e.isLoading,noIcon:!0,fontWeight:700,maxW:"150px"})]}),(0,a.jsxs)(n.k,{columnGap:2,w:"100%",children:[(0,a.jsx)(W.O,{isLoaded:!e.isLoading,fontWeight:500,flexShrink:0,children:"Age"}),(0,a.jsx)(W.O,{isLoaded:!e.isLoading,color:"text_secondary",children:(0,a.jsx)("span",{children:i})})]})]})}),eu=l.memo(e=>{let s=(0,q.Z)(e.delta).div(ed.sJ),t=s.gte(ed.xE),n=(0,B.Z)(e.block_timestamp,1===e.page);return(0,a.jsxs)(v.Tr,{children:[(0,a.jsx)(H.Td,{children:(0,a.jsx)(V.ZP,{isLoading:e.isLoading,number:e.block_number,noIcon:!0,fontSize:"sm",lineHeight:5,fontWeight:700})}),(0,a.jsx)(H.Td,{children:e.transaction_hash&&(0,a.jsx)(ec.ZP,{hash:e.transaction_hash,isLoading:e.isLoading,noIcon:!0,fontWeight:700,maxW:"150px"})}),(0,a.jsx)(H.Td,{children:(0,a.jsx)(W.O,{isLoaded:!e.isLoading,color:"text_secondary",display:"inline-block",children:(0,a.jsx)("span",{children:n})})}),(0,a.jsx)(H.Td,{isNumeric:!0,pr:1,children:(0,a.jsx)(W.O,{isLoaded:!e.isLoading,color:"text_secondary",display:"inline-block",children:(0,a.jsx)("span",{children:(0,q.Z)(e.value).div(ed.sJ).dp(8).toFormat()})})}),(0,a.jsx)(H.Td,{isNumeric:!0,display:"flex",justifyContent:"end",children:(0,a.jsx)(W.O,{isLoaded:!e.isLoading,children:(0,a.jsx)(er,{flexGrow:"0",lineHeight:5,children:(0,a.jsxs)(eo,{display:"flex",mb:0,alignItems:"center",children:[(0,a.jsx)(StatArrow,{type:t?"increase":"decrease",mr:2}),(0,a.jsx)(D.x,{as:"span",color:t?"green.500":"red.500",fontWeight:600,children:s.dp(8).toFormat()})]})})})})]})}),ex=l.memo(e=>{var s,t;let{query:n}=e,i=(null===(s=n.data)||void 0===s?void 0:s.items)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.c,{below:"lg",ssr:!1,children:(0,a.jsxs)(b.i,{variant:"simple",size:"sm",children:[(0,a.jsx)(z.Z,{top:n.pagination.isVisible?80:0,children:(0,a.jsxs)(v.Tr,{children:[(0,a.jsx)(_.Th,{width:"20%",children:"Block"}),(0,a.jsx)(_.Th,{width:"20%",children:"Txn"}),(0,a.jsx)(_.Th,{width:"20%",children:"Age"}),(0,a.jsxs)(_.Th,{width:"20%",isNumeric:!0,pr:1,children:["Balance ",L.Y.ether]}),(0,a.jsx)(_.Th,{width:"20%",isNumeric:!0,children:"Delta"})]})}),(0,a.jsx)(k.p,{children:n.data.items.map((e,s)=>(0,a.jsx)(eu,{...e,page:n.pagination.page,isLoading:n.isPlaceholderData},e.block_number+(n.isPlaceholderData?String(s):"")))})]})}),(0,a.jsx)(y.d,{below:"lg",ssr:!1,children:n.data.items.map((e,s)=>(0,a.jsx)(eh,{...e,page:n.pagination.page,isLoading:n.isPlaceholderData},e.block_number+(n.isPlaceholderData?String(s):"")))})]}):null,r=n.pagination.isVisible?(0,a.jsx)(P.Z,{mt:-6,children:(0,a.jsx)(E.Z,{ml:"auto",...n.pagination})}):null;return(0,a.jsx)(A.Z,{mt:8,isError:n.isError,items:null===(t=n.data)||void 0===t?void 0:t.items,emptyText:"There is no coin balance history for this address.",content:i,actionBar:r})}),em=l.memo(()=>{let[e,s]=l.useState(!1),t=(0,w.NL)(),n=(0,o.useRouter)(),i=l.useRef(null),r=(0,g.Z)(n.query.hash),d=(0,F.Z)({resourceName:"address_coin_balance",pathParams:{hash:r},scrollRef:i,options:{placeholderData:(0,T.F)(j.rb,50,{next_page_params:{block_number:8009880,items_count:50}})}}),h=l.useCallback(()=>{s(!0)},[]),u=l.useCallback(e=>{s(!1),t.setQueryData((0,c.$)("address_coin_balance",{pathParams:{hash:r}}),s=>{if(s)return{...s,items:[e.coin_balance,...s.items]}})},[r,t]),x=(0,Z.Z)({topic:"addresses:".concat(r.toLowerCase()),onSocketClose:h,onSocketError:h,isDisabled:!r||d.isPlaceholderData||1!==d.pagination.page});return(0,C.Z)({channel:x,event:"coin_balance",handler:u}),(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(O,{mb:6}),(0,a.jsx)(K,{addressHash:r}),(0,a.jsx)("div",{ref:i}),(0,a.jsx)(ex,{query:d})]})}),ep=t(90019),eg=t(31708),ej=t(38117),ef=t(99640),eb=t(76215);let ev={transactions_count:"txs",token_transfers_count:"token_transfers",validations_count:"blocks_validated"};var e_=l.memo(e=>{var s;let{prop:t,query:n,address:i,onClick:r,isAddressQueryLoading:o}=e;if(n.isPlaceholderData||o)return(0,a.jsx)(W.O,{h:5,w:"80px",borderRadius:"full"});let l=null===(s=n.data)||void 0===s?void 0:s[t];if(n.isError||null==l)return(0,a.jsx)("span",{children:"0"});switch(t){case"gas_usage_count":return(0,a.jsx)("span",{children:(0,q.Z)(l).toFormat()});case"transactions_count":case"token_transfers_count":case"validations_count":if("0"===l)return(0,a.jsx)("span",{children:"0"});return(0,a.jsx)(eb.Z,{href:(0,ef.B)({pathname:"/address/[hash]",query:{hash:i,tab:ev[t]}}),onClick:r,children:Number(l).toLocaleString()})}}),ek=t(19819),ey=t(17806),ew=t(86850),eZ=t(26287),eC=t(8112),eL=l.memo(e=>{let{data:s,isLoading:t}=e,[n,i]=l.useState(s.block_number_balance_updated_at||0),r=(0,w.NL)(),o=l.useCallback((e,t,a)=>{if(a<n)return;i(a);let o=(0,c.$)("address",{pathParams:{hash:s.hash}});r.setQueryData(o,s=>{if(s)return{...s,coin_balance:e,exchange_rate:t,block_number_balance_updated_at:a}})},[s.hash,n,r]),h=l.useCallback(e=>{o(e.balance,e.exchange_rate,e.block_number)},[o]),u=l.useCallback(e=>{o(e.coin_balance,e.exchange_rate,e.block_number)},[o]),x=(0,Z.Z)({topic:"addresses:".concat(s.hash.toLowerCase()),isDisabled:!s.coin_balance});return(0,C.Z)({channel:x,event:"balance",handler:h}),(0,C.Z)({channel:x,event:"current_coin_balance",handler:u}),(0,a.jsx)(ey.Z,{title:"Balance",hint:"Address balance in ".concat(L.Y.ether,". Doesn't include ERC20, ERC721 and ERC1155 tokens"),flexWrap:"nowrap",alignItems:"flex-start",isLoading:t,children:(0,a.jsx)(eC.Z,{value:s.coin_balance||"0",exchangeRate:s.exchange_rate,decimals:String(d.Z.chain.currency.decimals),currency:L.Y.ether,accuracyUsd:2,accuracy:8,flexWrap:"wrap",isLoading:t})})}),eS=t(24727),eT=l.memo(e=>{let{data:s,isLoading:t}=e;return s.token?(0,a.jsx)(ey.Z,{title:"Token name",hint:"Token name and symbol",isLoading:t,children:(0,a.jsx)(eS.ZP,{token:s.token,isLoading:t,noIcon:!0,noCopy:!0})}):s.is_contract&&s.name?(0,a.jsx)(ey.Z,{title:"Contract name",hint:"The name found in the source code of the Contract",isLoading:t,children:(0,a.jsx)(W.O,{isLoaded:!t,children:s.name})}):s.name?(0,a.jsx)(ey.Z,{title:"Validator name",hint:"The name of the validator",isLoading:t,children:(0,a.jsx)(W.O,{isLoaded:!t,children:s.name})}):null}),eP=t(47523),eA=t(89154),eE=t(67112),eF=t(73303),eI=t.n(eF),eD=t(41664),eR=t.n(eD),eN=t(55036),eO=t(85786),ez=t(96026),eW=t(74432),eq=t.n(eW);function sumBnReducer(e,s){return e.plus(s)}let eG=["ERC-20","ERC-721","ERC-1155"],sortTokenGroups=(e,s)=>eG.indexOf(e[0])>eG.indexOf(s[0])?1:-1,eB={"ERC-20":e=>(s,t)=>s.usd||t.usd?t.usd?s.usd?"desc"===e?s.usd.gt(t.usd)?-1:1:s.usd.gt(t.usd)?1:-1:0:-1:0,"ERC-721":()=>()=>0,"ERC-1155":e=>(s,t)=>s.value===t.value?0:"desc"===e?Number(s.value)>Number(t.value)?-1:1:Number(s.value)>Number(t.value)?1:-1},filterTokens=e=>s=>{var t;let{token:a}=s;return a.name?null===(t=a.name)||void 0===t?void 0:t.toLowerCase().includes(e):!e||a.address.toLowerCase().includes(e)},calculateUsdValue=e=>{if("ERC-20"!==e.token.type)return e;let s=e.token.exchange_rate;if(!s)return e;let t=Number(e.token.decimals||"18");return{...e,usd:(0,q.Z)(e.value).div((0,q.Z)(10**t)).multipliedBy((0,q.Z)(s))}},getTokensTotalInfo=e=>{let s=Object.values(e).map(e=>{let{items:s}=e;return s.reduce(usdValueReducer,ed.xE)}).reduce(sumBnReducer,ed.xE),t=Object.values(e).map(e=>{let{items:s}=e;return s.length}).reduce(eq(),0),a=Object.values(e).some(e=>{let{isOverflow:s}=e;return s});return{usd:s,num:t,isOverflow:a}},usdValueReducer=(e,s)=>s.usd?e.plus((0,q.Z)(s.usd)):e,tokenBalanceItemIdentityFactory=e=>s=>{var t,a;return e.token.address===s.token.address&&e.token_id===s.token_id&&(null===(t=e.token_instance)||void 0===t?void 0:t.id)===(null===(a=s.token_instance)||void 0===a?void 0:a.id)};function useFetchTokens(e){let{hash:s}=e,t=(0,c.Z)("address_tokens",{pathParams:{hash:s},queryParams:{type:"ERC-20"},queryOptions:{enabled:!!s,refetchOnMount:!1}}),a=(0,c.Z)("address_tokens",{pathParams:{hash:s},queryParams:{type:"ERC-721"},queryOptions:{enabled:!!s,refetchOnMount:!1}}),n=(0,c.Z)("address_tokens",{pathParams:{hash:s},queryParams:{type:"ERC-1155"},queryOptions:{enabled:!!s,refetchOnMount:!1}}),i=(0,w.NL)(),r=l.useCallback((e,t)=>{let a=(0,c.$)("address_tokens",{pathParams:{hash:s},queryParams:{type:e}});i.setQueryData(a,e=>{let s=(null==e?void 0:e.items.map(e=>{let s=t.token_balances.find(tokenBalanceItemIdentityFactory(e));return null!=s?s:e}))||[],a=(null==e?void 0:e.next_page_params)?[]:t.token_balances.filter(e=>!s.some(tokenBalanceItemIdentityFactory(e)));return e?{items:s.concat(a),next_page_params:e.next_page_params}:{items:a,next_page_params:null}})},[s,i]),o=l.useCallback(e=>{r("ERC-20",e)},[r]),d=l.useCallback(e=>{r("ERC-721",e)},[r]),h=l.useCallback(e=>{r("ERC-1155",e)},[r]),u=(0,Z.Z)({topic:"addresses:".concat(null==s?void 0:s.toLowerCase()),isDisabled:!!s&&(t.isPlaceholderData||a.isPlaceholderData||n.isPlaceholderData)});(0,C.Z)({channel:u,event:"updated_token_balances_erc_20",handler:o}),(0,C.Z)({channel:u,event:"updated_token_balances_erc_721",handler:d}),(0,C.Z)({channel:u,event:"updated_token_balances_erc_1155",handler:h});let x=l.useMemo(()=>{var e,s,i,r,o,l;return{"ERC-20":{items:(null===(e=t.data)||void 0===e?void 0:e.items.map(calculateUsdValue))||[],isOverflow:!!(null===(s=t.data)||void 0===s?void 0:s.next_page_params)},"ERC-721":{items:(null===(i=a.data)||void 0===i?void 0:i.items.map(calculateUsdValue))||[],isOverflow:!!(null===(r=a.data)||void 0===r?void 0:r.next_page_params)},"ERC-1155":{items:(null===(o=n.data)||void 0===o?void 0:o.items.map(calculateUsdValue))||[],isOverflow:!!(null===(l=n.data)||void 0===l?void 0:l.next_page_params)}}},[n.data,t.data,a.data]);return{isPending:t.isPending||a.isPending||n.isPending,isError:t.isError||a.isError||n.isError,data:x}}var eV=t(62723),eM=t(12498),eU=t(89076),eQ=t(53948),eH=t(44416),eY=t(20623),e$=t(96272),eJ=l.forwardRef((e,s)=>{let{isOpen:t,isLoading:n,onClick:i,data:o}=e,{usd:d,num:c,isOverflow:h}=getTokensTotalInfo(o),u=(0,eM.ff)("white","black"),x=h?">":"",m=l.useCallback(()=>{(!n||t)&&(eO.Kz(eO.GM.PAGE_WIDGET,{Type:"Tokens dropdown"}),i())},[n,t,i]);return(0,a.jsxs)(r.xu,{position:"relative",children:[(0,a.jsxs)(e$.z,{ref:s,size:"sm",variant:"outline",colorScheme:"gray",onClick:m,"aria-label":"Token select",children:[(0,a.jsx)(ez.Z,{name:"tokens",boxSize:4,mr:2}),(0,a.jsxs)(D.x,{fontWeight:600,children:[x,c]}),(0,a.jsxs)(D.x,{whiteSpace:"pre",variant:"secondary",fontWeight:400,children:[" (",x,"$",d.toFormat(2),")"]}),(0,a.jsx)(ez.Z,{name:"arrows/east-mini",transform:t?"rotate(90deg)":"rotate(-90deg)",transitionDuration:"faster",boxSize:5,ml:3})]}),n&&!t&&(0,a.jsx)(W.O,{h:"100%",w:"100%",position:"absolute",top:0,left:0,bgColor:u})]})}),eK=t(93863),eX=t(43775),e0=t(28129),e1=t(40847),e2=l.memo(e=>{let{data:s}=e,t=(()=>{switch(s.token.type){case"ERC-20":{let e=Number(s.token.decimals)||18,t="".concat((0,q.Z)(s.value).dividedBy(10**e).dp(8).toFormat()," ").concat(s.token.symbol||"");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e1.Z,{value:t}),s.token.exchange_rate&&(0,a.jsxs)(N.m.span,{ml:2,children:["@",Number(s.token.exchange_rate).toLocaleString()]})]})}case"ERC-721":{let e="".concat((0,q.Z)(s.value).toFormat()," ").concat(s.token.symbol||"");return(0,a.jsx)(e1.Z,{value:e})}case"ERC-1155":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(N.m.span,{textOverflow:"ellipsis",overflow:"hidden",mr:6,children:["#",s.token_id||0]}),(0,a.jsx)("span",{children:(0,q.Z)(s.value).toFormat()})]})}})(),i=(0,ef.B)({pathname:"/token/[hash]",query:{hash:s.token.address}});return(0,a.jsxs)(eb.Z,{px:1,py:"10px",display:"flex",flexDir:"column",rowGap:2,borderColor:"divider",borderBottomWidth:"1px",_hover:{bgColor:(0,eM.ff)("blue.50","gray.800")},color:"initial",fontSize:"sm",href:i,children:[(0,a.jsxs)(n.k,{alignItems:"center",w:"100%",overflow:"hidden",children:[(0,a.jsx)(eS.ZP,{token:s.token,noSymbol:!0,noCopy:!0,noLink:!0,fontWeight:700}),s.usd&&(0,a.jsxs)(D.x,{fontWeight:700,ml:"auto",children:["$",s.usd.toFormat(2)]})]}),(0,a.jsx)(n.k,{alignItems:"center",justifyContent:"space-between",w:"100%",whiteSpace:"nowrap",children:t})]})}),e5=l.memo(e=>{let{erc20sort:s,erc1155sort:t,filteredData:i,onInputChange:o,onSortClick:l,searchTerm:d}=e,c=(0,eM.ff)("blackAlpha.600","whiteAlpha.600"),h=(0,eM.ff)("blackAlpha.100","whiteAlpha.200"),u=eI()(Object.values(i),e=>{let{items:s}=e;return s.length})>0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eK.B,{size:"xs",mb:5,children:[(0,a.jsx)(eX.Z,{children:(0,a.jsx)(ez.Z,{name:"search",boxSize:4,color:c})}),(0,a.jsx)(e0.I,{paddingInlineStart:"38px",placeholder:"Search by token name",ml:"1px",onChange:o,borderColor:h})]}),(0,a.jsx)(n.k,{flexDir:"column",rowGap:6,children:Object.entries(i).sort(sortTokenGroups).map(e=>{let[i,o]=e;if(0===o.items.length)return null;let d="ERC-1155"===i&&"desc"===t||"ERC-20"===i&&"desc"===s?"rotate(90deg)":"rotate(-90deg)",c=(()=>{switch(i){case"ERC-1155":return t;case"ERC-20":return s;default:return"desc"}})(),h="ERC-1155"===i||"ERC-20"===i&&o.items.some(e=>{let{usd:s}=e;return s}),u=o.isOverflow?">":"";return(0,a.jsxs)(r.xu,{children:[(0,a.jsxs)(n.k,{justifyContent:"space-between",children:[(0,a.jsxs)(D.x,{mb:3,color:"gray.500",fontWeight:600,fontSize:"sm",children:[i," tokens (",u,o.items.length,")"]}),h&&(0,a.jsx)(R.r,{"data-type":i,onClick:l,"aria-label":"Sort ".concat(i," tokens"),children:(0,a.jsx)(ez.Z,{name:"arrows/east",boxSize:5,transform:d,transitionDuration:"faster"})})]}),o.items.sort(eB[i](c)).map(e=>(0,a.jsx)(e2,{data:e},e.token.address+e.token_id))]},i)})}),!!d&&!u&&(0,a.jsx)(D.x,{fontSize:"sm",children:"Could not find any matches."})]})}),e3=t(66604),e8=t.n(e3);function useTokenSelect(e){let[s,t]=l.useState(""),[a,n]=l.useState("desc"),[i,r]=l.useState("desc"),o=l.useCallback(e=>{t(e.target.value)},[]),d=l.useCallback(e=>{let s=e.currentTarget.getAttribute("data-type");"ERC-1155"===s&&n(e=>"desc"===e?"asc":"desc"),"ERC-20"===s&&r(e=>"desc"===e?"asc":"desc")},[]),c=l.useMemo(()=>e8()(e,e=>{let{items:t,isOverflow:a}=e;return{isOverflow:a,items:t.filter(filterTokens(s.toLowerCase()))}}),[e,s]);return{searchTerm:s,erc20sort:i,erc1155sort:a,onInputChange:o,onSortClick:d,data:e,filteredData:c}}var e4=l.memo(e=>{let{data:s,isLoading:t}=e,{isOpen:n,onToggle:i,onClose:r}=(0,eV.q)(),o=(0,eM.ff)("white","gray.900"),l=useTokenSelect(s);return(0,a.jsxs)(eU.J,{isOpen:n,onClose:r,placement:"bottom-start",isLazy:!0,children:[(0,a.jsx)(eQ.x,{children:(0,a.jsx)(eJ,{isOpen:n,onClick:i,data:l.data,isLoading:t})}),(0,a.jsx)(eH.y,{w:"355px",maxH:"450px",overflowY:"scroll",children:(0,a.jsx)(eY.b,{px:4,py:6,bgColor:o,boxShadow:"2xl",children:(0,a.jsx)(e5,{...l})})})]})}),e7=t(34151),e6=t(77374),e9=t(23438),se=l.memo(e=>{let{data:s,isLoading:t}=e,{isOpen:n,onToggle:i,onClose:r}=(0,eV.q)(),o=useTokenSelect(s);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eJ,{isOpen:n,onClick:i,data:o.data,isLoading:t}),(0,a.jsx)(e7.u_,{isOpen:n,onClose:r,size:"full",children:(0,a.jsxs)(e6.h,{children:[(0,a.jsx)(e9.o,{}),(0,a.jsx)(e5,{...o})]})})]})}),ss=l.memo(e=>{let{onClick:s}=e,t=(0,o.useRouter)(),i=(0,eN.Z)(),d=(0,w.NL)(),h=(0,g.Z)(t.query.hash),u=(0,c.$)("address",{pathParams:{hash:h}}),x=d.getQueryData(u),{data:m,isError:p,isPending:j}=useFetchTokens({hash:null==x?void 0:x.hash}),f=(0,c.$)("address_tokens",{pathParams:{hash:null==x?void 0:x.hash},queryParams:{type:"ERC-20"}}),b=function(e,s){let t=(0,w.NL)(void 0),a=t.getQueryCache();return l.useSyncExternalStore(l.useCallback(e=>a.subscribe(eE.V.batchCalls(e)),[a]),()=>t.isFetching(e),()=>t.isFetching(e))}({queryKey:f}),v=l.useCallback(()=>{eO.Kz(eO.GM.PAGE_WIDGET,{Type:"Tokens show all (icon)"}),null==s||s()},[s]);if(j)return(0,a.jsxs)(n.k,{columnGap:3,children:[(0,a.jsx)(W.O,{h:8,w:"150px",borderRadius:"base"}),(0,a.jsx)(W.O,{h:8,w:9,borderRadius:"base"})]});let _=eI()(Object.values(m),e=>{let{items:s}=e;return s.length})>0;return p||!_?(0,a.jsx)(r.xu,{py:"6px",children:"0"}):(0,a.jsxs)(n.k,{columnGap:3,mt:{base:"6px",lg:0},children:[i?(0,a.jsx)(se,{data:m,isLoading:1===b}):(0,a.jsx)(e4,{data:m,isLoading:1===b}),(0,a.jsx)(eP.u,{label:"Show all tokens",children:(0,a.jsx)(r.xu,{children:(0,a.jsx)(eR(),{href:{pathname:"/address/[hash]",query:{hash:h,tab:"tokens"}},passHref:!0,legacyBehavior:!0,children:(0,a.jsx)(eA.h,{"aria-label":"Show all tokens",variant:"outline",size:"sm",pl:"6px",pr:"6px",icon:(0,a.jsx)(ez.Z,{name:"wallet",boxSize:5}),as:"a",onClick:v})})})})]})}),st=l.memo(e=>{let{addressQuery:s,scrollRef:t}=e,n=(0,o.useRouter)(),i=(0,g.Z)(n.query.hash),d=(0,c.Z)("address_counters",{pathParams:{hash:i},queryOptions:{enabled:!!i&&!!s.data,placeholderData:j.Kp}}),h=l.useCallback(()=>{window.setTimeout(()=>{var e;null==t||null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},500)},[t]),u=l.useMemo(()=>({hash:i||"",is_contract:!1,implementation_name:null,implementation_address:null,token:null,watchlist_address_id:null,watchlist_names:null,creation_tx_hash:null,block_number_balance_updated_at:null,name:null,exchange_rate:null,coin_balance:null,has_tokens:!0,has_token_transfers:!0,has_validated_blocks:!1}),[i]),x=s.isError&&"status"in s.error&&404===s.error.status,m=s.isError&&"status"in s.error&&422===s.error.status;if(s.isError&&m&&(0,ej.Z)(s),s.isError&&!x)return(0,a.jsx)(ek.Z,{});let p=s.isError?u:s.data;return p?(0,a.jsxs)(eg.r,{columnGap:8,rowGap:{base:1,lg:3},templateColumns:{base:"minmax(0, 1fr)",lg:"auto minmax(0, 1fr)"},overflow:"hidden",children:[(0,a.jsx)(eT,{data:p,isLoading:s.isPlaceholderData}),p.is_contract&&p.creation_tx_hash&&p.creator_address_hash&&(0,a.jsxs)(ey.Z,{title:"Creator",hint:"Transaction and address of creation",isLoading:s.isPlaceholderData,children:[(0,a.jsx)(eZ.ZP,{address:{hash:p.creator_address_hash},truncation:"constant",noIcon:!0}),(0,a.jsx)(D.x,{whiteSpace:"pre",children:" at txn "}),(0,a.jsx)(ec.ZP,{hash:p.creation_tx_hash,truncation:"constant",noIcon:!0,noCopy:!1})]}),p.is_contract&&p.implementation_address&&(0,a.jsx)(ey.Z,{title:"Implementation",hint:"Implementation address of the proxy contract",columnGap:1,children:(0,a.jsx)(eZ.ZP,{address:{hash:p.implementation_address,name:p.implementation_name,is_contract:!0},isLoading:s.isPlaceholderData,noIcon:!0})}),(0,a.jsx)(eL,{data:p,isLoading:s.isPlaceholderData}),p.has_tokens&&(0,a.jsx)(ey.Z,{title:"Tokens",hint:"All tokens in the account and total value",alignSelf:"center",py:0,children:s.data?(0,a.jsx)(ss,{onClick:h}):(0,a.jsx)(r.xu,{py:"6px",children:"0"})}),(0,a.jsx)(ey.Z,{title:"Transactions",hint:"Number of transactions related to this address",isLoading:s.isPlaceholderData||d.isPlaceholderData,children:s.data?(0,a.jsx)(e_,{prop:"transactions_count",query:d,address:p.hash,onClick:h,isAddressQueryLoading:s.isPlaceholderData}):0}),p.has_token_transfers&&(0,a.jsx)(ey.Z,{title:"Transfers",hint:"Number of transfers to/from this address",isLoading:s.isPlaceholderData||d.isPlaceholderData,children:s.data?(0,a.jsx)(e_,{prop:"token_transfers_count",query:d,address:p.hash,onClick:h,isAddressQueryLoading:s.isPlaceholderData}):0}),(0,a.jsx)(ey.Z,{title:"Gas used",hint:"Gas used by the address",isLoading:s.isPlaceholderData||d.isPlaceholderData,children:s.data?(0,a.jsx)(e_,{prop:"gas_usage_count",query:d,address:p.hash,onClick:h,isAddressQueryLoading:s.isPlaceholderData}):0}),p.has_validated_blocks&&(0,a.jsx)(ey.Z,{title:"Blocks validated",hint:"Number of blocks validated by this validator",isLoading:s.isPlaceholderData||d.isPlaceholderData,children:s.data?(0,a.jsx)(e_,{prop:"validations_count",query:d,address:p.hash,onClick:h,isAddressQueryLoading:s.isPlaceholderData}):0}),p.block_number_balance_updated_at&&(0,a.jsx)(ey.Z,{title:"Last balance update",hint:"Block number in which the address was updated",alignSelf:"center",py:{base:"2px",lg:1},isLoading:s.isPlaceholderData,children:(0,a.jsx)(V.ZP,{number:p.block_number_balance_updated_at,isLoading:s.isPlaceholderData})}),(0,a.jsx)(ew.Z,{isLoading:s.isPlaceholderData})]}):null}),sa=t(40146);function getFilterValue(e,s){if("string"==typeof s&&e.includes(s))return s}var sn=t(14853),si=t(1463),sr=t(89464),so=t(6908),sl=t(95204),sd=t(38305),sc=t(39841),sh=l.memo(e=>{var s;let{type:t,from:i,to:o,value:l,success:c,error:h,created_contract:u,transaction_hash:x,block:m,timestamp:p,currentAddress:g,isLoading:j}=e,f=null===(s=sc.D.find(e=>{let{id:s}=e;return s===t}))||void 0===s?void 0:s.title,b=(0,B.Z)(p,!0);return(0,a.jsxs)(v.Tr,{alignItems:"top",children:[(0,a.jsx)(H.Td,{verticalAlign:"middle",children:(0,a.jsxs)(n.k,{rowGap:3,flexWrap:"wrap",children:[(0,a.jsx)(ec.ZP,{hash:x,isLoading:j,fontWeight:700,noIcon:!0}),p&&(0,a.jsx)(W.O,{isLoaded:!j,color:"text_secondary",fontWeight:"400",fontSize:"sm",children:(0,a.jsx)("span",{children:b})})]})}),(0,a.jsx)(H.Td,{verticalAlign:"middle",children:(0,a.jsxs)(n.k,{rowGap:2,flexWrap:"wrap",children:[f&&(0,a.jsx)(r.xu,{w:"126px",display:"inline-block",children:(0,a.jsx)(sl.Z,{colorScheme:"cyan",mr:5,isLoading:j,children:f})}),(0,a.jsx)(sd.Z,{status:c?"ok":"error",errorText:h,isLoading:j})]})}),(0,a.jsx)(H.Td,{verticalAlign:"middle",children:(0,a.jsx)(V.ZP,{isLoading:j,number:m,noIcon:!0,fontSize:"sm",lineHeight:5,fontWeight:500})}),(0,a.jsx)(H.Td,{verticalAlign:"middle",children:(0,a.jsx)(so.Z,{from:i,to:o||u,current:g,isLoading:j})}),(0,a.jsx)(H.Td,{isNumeric:!0,verticalAlign:"middle",children:(0,a.jsx)(W.O,{isLoaded:!j,display:"inline-block",minW:6,children:(0,q.Z)(l).div((0,q.Z)(10**d.Z.chain.currency.decimals)).toFormat()})})]})}),internals_AddressIntTxsTable=e=>{let{data:s,currentAddress:t,isLoading:n}=e;return(0,a.jsx)(sr.Gz,{children:(0,a.jsxs)(b.i,{variant:"simple",size:"sm",children:[(0,a.jsx)(z.Z,{top:80,children:(0,a.jsxs)(v.Tr,{children:[(0,a.jsx)(_.Th,{width:"15%",children:"Parent txn hash"}),(0,a.jsx)(_.Th,{width:"15%",children:"Type"}),(0,a.jsx)(_.Th,{width:"10%",children:"Block"}),(0,a.jsx)(_.Th,{width:"40%",children:"From/To"}),(0,a.jsxs)(_.Th,{width:"20%",isNumeric:!0,children:["Value ",L.Y.ether]})]})}),(0,a.jsx)(k.p,{children:s.map((e,s)=>(0,a.jsx)(sh,{...e,currentAddress:t,isLoading:n},e.transaction_hash+"_"+s))})]})})},su=t(7225),sx=t(36953),sm=t(66303),sp=t(46887),sg=t(56301),sj=t(41949),sf=t(87859),sb=t(51813),sv=l.memo(e=>{let{onFilterChange:s,defaultFilter:t,isActive:n,isLoading:i}=e,{isOpen:r,onToggle:o}=(0,eV.q)(),l=(0,sf.Z)(i);return(0,a.jsxs)(sx.v,{children:[(0,a.jsx)(sm.j,{children:(0,a.jsx)(sb.Z,{isActive:r||n,isLoading:l,onClick:o,appliedFiltersNum:n?1:0,as:"div"})}),(0,a.jsx)(sp.q,{zIndex:2,children:(0,a.jsxs)(sg._,{defaultValue:t||"all",title:"Address",type:"radio",onChange:s,children:[(0,a.jsx)(sj.i,{value:"all",children:"All"}),(0,a.jsx)(sj.i,{value:"from",children:"Outgoing transactions"}),(0,a.jsx)(sj.i,{value:"to",children:"Incoming transactions"})]})})]})}),s_=t(4914),AddressIntTxsListItem=e=>{var s;let{type:t,from:r,to:o,value:l,success:c,error:h,created_contract:u,transaction_hash:x,block:m,timestamp:p,currentAddress:g,isLoading:j}=e,f=null===(s=sc.D.find(e=>{let{id:s}=e;return s===t}))||void 0===s?void 0:s.title;return(0,a.jsxs)(M.Z,{rowGap:3,children:[(0,a.jsxs)(n.k,{columnGap:2,children:[f&&(0,a.jsx)(sl.Z,{colorScheme:"cyan",isLoading:j,children:f}),(0,a.jsx)(sd.Z,{status:c?"ok":"error",errorText:h,isLoading:j})]}),(0,a.jsxs)(n.k,{justifyContent:"space-between",width:"100%",children:[(0,a.jsx)(ec.ZP,{hash:x,isLoading:j,fontWeight:700,truncation:"constant"}),(0,a.jsx)(W.O,{isLoaded:!j,color:"text_secondary",fontWeight:"400",fontSize:"sm",children:(0,a.jsx)("span",{children:(0,s_.Z)(p).fromNow()})})]}),(0,a.jsxs)(i.U,{spacing:1,children:[(0,a.jsx)(W.O,{isLoaded:!j,fontSize:"sm",fontWeight:500,children:"Block"}),(0,a.jsx)(V.ZP,{isLoading:j,number:m,noIcon:!0,fontSize:"sm",lineHeight:5})]}),(0,a.jsx)(so.Z,{from:r,to:o||u,current:g,isLoading:j,w:"100%"}),(0,a.jsxs)(i.U,{spacing:3,children:[(0,a.jsxs)(W.O,{isLoaded:!j,fontSize:"sm",fontWeight:500,children:["Value ",L.Y.ether]}),(0,a.jsx)(W.O,{isLoaded:!j,fontSize:"sm",color:"text_secondary",minW:6,children:(0,a.jsx)("span",{children:(0,q.Z)(l).div((0,q.Z)(10**d.Z.chain.currency.decimals)).toFormat()})})]})]})},internals_AddressIntTxsList=e=>{let{data:s,currentAddress:t,isLoading:n}=e;return(0,a.jsx)(r.xu,{children:s.map((e,s)=>(0,a.jsx)(AddressIntTxsListItem,{...e,currentAddress:t,isLoading:n},e.transaction_hash+"_"+s))})};let sk=getFilterValue.bind(null,sa.k);var address_AddressInternalTxs=e=>{let{scrollRef:s}=e,t=(0,o.useRouter)(),[n,i]=l.useState(sk(t.query.filter)),r=(0,g.Z)(t.query.hash),{data:d,isPlaceholderData:c,isError:h,pagination:u,onFilterChange:x}=(0,F.Z)({resourceName:"address_internal_txs",pathParams:{hash:r},filters:{filter:n},scrollRef:s,options:{placeholderData:(0,T.F)(si.w,50,{next_page_params:{block_number:8987561,index:2,items_count:50,transaction_index:67}})}}),m=l.useCallback(e=>{let s=sk(e);i(s),x({filter:s})},[x]),p=(null==d?void 0:d.items)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.d,{below:"lg",ssr:!1,children:(0,a.jsx)(internals_AddressIntTxsList,{data:d.items,currentAddress:r,isLoading:c})}),(0,a.jsx)(f.c,{below:"lg",ssr:!1,children:(0,a.jsx)(internals_AddressIntTxsTable,{data:d.items,currentAddress:r,isLoading:c})})]}):null,j=(0,a.jsxs)(P.Z,{mt:-6,justifyContent:"left",children:[(0,a.jsx)(sv,{defaultFilter:n,onFilterChange:m,isActive:!!n,isLoading:u.isLoading}),(0,a.jsx)(su.Z,{address:r,isLoading:u.isLoading,params:{type:"internal-transactions",filterType:"address",filterValue:n},ml:{base:2,lg:"auto"}}),(0,a.jsx)(E.Z,{ml:{base:"auto",lg:8},...u})]});return(0,a.jsx)(A.Z,{isError:h,items:null==d?void 0:d.items,filterProps:{emptyFilteredText:"Couldn".concat(sn.Iy,"t find any transaction that matches your query."),hasActiveFilters:!!n},emptyText:"There are no internal transactions for this address.",content:p,actionBar:j})},sy=t(31392),sw=t(58431),address_AddressLogs=e=>{let{scrollRef:s}=e,t=(0,o.useRouter)(),n=(0,g.Z)(t.query.hash),{data:i,isPlaceholderData:r,isError:l,pagination:d}=(0,F.Z)({resourceName:"address_logs",pathParams:{hash:n},scrollRef:s,options:{placeholderData:(0,T.F)(sy.s,3,{next_page_params:{block_number:9005750,index:42,items_count:50,transaction_index:23}})}}),c=(0,a.jsxs)(P.Z,{mt:-6,showShadow:!0,justifyContent:{base:"space-between",lg:"end"},children:[(0,a.jsx)(su.Z,{address:n,isLoading:d.isLoading,params:{type:"logs"}}),(0,a.jsx)(E.Z,{ml:{base:0,lg:8},...d})]}),h=(null==i?void 0:i.items)?i.items.map((e,s)=>(0,a.jsx)(sw.Z,{...e,type:"address",isLoading:r},s)):null;return(0,a.jsx)(A.Z,{isError:l,items:null==i?void 0:i.items,emptyText:"There are no logs for this address.",content:h,actionBar:c})},sZ=t(67894),sC=t(3219),sL=t(124),sS=t(72825),sT=t(28596),sP=t(46927),sA=t(40918),sE=t(17215),sF={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},sI={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},sD=(0,ee.G)(function(e,s){let{size:t,colorScheme:n,variant:i,className:r,spacing:o="0.5rem",isAttached:d,isDisabled:c,orientation:h="horizontal",...u}=e,x=(0,ea.cx)("chakra-button__group",r),m=(0,l.useMemo)(()=>({size:t,colorScheme:n,variant:i,isDisabled:c}),[t,n,i,c]),p={display:"inline-flex",...d?sF[h]:sI[h](o)};return(0,a.jsx)(sE.D,{value:m,children:(0,a.jsx)(N.m.div,{ref:s,role:"group",__css:p,className:x,"data-attached":d?"":void 0,"data-orientation":h,flexDir:"vertical"===h?"column":void 0,...u})})});sD.displayName="ButtonGroup";let RadioButton=e=>{let{getInputProps:s,getRadioProps:t}=(0,sP.x)(e),i=(0,eM.ff)("blue.50","gray.800"),r=(0,eM.ff)("blue.700","gray.50"),o=s(),l=t(),d={flex:1,variant:"outline",fontWeight:500,cursor:e.isChecked?"initial":"pointer",borderColor:i,backgroundColor:e.isChecked?i:"none",_hover:{borderColor:i,...e.isChecked?{}:{color:"link_hovered"}},_active:{backgroundColor:"none"},...e.isChecked?{color:r}:{}};return e.onlyIcon?(0,a.jsxs)(e$.z,{as:"label","aria-label":e.title,...d,children:[(0,a.jsx)("input",{...o}),(0,a.jsx)(n.k,{...l,children:(0,a.jsx)(ez.Z,{name:e.icon,boxSize:5})})]}):(0,a.jsxs)(e$.z,{as:"label",leftIcon:e.icon?(0,a.jsx)(ez.Z,{name:e.icon,boxSize:5,mr:-1}):void 0,...d,children:[(0,a.jsx)("input",{...o}),(0,a.jsx)(n.k,{...l,children:e.title})]})};var radioButtonGroup_RadioButtonGroup=e=>{let{onChange:s,name:t,defaultValue:n,options:i}=e,{getRootProps:r,getRadioProps:o}=(0,sA.a)({name:t,defaultValue:n,onChange:s}),d=r();return(0,a.jsx)(sD,{...d,isAttached:!0,size:"sm",display:"grid",gridTemplateColumns:"repeat(".concat(i.length,", 1fr)"),children:i.map(e=>{let s=o({value:e.value});return(0,l.createElement)(RadioButton,{...s,key:e.value,...e})})})},sR=t(10814),sN=t(43780),sO=t(13272),sz=t(89594),sW=t(1203),sq=t(42444),sG=(0,N.m)(e=>{let{children:s,className:t}=e;return(0,a.jsx)(r.xu,{w:{base:"100%",lg:"210px"},border:"1px solid",borderColor:(0,eM.ff)("blackAlpha.100","whiteAlpha.200"),borderRadius:"12px",p:"10px",fontSize:"sm",fontWeight:500,lineHeight:"20px",className:t,children:s})}),tokens_NFTItem=e=>{let{token:s,value:t,isLoading:i,withTokenLink:r,...o}=e,l=o.id?(0,ef.B)({pathname:"/token/[hash]/instance/[id]",query:{hash:s.address,id:o.id}}):void 0;return(0,a.jsxs)(sG,{position:"relative",children:[(0,a.jsx)(W.O,{isLoaded:!i,children:(0,a.jsx)(sO.iJ,{children:(0,a.jsx)(sz.Vp,{background:"gray.50",zIndex:1,position:"absolute",top:"18px",right:"18px",children:s.type})})}),(0,a.jsx)(R.r,{href:i?void 0:l,children:(0,a.jsx)(sq.Z,{mb:"18px",url:(null==o?void 0:o.animation_url)||(null==o?void 0:o.image_url)||null,isLoading:i})}),(0,a.jsxs)(n.k,{justifyContent:"space-between",w:"100%",children:[(0,a.jsxs)(n.k,{ml:1,overflow:"hidden",children:[(0,a.jsx)(D.x,{whiteSpace:"pre",variant:"secondary",children:"ID# "}),(0,a.jsx)(sW.ZP,{hash:s.address,id:o.id,isLoading:i,noIcon:!0})]}),(0,a.jsx)(W.O,{isLoaded:!i,children:Number(t)>1&&(0,a.jsxs)(n.k,{children:[(0,a.jsx)(D.x,{variant:"secondary",whiteSpace:"pre",children:"Qty "}),t]})})]}),r&&(0,a.jsx)(eS.ZP,{mt:2,token:s,isLoading:i,noCopy:!0,noSymbol:!0})]})},tokens_AddressCollections=e=>{let{collectionsQuery:s,address:t,hasActiveFilters:o}=e,l=(0,eN.Z)(),{isError:d,isPlaceholderData:c,data:h,pagination:u}=s,x=l&&u.isVisible&&(0,a.jsx)(P.Z,{mt:-6,children:(0,a.jsx)(E.Z,{ml:"auto",...u})}),m=(null==h?void 0:h.items)?null==h?void 0:h.items.map((e,s)=>{let o=(0,ef.B)({pathname:"/token/[hash]",query:{hash:e.token.address,tab:"inventory",holder_address_hash:t,scroll_to_tabs:"true"}}),l=Number(e.amount)>e.token_instances.length;return(0,a.jsxs)(r.xu,{mb:6,children:[(0,a.jsxs)(n.k,{mb:3,flexWrap:"wrap",lineHeight:"30px",children:[(0,a.jsx)(eS.ZP,{width:"auto",noSymbol:!0,token:e.token,isLoading:c,noCopy:!0,fontWeight:"600"}),(0,a.jsx)(W.O,{isLoaded:!c,mr:3,children:(0,a.jsx)(D.x,{variant:"secondary",whiteSpace:"pre",children:" - ".concat(Number(e.amount).toLocaleString()," item").concat(Number(e.amount)>1?"s":"")})}),(0,a.jsx)(eb.Z,{href:o,isLoading:c,children:(0,a.jsx)(W.O,{isLoaded:!c,children:"View in collection"})})]}),(0,a.jsxs)(eg.r,{w:"100%",mb:7,columnGap:{base:3,lg:6},rowGap:{base:3,lg:6},gridTemplateColumns:{base:"repeat(2, calc((100% - 12px)/2))",lg:"repeat(auto-fill, minmax(210px, 1fr))"},children:[e.token_instances.map((s,t)=>{let n=e.token.address+"_"+(s.id&&!c?"id_".concat(s.id):"index_".concat(t));return(0,a.jsx)(tokens_NFTItem,{...s,token:e.token,isLoading:c},n)}),l&&(0,a.jsx)(eb.Z,{display:"flex",href:o,children:(0,a.jsxs)(sG,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",minH:"248px",children:[(0,a.jsxs)(i.U,{gap:2,mb:3,children:[(0,a.jsx)(sN.Z,{bgColor:"unset",w:"30px",h:"30px",boxSize:"30px",p:0}),(0,a.jsx)(sN.Z,{bgColor:"unset",w:"30px",h:"30px",boxSize:"30px",p:0}),(0,a.jsx)(sN.Z,{bgColor:"unset",w:"30px",h:"30px",boxSize:"30px",p:0})]}),"View all NFTs"]})})]})]},e.token.address+s)}):null;return(0,a.jsx)(A.Z,{isError:d,items:null==h?void 0:h.items,emptyText:"There are no tokens of selected type.",content:m,actionBar:x,filterProps:{emptyFilteredText:"Couldn".concat(sn.Iy,"t find any token that matches your query."),hasActiveFilters:o}})},tokens_AddressNFTs=e=>{let{tokensQuery:s,hasActiveFilters:t}=e,n=(0,eN.Z)(),{isError:i,isPlaceholderData:r,data:o,pagination:l}=s,d=n&&l.isVisible&&(0,a.jsx)(P.Z,{mt:-6,children:(0,a.jsx)(E.Z,{ml:"auto",...l})}),c=(null==o?void 0:o.items)?(0,a.jsx)(eg.r,{w:"100%",columnGap:{base:3,lg:6},rowGap:{base:3,lg:6},gridTemplateColumns:{base:"repeat(2, calc((100% - 12px)/2))",lg:"repeat(auto-fill, minmax(210px, 1fr))"},children:o.items.map((e,s)=>{let t=e.token.address+"_"+(e.id&&!r?"id_".concat(e.id):"index_".concat(s));return(0,a.jsx)(tokens_NFTItem,{...e,isLoading:r,withTokenLink:!0},t)})}):null;return(0,a.jsx)(A.Z,{isError:i,items:null==o?void 0:o.items,emptyText:"There are no tokens of selected type.",content:c,actionBar:d,filterProps:{emptyFilteredText:"Couldn".concat(sn.Iy,"t find any token that matches your query."),hasActiveFilters:t}})},sB=t(61044),sV=t(65850),tokens_ERC20TokensListItem=e=>{let{token:s,value:t,isLoading:r}=e,{valueStr:o,usd:l}=(0,sB.Z)({value:t,exchangeRate:s.exchange_rate,decimals:s.decimals,accuracy:8,accuracyUsd:2});return(0,a.jsxs)(M.Z,{rowGap:2,children:[(0,a.jsx)(n.k,{alignItems:"center",width:"100%",children:(0,a.jsx)(eS.ZP,{token:s,isLoading:r,noCopy:!0,jointSymbol:!0,fontWeight:"700"})}),(0,a.jsxs)(n.k,{alignItems:"center",pl:8,children:[(0,a.jsx)(eZ.ZP,{address:{hash:s.address},isLoading:r,truncation:"constant",noIcon:!0}),(0,a.jsx)(sV.Z,{token:s,ml:2,isLoading:r})]}),void 0!==s.exchange_rate&&null!==s.exchange_rate&&(0,a.jsxs)(i.U,{spacing:3,children:[(0,a.jsx)(W.O,{isLoaded:!r,fontSize:"sm",fontWeight:500,children:"Price"}),(0,a.jsx)(W.O,{isLoaded:!r,fontSize:"sm",color:"text_secondary",children:(0,a.jsx)("span",{children:"$".concat(Number(s.exchange_rate).toLocaleString())})})]}),(0,a.jsxs)(i.U,{spacing:3,children:[(0,a.jsx)(W.O,{isLoaded:!r,fontSize:"sm",fontWeight:500,children:"Quantity"}),(0,a.jsx)(W.O,{isLoaded:!r,fontSize:"sm",color:"text_secondary",children:(0,a.jsx)("span",{children:o})})]}),void 0!==l&&(0,a.jsxs)(i.U,{spacing:3,children:[(0,a.jsx)(W.O,{isLoaded:!r,fontSize:"sm",fontWeight:500,children:"Value"}),(0,a.jsx)(W.O,{isLoaded:!r,fontSize:"sm",color:"text_secondary",children:(0,a.jsx)("span",{children:l})})]})]})},sM=l.memo(e=>{let{token:s,value:t,isLoading:i}=e,{valueStr:r,usd:o}=(0,sB.Z)({value:t,exchangeRate:s.exchange_rate,decimals:s.decimals,accuracy:8,accuracyUsd:2});return(0,a.jsxs)(v.Tr,{sx:{'&:hover [aria-label="Add token to wallet"]':{opacity:1}},children:[(0,a.jsx)(H.Td,{verticalAlign:"middle",children:(0,a.jsx)(eS.ZP,{token:s,isLoading:i,noCopy:!0,jointSymbol:!0,fontWeight:"700"})}),(0,a.jsx)(H.Td,{verticalAlign:"middle",children:(0,a.jsxs)(n.k,{alignItems:"center",width:"150px",justifyContent:"space-between",children:[(0,a.jsx)(eZ.ZP,{address:{hash:s.address},isLoading:i,noIcon:!0}),(0,a.jsx)(sV.Z,{token:s,ml:4,isLoading:i,opacity:"0"})]})}),(0,a.jsx)(H.Td,{isNumeric:!0,verticalAlign:"middle",children:(0,a.jsx)(W.O,{isLoaded:!i,display:"inline-block",children:s.exchange_rate&&"$".concat(Number(s.exchange_rate).toLocaleString())})}),(0,a.jsx)(H.Td,{isNumeric:!0,verticalAlign:"middle",children:(0,a.jsx)(W.O,{isLoaded:!i,display:"inline",children:r})}),(0,a.jsx)(H.Td,{isNumeric:!0,verticalAlign:"middle",children:(0,a.jsx)(W.O,{isLoaded:!i,display:"inline",children:o&&"$".concat(o)})})]})}),tokens_ERC20TokensTable=e=>{let{data:s,top:t,isLoading:n}=e;return(0,a.jsxs)(b.i,{variant:"simple",size:"sm",children:[(0,a.jsx)(z.Z,{top:t,children:(0,a.jsxs)(v.Tr,{children:[(0,a.jsx)(_.Th,{width:"30%",children:"Asset"}),(0,a.jsx)(_.Th,{width:"30%",children:"Contract address"}),(0,a.jsx)(_.Th,{width:"10%",isNumeric:!0,children:"Price"}),(0,a.jsx)(_.Th,{width:"15%",isNumeric:!0,children:"Quantity"}),(0,a.jsx)(_.Th,{width:"15%",isNumeric:!0,children:"Value"})]})}),(0,a.jsx)(k.p,{children:s.map((e,s)=>(0,a.jsx)(sM,{...e,isLoading:n},e.token.address+(n?s:"")))})]})},tokens_ERC20Tokens=e=>{let{tokensQuery:s}=e,t=(0,eN.Z)(),{isError:n,isPlaceholderData:i,data:r,pagination:o}=s,l=t&&o.isVisible&&(0,a.jsx)(P.Z,{mt:-6,children:(0,a.jsx)(E.Z,{ml:"auto",...o})}),d=(null==r?void 0:r.items)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.c,{below:"lg",ssr:!1,children:(0,a.jsx)(tokens_ERC20TokensTable,{data:r.items,top:o.isVisible?72:0,isLoading:i})}),(0,a.jsx)(y.d,{below:"lg",ssr:!1,children:r.items.map((e,s)=>(0,a.jsx)(tokens_ERC20TokensListItem,{...e,isLoading:i},e.token.address+(i?s:"")))})]}):null;return(0,a.jsx)(A.Z,{isError:n,items:null==r?void 0:r.items,emptyText:"There are no tokens of selected type.",content:d,actionBar:l})},sU=l.memo(e=>{let{name:s,value:t,isLoading:i}=e,o=(0,eM.ff)("blackAlpha.50","whiteAlpha.50");return(0,a.jsxs)(n.k,{p:5,bgColor:o,borderRadius:"16px",alignItems:"center",children:[(0,a.jsx)(ez.Z,{name:"wallet",boxSize:"30px",mr:3}),(0,a.jsxs)(r.xu,{children:[(0,a.jsx)(D.x,{variant:"secondary",fontSize:"xs",children:s}),(0,a.jsx)(W.O,{isLoaded:!i,fontWeight:"500",children:t})]})]})}),tokens_TokenBalances=()=>{var e;let s=(0,o.useRouter)(),t=null===(e=s.query.hash)||void 0===e?void 0:e.toString(),i=(0,c.Z)("address",{pathParams:{hash:t},queryOptions:{enabled:!!t,refetchOnMount:!1}}),r=useFetchTokens({hash:t});if(i.isError||r.isError)return(0,a.jsx)(ek.Z,{});let l=i.data,{valueStr:h,usdBn:u}=(0,sB.Z)({value:(null==l?void 0:l.coin_balance)||"0",accuracy:8,accuracyUsd:2,exchangeRate:null==l?void 0:l.exchange_rate,decimals:String(d.Z.chain.currency.decimals)}),x=getTokensTotalInfo(r.data),m=x.isOverflow?">":"",p=u.plus(x.usd),g=x.num>0?" | ".concat(m).concat(x.num," ").concat(x.num>1?"tokens":"token"):"";return(0,a.jsxs)(n.k,{columnGap:3,rowGap:3,mt:{base:"6px",lg:0},flexDirection:{base:"column",lg:"row"},children:[(0,a.jsx)(sU,{name:"Net Worth",value:(null==l?void 0:l.exchange_rate)?"".concat(m,"$").concat(p.toFormat(2)," USD"):"N/A",isLoading:i.isPending||r.isPending}),(0,a.jsx)(sU,{name:"".concat(L.Y.ether," Balance"),value:(u.eq(ed.xE)?"":"$".concat(u.toFormat(2)," USD | "))+"".concat(h," ").concat(L.Y.ether),isLoading:i.isPending||r.isPending}),(0,a.jsx)(sU,{name:"Tokens",value:"".concat(m,"$").concat(x.usd.toFormat(2)," USD ")+g,isLoading:i.isPending||r.isPending})]})};let sQ={my:3,py:5,columnGap:3},sH={my:8,columnGap:3},sY=sC.Z.bind(null,sL.fA);var address_AddressTokens=()=>{var e,s;let t;let n=(0,o.useRouter)(),d=(0,eN.Z)(),c=l.useRef(null),u=sZ.U2(sZ.aL.ADDRESS_NFT_DISPLAY_TYPE,(0,h.b)().cookies),[x,m]=l.useState("list"===u?"list":"collection"),[p,f]=l.useState(sY(n.query.type)||[]),b=(0,g.Z)(n.query.tab),v=(0,g.Z)(n.query.hash),_=(0,F.Z)({resourceName:"address_tokens",pathParams:{hash:v},filters:{type:"ERC-20"},scrollRef:c,options:{enabled:!b||"tokens_erc20"===b,refetchOnMount:!1,placeholderData:(0,T.F)(j.SB,10,{next_page_params:null})}}),k=(0,F.Z)({resourceName:"address_collections",pathParams:{hash:v},scrollRef:c,options:{enabled:"tokens_nfts"===b&&"collection"===x,placeholderData:(0,T.F)(j.CR,10,{next_page_params:null})},filters:{type:p}}),y=(0,F.Z)({resourceName:"address_nfts",pathParams:{hash:v},scrollRef:c,options:{enabled:"tokens_nfts"===b&&"list"===x,placeholderData:(0,T.F)(j.Co,10,{next_page_params:null})},filters:{type:p}}),w=l.useCallback(e=>{sZ.t8(sZ.aL.ADDRESS_NFT_DISPLAY_TYPE,e),m(e)},[]),Z=l.useCallback(e=>{y.onFilterChange({type:e}),k.onFilterChange({type:e}),f(e)},[y,k]),C=(0,a.jsx)(sS.Z,{isActive:p&&p.length>0,contentProps:{w:"200px"},appliedFiltersNum:null==p?void 0:p.length,children:(0,a.jsx)(sT.Z,{nftOnly:!0,onChange:Z,defaultValue:p})}),L=!!(null==p?void 0:p.length),S=[{id:"tokens_erc20",title:"ERC-20",component:(0,a.jsx)(tokens_ERC20Tokens,{tokensQuery:_})},{id:"tokens_nfts",title:"NFTs",component:"list"===x?(0,a.jsx)(tokens_AddressNFTs,{tokensQuery:y,hasActiveFilters:L}):(0,a.jsx)(tokens_AddressCollections,{collectionsQuery:k,address:v,hasActiveFilters:L})}],P=(0,a.jsx)(radioButtonGroup_RadioButtonGroup,{onChange:w,defaultValue:x,name:"type",options:[{title:"By collection",value:"collection",icon:"collection",onlyIcon:d},{title:"List",value:"list",icon:"apps",onlyIcon:d}]});t="tokens_nfts"===b?"list"===x?y.pagination:k.pagination:_.pagination;let A=!y.isPlaceholderData&&(null===(e=y.data)||void 0===e?void 0:e.items.length)||!k.isPlaceholderData&&(null===(s=k.data)||void 0===s?void 0:s.items.length),I="tokens"!==b&&"tokens_erc20"!==b,D=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.U,{spacing:3,children:[I&&(A||L)&&P,I&&(A||L)&&C]}),t.isVisible&&!d&&(0,a.jsx)(E.Z,{...t})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tokens_TokenBalances,{}),(0,a.jsx)(r.xu,{ref:c}),(0,a.jsx)(sR.Z,{tabs:S,variant:"outline",colorScheme:"gray",size:"sm",tabListProps:d?sH:sQ,rightSlot:D,rightSlotProps:"tokens_erc20"===b||d?{}:{flexGrow:1,display:"flex",justifyContent:"space-between",ml:8},stickyEnabled:!d})]})},s$=t(48291),sJ=t(6040),sK=t(58395),sX=t(57742),s0=t(49298),s1=t(36834),s2=t(65165);let s5=sC.Z.bind(null,sL.NK),s3=getFilterValue.bind(null,sa.k),matchFilters=(e,s,t)=>(!e.filter||("from"!==e.filter||s.from.hash===t)&&("to"!==e.filter||s.to.hash===t))&&(!e.type||!e.type.length||!!e.type.includes(s.token.type));var address_AddressTokenTransfers=e=>{var s;let{scrollRef:t,overloadCount:i=75}=e,r=(0,o.useRouter)(),d=(0,w.NL)(),h=(0,eN.Z)(),u=(0,g.Z)(r.query.hash),[x,m]=l.useState(""),[p,j]=l.useState(0),b=(0,g.Z)(r.query.token)||void 0,[v,_]=l.useState({type:s5(r.query.type)||[],filter:s3(r.query.filter)}),{isError:k,isPlaceholderData:L,data:S,pagination:T,onFilterChange:I}=(0,F.Z)({resourceName:"address_token_transfers",pathParams:{hash:u},filters:b?{token:b}:v,scrollRef:t,options:{placeholderData:(0,s$.tv)(void 0,{block_number:7793535,index:46,items_count:50})}}),R=l.useCallback(e=>{I({...v,type:e}),_(s=>({...s,type:e}))},[v,I]),N=l.useCallback(e=>{let s=s3(e);I({...v,filter:s}),_(e=>({...e,filter:s}))},[v,I]),O=l.useCallback(()=>{I({})},[I]),z=l.useCallback(()=>{m("Connection is lost. Please refresh the page to load new token transfers.")},[]),W=l.useCallback(()=>{m("An error has occurred while fetching new token transfers. Please refresh the page.")},[]),q=(0,Z.Z)({topic:"addresses:".concat(u.toLowerCase()),onSocketClose:z,onSocketError:W,isDisabled:1!==T.page||!!b});(0,C.Z)({channel:q,event:"token_transfer",handler:e=>{m("");let s=[],t=0;e.token_transfers.forEach(e=>{(null==S?void 0:S.items)&&S.items.length+s.length>=i?matchFilters(v,e,u)&&t++:matchFilters(v,e,u)&&s.push(e)}),t>0&&j(e=>e+t),s.length>0&&d.setQueryData((0,c.$)("address_token_transfers",{pathParams:{hash:u},queryParams:{...v}}),e=>{if(e)return{...e,items:[...s,...e.items]}})}});let G=((null===(s=v.type)||void 0===s?void 0:s.length)||0)+(v.filter?1:0),B=!b&&!G&&!(null==S?void 0:S.items.length)&&!u,V=(null==S?void 0:S.items)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.c,{below:"lg",ssr:!1,children:(0,a.jsx)(s2.Z,{data:null==S?void 0:S.items,baseAddress:u,showTxInfo:!0,top:B?0:80,enableTimeIncrement:!0,showSocketInfo:1===T.page&&!b,socketInfoAlert:x,socketInfoNum:p,isLoading:L})}),(0,a.jsxs)(y.d,{below:"lg",ssr:!1,children:[1===T.page&&!b&&(0,a.jsx)(sX.ij,{url:window.location.href,num:p,alert:x,type:"token_transfer",isLoading:L}),(0,a.jsx)(s1.Z,{data:null==S?void 0:S.items,baseAddress:u,showTxInfo:!0,enableTimeIncrement:!0,isLoading:L})]})]}):null,M=l.useMemo(()=>({address:b||"",name:"",icon_url:"",symbol:"",type:"ERC-20"}),[b]),U=b&&(0,a.jsxs)(n.k,{alignItems:"center",flexWrap:"wrap",mb:{base:B?3:6,lg:0},mr:4,children:[(0,a.jsx)(D.x,{whiteSpace:"nowrap",mr:2,py:1,children:"Filtered by token"}),(0,a.jsxs)(n.k,{alignItems:"center",py:1,children:[(0,a.jsx)(eS.JO,{token:M,isLoading:L}),h?(0,a.jsx)(sJ.Z,{hash:b}):b,(0,a.jsx)(sK.Z,{onClick:O})]})]}),Q=(0,a.jsxs)(a.Fragment,{children:[h&&U,!B&&(0,a.jsxs)(P.Z,{mt:-6,children:[!h&&U,!b&&(0,a.jsx)(s0.Z,{defaultTypeFilters:v.type,onTypeFilterChange:R,appliedFiltersNum:G,withAddressFilter:!0,onAddressFilterChange:N,defaultAddressFilter:v.filter,isLoading:L}),u&&(0,a.jsx)(su.Z,{address:u,params:{type:"token-transfers",filterType:"address",filterValue:v.filter},ml:{base:2,lg:"auto"},isLoading:L}),(0,a.jsx)(E.Z,{ml:{base:"auto",lg:8},...T})]})]});return(0,a.jsx)(A.Z,{isError:k,items:null==S?void 0:S.items,emptyText:"There are no token transfers.",filterProps:{emptyFilteredText:"Couldn".concat(sn.Iy,"t find any token transfer that matches your query."),hasActiveFilters:!!G},content:V,actionBar:Q})},s8=t(64150),s4=t(11337),s7=t(50214),s6=t(99545),txs_TxsWithAPISorting=e=>{var s;let{filter:t,filterValue:n,query:i,showBlockInfo:r=!0,showSocketInfo:o=!0,socketInfoAlert:d,socketInfoNum:c,currentAddress:h,enableTimeIncrement:u,top:x,sorting:m,setSort:p}=e,g=l.useCallback(e=>{p(e),i.onSortingChange((0,s4.Z)(e))},[p,i]);return(0,a.jsx)(s6.Z,{filter:t,filterValue:n,showBlockInfo:r,showSocketInfo:o,socketInfoAlert:d,socketInfoNum:c,currentAddress:h,enableTimeIncrement:u,top:x,items:null===(s=i.data)||void 0===s?void 0:s.items,isPlaceholderData:i.isPlaceholderData,isError:i.isError,setSorting:g,sort:m,query:i})},s9=t(20459);let te=getFilterValue.bind(null,sa.k),matchFilter=(e,s,t)=>{if(!e)return!0;if("from"===e)return s.from.hash===t;if("to"===e){var a;return(null===(a=s.to)||void 0===a?void 0:a.hash)===t}};var address_AddressTxs=e=>{let{scrollRef:s,overloadCount:t=75}=e,n=(0,o.useRouter)(),i=(0,w.NL)(),[r,d]=l.useState(""),[h,u]=l.useState(0),[x,m]=l.useState((0,s7.Z)(n.query,s9.a)),p=(0,eN.Z)(),j=(0,g.Z)(n.query.hash),[f,b]=l.useState(te(n.query.filter)),v=(0,F.Z)({resourceName:"address_txs",pathParams:{hash:j},filters:{filter:f},sorting:(0,s4.Z)(x),scrollRef:s,options:{placeholderData:(0,T.F)(s8.TX,50,{next_page_params:{block_number:9005713,index:5,items_count:50}})}}),_=l.useCallback(e=>{let s=te(e);b(s),v.onFilterChange({filter:s})},[v]),handleNewSocketMessage=e=>{d(""),i.setQueryData((0,c.$)("address_txs",{pathParams:{hash:j},queryParams:{filter:f}}),s=>{if(!s)return;let a=[],n=0;return e.transactions.forEach(e=>{let i=s.items.findIndex(s=>s.hash===e.hash);i>-1?s.items[i]=e:matchFilter(f,e,j)&&(a.length+s.items.length>=t?n++:a.push(e))}),n>0&&u(e=>e+n),{...s,items:[...a,...s.items]}})},k=l.useCallback(()=>{d("Connection is lost. Please refresh the page to load new transactions.")},[]),y=l.useCallback(()=>{d("An error has occurred while fetching new transactions. Please refresh the page.")},[]),L=(0,Z.Z)({topic:"addresses:".concat(null==j?void 0:j.toLowerCase()),onSocketClose:k,onSocketError:y,isDisabled:1!==v.pagination.page||v.isPlaceholderData});(0,C.Z)({channel:L,event:"transaction",handler:handleNewSocketMessage}),(0,C.Z)({channel:L,event:"pending_transaction",handler:handleNewSocketMessage});let S=(0,a.jsx)(sv,{defaultFilter:f,onFilterChange:_,isActive:!!f,isLoading:v.pagination.isLoading}),A=(0,a.jsx)(su.Z,{address:j,params:{type:"transactions",filterType:"address",filterValue:f},ml:"auto",isLoading:v.pagination.isLoading});return(0,a.jsxs)(a.Fragment,{children:[!p&&(0,a.jsxs)(P.Z,{mt:-6,children:[S,j&&A,(0,a.jsx)(E.Z,{...v.pagination,ml:8})]}),(0,a.jsx)(txs_TxsWithAPISorting,{filter:S,filterValue:f,query:v,currentAddress:"string"==typeof j?j:void 0,enableTimeIncrement:!0,showSocketInfo:1===v.pagination.page,socketInfoAlert:r,socketInfoNum:h,top:80,sorting:x,setSort:m})]})},ts=t(16471),tt=t(33519),ta=t(68830),address_AddressWithdrawals=e=>{let{scrollRef:s}=e,t=(0,o.useRouter)(),n=(0,g.Z)(t.query.hash),{data:i,isPlaceholderData:r,isError:l,pagination:d}=(0,F.Z)({resourceName:"address_withdrawals",pathParams:{hash:n},scrollRef:s,options:{placeholderData:(0,T.F)(ts.v,50,{next_page_params:{index:5,items_count:50}})}}),c=(null==i?void 0:i.items)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.d,{below:"lg",ssr:!1,children:i.items.map((e,s)=>(0,a.jsx)(tt.Z,{item:e,view:"address",isLoading:r},e.index+Number(r?s:"")))}),(0,a.jsx)(f.c,{below:"lg",ssr:!1,children:(0,a.jsx)(ta.Z,{items:i.items,view:"address",top:d.isVisible?80:0,isLoading:r})})]}):null,h=d.isVisible?(0,a.jsx)(P.Z,{mt:-6,children:(0,a.jsx)(E.Z,{ml:"auto",...d})}):null;return(0,a.jsx)(A.Z,{isError:l,items:null==i?void 0:i.items,emptyText:"There are no withdrawals for this address.",content:c,actionBar:h})},tn=t(87456),ti=t(65812),tr=t(93954),to=t(36340),tl=(0,N.m)(e=>{let{className:s,hash:t,watchListId:n}=e,i=(0,eV.q)(),r=(0,eV.q)(),h=(0,w.NL)(),u=(0,o.useRouter)(),x=(0,tn.Z)(),m=(0,ti.Z)(),p=l.useCallback(()=>{x()&&(n?r.onOpen():i.onOpen(),n||eO.Kz(eO.GM.PAGE_WIDGET,{Type:"Add to watchlist"}))},[x,n,r,i]),g=l.useCallback(async()=>{var e;let s=(0,c.$)("address",{pathParams:{hash:null===(e=u.query.hash)||void 0===e?void 0:e.toString()}});await h.refetchQueries({queryKey:s}),i.onClose()},[i,h,u.query.hash]),j=l.useCallback(()=>{i.onClose()},[i]),f=l.useCallback(()=>{r.onClose()},[r]),b=l.useMemo(()=>({address_hash:t,id:String(n)}),[t,n]);return d.Z.features.account.isEnabled?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eP.u,{label:"".concat(n?"Remove address from Watch list":"Add address to Watch list"),children:(0,a.jsx)(eA.h,{isActive:!!n,className:s,"aria-label":"edit",variant:"outline",size:"sm",pl:"6px",pr:"6px",flexShrink:0,onClick:p,icon:(0,a.jsx)(ez.Z,{name:n?"star_filled":"star_outline",boxSize:5}),onFocusCapture:m})}),(0,a.jsx)(tr.Z,{...i,isAdd:!0,onClose:j,onSuccess:g,data:b}),(0,a.jsx)(to.Z,{...r,onClose:f,data:b,onSuccess:g})]}):null}),td=t(57654),tc=t(74691),th=t.n(tc),tu=t(24932);let DomainsGrid=e=>{let{data:s}=e;return(0,a.jsx)(eg.r,{templateColumns:{base:"repeat(".concat(th()(s.length,1,2),", 1fr)"),lg:"repeat(".concat(th()(s.length,1,3),", 1fr)")},columnGap:8,rowGap:4,mt:2,children:s.slice(0,9).map(e=>(0,a.jsx)(tu.ZP,{name:e.name,noCopy:!0},e.id))})};var tx=l.memo(e=>{let{addressHash:s,mainDomainName:t}=e,{isOpen:i,onToggle:r,onClose:o}=(0,eV.q)(),{data:l,isPending:h,isError:u}=(0,c.Z)("addresses_lookup",{pathParams:{chainId:d.Z.chain.id},queryParams:{address:s,resolved_to:!0,owned_by:!0,only_active:!0,order:"ASC"}});if(u)return null;if(h)return(0,a.jsx)(W.O,{h:8,w:{base:"60px",lg:"120px"},borderRadius:"base"});if(0===l.items.length)return null;let x=l.items.find(e=>e.name===t),m=l.items.filter(e=>{var a;return e.name!==t&&(!e.resolved_address||e.resolved_address.hash.toLowerCase()!==s.toLowerCase())&&(!!e.owner&&e.owner.hash.toLowerCase()===s.toLowerCase()||(null===(a=e.wrapped_owner)||void 0===a?void 0:a.hash.toLowerCase())===s.toLowerCase()&&(!e.resolved_address||e.resolved_address.hash.toLowerCase()!==s.toLowerCase()))}),p=l.items.filter(e=>e.resolved_address&&e.resolved_address.hash.toLowerCase()===s.toLowerCase()&&e.name!==t),g=l.items.length>40?"40+":l.items.length;return(0,a.jsxs)(eU.J,{isOpen:i,onClose:o,placement:"bottom-start",isLazy:!0,children:[(0,a.jsx)(eQ.x,{children:(0,a.jsxs)(e$.z,{size:"sm",variant:"outline",colorScheme:"gray",onClick:r,"aria-label":"Address ENS domains",fontWeight:500,px:2,h:"32px",flexShrink:0,children:[(0,a.jsx)(ez.Z,{name:"ENS_slim",boxSize:5}),(0,a.jsxs)(N.m.span,{ml:1,display:{base:"none",lg:"block"},children:[g," Domain",l.items.length>1?"s":""]}),(0,a.jsx)(ez.Z,{name:"arrows/east-mini",transform:i?"rotate(90deg)":"rotate(-90deg)",transitionDuration:"faster",boxSize:5})]})}),(0,a.jsx)(eH.y,{w:{base:"100vw",lg:"500px"},children:(0,a.jsxs)(eY.b,{px:6,py:5,fontSize:"sm",display:"flex",flexDir:"column",rowGap:5,alignItems:"flex-start",children:[x&&(0,a.jsxs)("div",{children:[(0,a.jsx)(N.m.span,{color:"text_secondary",fontSize:"xs",children:"Primary*"}),(0,a.jsxs)(n.k,{alignItems:"center",fontSize:"md",mt:2,children:[(0,a.jsx)(tu.ZP,{name:x.name,fontWeight:600,noCopy:!0}),x.expiry_date&&(0,a.jsxs)(N.m.span,{color:"text_secondary",whiteSpace:"pre",children:[" (expires ",(0,s_.Z)(x.expiry_date).fromNow(),")"]})]})]}),m.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)(N.m.span,{color:"text_secondary",fontSize:"xs",children:"Owned by this address"}),(0,a.jsx)(DomainsGrid,{data:m})]}),p.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)(N.m.span,{color:"text_secondary",fontSize:"xs",children:"Resolved to this address"}),(0,a.jsx)(DomainsGrid,{data:p})]}),(m.length>9||p.length>9)&&(0,a.jsxs)(eb.Z,{href:(0,ef.B)({pathname:"/name-domains",query:{owned_by:"true",resolved_to:"true",address:s}}),children:[(0,a.jsx)("span",{children:" More results"}),(0,a.jsxs)(N.m.span,{color:"text_secondary",children:[" (",g,")"]})]}),x&&(0,a.jsx)(N.m.span,{fontSize:"xs",mt:-1,children:"*A domain name is not necessarily held by a person popularly associated with the name"})]})})]})}),tm=t(7754),tp=t(32841),tg=t(30721);let tj=[{id:"critical",name:"Critical",color:"#891F11"},{id:"high",name:"High",color:"#EC672C"},{id:"medium",name:"Medium",color:"#FBE74D"},{id:"low",name:"Low",color:"#68C88E"},{id:"informational",name:"Informational",color:"#A3AEBE"},{id:"gas",name:"Gas",color:"#A47585"}],SolidityScanReportItem=e=>{let{item:s,vulnerabilities:t,vulnerabilitiesCount:i}=e,o=(0,eM.ff)("blackAlpha.50","whiteAlpha.50"),l=(0,eM.ff)("gray.400","gray.500");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.xu,{w:3,h:3,bg:s.color,borderRadius:"6px",mr:2}),(0,a.jsxs)(n.k,{justifyContent:"space-between",mr:3,children:[(0,a.jsx)(D.x,{children:s.name}),(0,a.jsx)(D.x,{color:t[s.id]>0?"text":l,children:t[s.id]})]}),(0,a.jsx)(r.xu,{bg:o,h:"10px",borderRadius:"8px",children:(0,a.jsx)(r.xu,{bg:s.color,w:t[s.id]/i,h:"10px",borderRadius:"8px"})})]})};var tf=(0,N.m)(e=>{let s,t,{className:i,hash:o}=e,{isOpen:l,onToggle:d,onClose:h}=(0,eV.q)(),{data:u,isPlaceholderData:x,isError:m}=(0,c.Z)("contract_solidityscan_report",{pathParams:{hash:o},queryOptions:{enabled:!!o,placeholderData:tp.FH}}),p=Number(null==u?void 0:u.scan_report.scan_summary.score_v2),g=(0,eM.ff)("gray.100","gray.700"),j=(0,eM.ff)("gray.400","gray.500"),f=(0,eM.ff)("white","gray.900"),b=(0,eM.ff)("green.600","green.400"),v=(0,eM.ff)("purple.600","purple.400"),_=(0,eM.ff)("red.600","red.400");if(m||!p)return null;p>=80?(s=b,t="GREAT"):p>=30?(s=v,t="AVERAGE"):(s=_,t="LOW");let k=null==u?void 0:u.scan_report.scan_summary.issue_severity_distribution,y=k?Object.values(k):[],w=y.reduce((e,s)=>e+s,0);return(0,a.jsxs)(eU.J,{isOpen:l,onClose:h,placement:"bottom-start",isLazy:!0,children:[(0,a.jsx)(eQ.x,{children:(0,a.jsx)(W.O,{isLoaded:!x,children:(0,a.jsxs)(e$.z,{className:i,color:s,size:"sm",variant:"outline",colorScheme:"gray",onClick:d,"aria-label":"SolidityScan score",fontWeight:500,px:2,h:"32px",flexShrink:0,children:[(0,a.jsx)(ez.Z,{name:p<80?"score/score-not-ok":"score/score-ok",boxSize:5,mr:1}),p]})})}),(0,a.jsx)(eH.y,{w:{base:"100vw",lg:"328px"},children:(0,a.jsxs)(eY.b,{px:"26px",py:"20px",fontSize:"sm",children:[(0,a.jsx)(r.xu,{mb:5,children:"Contract analyzed for 140+ vulnerability patterns by SolidityScan"}),(0,a.jsxs)(n.k,{alignItems:"center",mb:5,children:[(0,a.jsx)(r.xu,{w:12,h:12,bgGradient:"conic-gradient(".concat(s," 0, ").concat(s," ").concat(p,"%, ").concat(g," 0, ").concat(g," 100%)"),borderRadius:"24px",position:"relative",mr:3,children:(0,a.jsx)(tm.M,{position:"absolute",w:"38px",h:"38px",top:"5px",right:"5px",bg:f,borderRadius:"20px",children:(0,a.jsx)(ez.Z,{name:p<80?"score/score-not-ok":"score/score-ok",boxSize:5,color:s})})}),(0,a.jsxs)(r.xu,{children:[(0,a.jsxs)(n.k,{children:[(0,a.jsx)(D.x,{color:s,fontSize:"lg",fontWeight:500,children:p}),(0,a.jsx)(D.x,{color:j,fontSize:"lg",fontWeight:500,whiteSpace:"pre",children:" / 100"})]}),(0,a.jsxs)(D.x,{color:s,fontWeight:500,children:["Security score is ",t]})]})]}),k&&w>0&&(0,a.jsxs)(r.xu,{mb:5,children:[(0,a.jsx)(D.x,{py:"7px",variant:"secondary",fontSize:"xs",fontWeight:500,children:"Vulnerabilities distribution"}),(0,a.jsx)(eg.r,{templateColumns:"20px 1fr 100px",alignItems:"center",rowGap:2,children:tj.map(e=>(0,a.jsx)(SolidityScanReportItem,{item:e,vulnerabilities:k,vulnerabilitiesCount:w},e.id))})]}),(0,a.jsx)(tg.Z,{href:null==u?void 0:u.scan_report.scanner_reference_url,children:"View full report"})]})})]})}),tb=t(80302),tv=t(32770),t_=t(23551),tk=t(93274),ty=t(56048),tw=t(42850);let tZ=["tokens_erc20","tokens_nfts","tokens_nfts_collection","tokens_nfts_list"];var Address=()=>{var e,s,t,f,b,v,_,k,y,w,Z,C;let L=(0,o.useRouter)(),S=(0,h.b)(),T=l.useRef(null),P=(0,g.Z)(L.query.hash),A=(0,c.Z)("address",{pathParams:{hash:P},queryOptions:{enabled:!!P,placeholderData:j.SX}}),E=(0,c.Z)("address_tabs_counters",{pathParams:{hash:P},queryOptions:{enabled:!!P,placeholderData:j.pm}}),F=function(e){let s=(0,m.Z)(),{data:t}=(0,x.a)({queryKey:["safe_transaction_api",e],queryFn:async()=>p.isEnabled&&e?s("".concat(p.apiUrl,"/").concat(e),void 0,{omitSentryErrorLog:!0}):Promise.reject(),enabled:p.isEnabled&&!!e,refetchOnMount:!1});return!!t}(!A.isPlaceholderData&&(null===(e=A.data)||void 0===e?void 0:e.is_contract)?P:void 0),I=(0,u.Z)(A.data),D=l.useMemo(()=>{var e,s,t,n,i,r,o,l,c,h,u;return[{id:"txs",title:"Transactions",count:null===(e=E.data)||void 0===e?void 0:e.transactions_count,component:(0,a.jsx)(address_AddressTxs,{scrollRef:T})},d.Z.features.beaconChain.isEnabled&&(null===(s=E.data)||void 0===s?void 0:s.withdrawals_count)?{id:"withdrawals",title:"Withdrawals",count:null===(t=E.data)||void 0===t?void 0:t.withdrawals_count,component:(0,a.jsx)(address_AddressWithdrawals,{scrollRef:T})}:void 0,{id:"token_transfers",title:"Token transfers",count:null===(n=E.data)||void 0===n?void 0:n.token_transfers_count,component:(0,a.jsx)(address_AddressTokenTransfers,{scrollRef:T})},{id:"tokens",title:"Tokens",count:null===(i=E.data)||void 0===i?void 0:i.token_balances_count,component:(0,a.jsx)(address_AddressTokens,{}),subTabs:tZ},{id:"internal_txns",title:"Internal txns",count:null===(r=E.data)||void 0===r?void 0:r.internal_txs_count,component:(0,a.jsx)(address_AddressInternalTxs,{scrollRef:T})},{id:"coin_balance_history",title:"Coin balance history",component:(0,a.jsx)(em,{})},"validation"===d.Z.chain.verificationType&&(null===(o=E.data)||void 0===o?void 0:o.validations_count)?{id:"blocks_validated",title:"Blocks validated",count:null===(l=E.data)||void 0===l?void 0:l.validations_count,component:(0,a.jsx)($,{scrollRef:T})}:void 0,(null===(c=E.data)||void 0===c?void 0:c.logs_count)?{id:"logs",title:"Logs",count:null===(h=E.data)||void 0===h?void 0:h.logs_count,component:(0,a.jsx)(address_AddressLogs,{scrollRef:T})}:void 0,(null===(u=A.data)||void 0===u?void 0:u.is_contract)?{id:"contract",title:()=>A.data.is_verified?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Contract"}),(0,a.jsx)(ez.Z,{name:"status/success",boxSize:"14px",color:"green.500",ml:1})]}):"Contract",component:(0,a.jsx)(ep.Z,{tabs:I}),subTabs:I.map(e=>e.id)}:void 0].filter(Boolean)},[A.data,I,E.data]),R=(0,a.jsx)(t_.Z,{data:A.data,isLoading:A.isPlaceholderData,tagsBefore:[(null===(s=A.data)||void 0===s?void 0:s.is_contract)?void 0:{label:"eoa",display_name:"EOA"},(null===(t=A.data)||void 0===t?void 0:t.implementation_address)?{label:"proxy",display_name:"Proxy"}:void 0,(null===(f=A.data)||void 0===f?void 0:f.token)?{label:"token",display_name:"Token"}:void 0,F?{label:"safe",display_name:"Multisig: Safe"}:void 0]}),N=A.isError?null:(0,a.jsx)(sR.Z,{tabs:D,tabListProps:{mt:8}}),O=l.useMemo(()=>{let e=S.referrer&&S.referrer.includes("/accounts");if(e)return{label:"Back to top accounts list",url:S.referrer}},[S.referrer]),z=A.isPlaceholderData,W=(0,a.jsxs)(n.k,{alignItems:"center",w:"100%",columnGap:2,rowGap:2,flexWrap:{base:"wrap",lg:"nowrap"},children:[(null===(b=A.data)||void 0===b?void 0:b.ens_domain_name)&&(0,a.jsx)(tu.ZP,{name:null===(v=A.data)||void 0===v?void 0:v.ens_domain_name,fontFamily:"heading",fontSize:"lg",fontWeight:500,mr:1,maxW:"300px"}),(0,a.jsx)(eZ.ZP,{address:{...A.data,hash:P,name:"",ens_domain_name:""},isLoading:z,fontFamily:"heading",fontSize:"lg",fontWeight:500,noLink:!0,isSafeAddress:F,mr:4}),!z&&(null===(_=A.data)||void 0===_?void 0:_.is_contract)&&A.data.token&&(0,a.jsx)(sV.Z,{token:A.data.token,variant:"button"}),!z&&!(null===(k=A.data)||void 0===k?void 0:k.is_contract)&&d.Z.features.account.isEnabled&&(0,a.jsx)(tl,{hash:P,watchListId:null===(y=A.data)||void 0===y?void 0:y.watchlist_address_id}),(0,a.jsx)(td.Z,{address:{hash:P},isLoading:z}),(0,a.jsx)(tb.Z,{isLoading:z}),(0,a.jsx)(i.U,{ml:"auto",gap:2}),(null===(w=A.data)||void 0===w?void 0:w.is_contract)&&(null===(Z=A.data)||void 0===Z?void 0:Z.is_verified)&&d.Z.UI.views.address.solidityscanEnabled&&(0,a.jsx)(tf,{hash:P}),!z&&A.data&&d.Z.features.nameService.isEnabled&&(0,a.jsx)(tx,{addressHash:P,mainDomainName:A.data.ens_domain_name}),(0,a.jsx)(tk.Z,{type:"address",pathParam:P})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tv.Z,{mb:6}),(0,a.jsx)(ty.Z,{title:"".concat((null===(C=A.data)||void 0===C?void 0:C.is_contract)?"Contract":"Address"," details"),backLink:O,contentAfter:R,secondRow:W,isLoading:z}),(0,a.jsx)(st,{addressQuery:A,scrollRef:T}),(0,a.jsx)(r.xu,{ref:T}),A.isPlaceholderData||E.isPlaceholderData?(0,a.jsx)(tw.Z,{tabs:D}):N]})}},69029:function(e,s,t){"use strict";t.d(s,{Z:function(){return CheckboxInput}});var a=t(85893),n=t(15058),i=t(67294);function CheckboxInput(e){let{field:s,text:t,onChange:r,isDisabled:o}=e,l=i.useCallback(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];s.onChange(...t),null==r||r()},[s,r]);return(0,a.jsx)(n.X,{isChecked:s.value,onChange:l,ref:s.ref,colorScheme:"blue",size:"lg",isDisabled:o,children:t})}},16789:function(e,s,t){"use strict";var a=t(85893),n=t(34151),i=t(65291),r=t(77374),o=t(10191),l=t(23438),d=t(56880),c=t(23100),h=t(57386),u=t(96272),x=t(4527),m=t(67294),p=t(55036),g=t(26121);s.Z=e=>{let{isOpen:s,onClose:t,title:j,renderContent:f,mutationFn:b,onSuccess:v}=e,[_,k]=(0,m.useState)(!1),y=(0,m.useCallback)(()=>{k(!1),t()},[t,k]),w=(0,x.D)({mutationFn:b,onSuccess:async()=>{v(),t()},onError:()=>{k(!0)}}),Z=(0,m.useCallback)(()=>{k(!1),w.mutate()},[k,w]),C=(0,p.Z)();return(0,a.jsxs)(n.u_,{isOpen:s,onClose:y,size:C?"full":"md",children:[(0,a.jsx)(i.Z,{}),(0,a.jsxs)(r.h,{children:[(0,a.jsx)(o.x,{fontWeight:"500",textStyle:"h3",children:j}),(0,a.jsx)(l.o,{}),(0,a.jsxs)(d.f,{children:[_&&(0,a.jsx)(c.xu,{mb:4,children:(0,a.jsx)(g.Z,{})}),f()]}),(0,a.jsx)(h.m,{children:(0,a.jsx)(u.z,{size:"lg",onClick:Z,isLoading:w.isPending,isDisabled:!1,children:"Delete"})})]})]})}},24932:function(e,s,t){"use strict";var a=t(85893),n=t(75350),i=t(57557),r=t.n(i),o=t(67294),l=t(99640),d=t(24193),c=t(40847);let h=(0,n.m)(e=>{var s;let t=(0,l.B)({pathname:"/name-domains/[name]",query:{name:e.name}});return(0,a.jsx)(d.rU,{...e,href:null!==(s=e.href)&&void 0!==s?s:t,children:e.children})}),Icon=e=>{var s;return(0,a.jsx)(d.JO,{...e,name:null!==(s=e.iconName)&&void 0!==s?s:"ENS_slim"})},u=(0,n.m)(e=>(0,a.jsx)(c.Z,{isLoading:e.isLoading,value:e.name})),Copy=e=>(0,a.jsx)(d.CK,{...e,text:e.name}),x=d.W2;s.ZP=o.memo((0,n.m)(e=>{let s=r()(e,["className"]),t=r()(e,["className","onClick"]);return(0,a.jsxs)(x,{className:e.className,children:[(0,a.jsx)(Icon,{...t}),(0,a.jsx)(h,{...s,children:(0,a.jsx)(u,{...t})}),(0,a.jsx)(Copy,{...t})]})}))},11337:function(e,s,t){"use strict";function getSortParamsFromValue(e){if(!e)return;let s=e.split("-");return{sort:s[0],order:s[1]}}t.d(s,{Z:function(){return getSortParamsFromValue}})},50214:function(e,s,t){"use strict";function getSortValueFromQuery(e,s){if(!e.sort||!e.order)return;let t=e.sort+"-"+e.order;if(s.map(e=>e.id).includes(t))return t}t.d(s,{Z:function(){return getSortValueFromQuery}})},93954:function(e,s,t){"use strict";t.d(s,{Z:function(){return AddressModal_AddressModal}});var a=t(85893),n=t(67294),i=t(74408),r=t(12498),o=t(23100),l=t(88911),d=t(96272),c=t(4527),h=t(87536),u=t(22099),x=t(77078),m=t(97477),p=t(49876),g=t(69029),j=t(22362),f=t(31708),b=t(776),v=t(44831);let _=["native","ERC-20","ERC-721"],k=[v.Z.chain.currency.symbol,"ERC-20","ERC-721, ERC-1155 (NFT)"];function AddressFormNotifications(e){let{control:s}=e,t=(0,n.useCallback)(e=>s=>{let{field:t}=s;return(0,a.jsx)(g.Z,{text:e,field:t})},[]);return(0,a.jsx)(f.r,{templateColumns:{base:"repeat(2, max-content)",lg:"repeat(3, max-content)"},gap:{base:"10px 24px",lg:"20px 24px"},children:_.map((e,i)=>{let r="notification_settings.".concat(e,".incoming"),o="notification_settings.".concat(e,".outcoming");return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(b.P,{gridColumnStart:{base:1,lg:1},gridColumnEnd:{base:3,lg:1},_notFirst:{mt:{base:3,lg:0}},children:k[i]}),(0,a.jsx)(b.P,{children:(0,a.jsx)(h.Qr,{name:r,control:s,render:t("Incoming")})}),(0,a.jsx)(b.P,{children:(0,a.jsx)(h.Qr,{name:o,control:s,render:t("Outgoing")})})]},e)})})}let y=["native","ERC-20","ERC-721"];var AddressModal_AddressForm=e=>{let{data:s,onSuccess:t,setAlertVisible:i,isAdd:f}=e,[b,v]=(0,n.useState)(!1),_=(0,r.ff)("white","gray.900"),k={};(null==s?void 0:s.notification_settings)?k=s.notification_settings:y.forEach(e=>k[e]={incoming:!0,outcoming:!0});let{control:w,handleSubmit:Z,formState:{errors:C,isDirty:L},setError:S}=(0,h.cI)({defaultValues:{address:(null==s?void 0:s.address_hash)||"",tag:(null==s?void 0:s.name)||"",notification:null==s||!s.notification_methods||s.notification_methods.email,notification_settings:k},mode:"onTouched"}),T=(0,u.Z)(),{mutate:P}=(0,c.D)({mutationFn:function(e){let t={name:null==e?void 0:e.tag,address_hash:null==e?void 0:e.address,notification_settings:e.notification_settings,notification_methods:{email:e.notification}};return!f&&s?T("watchlist",{pathParams:{id:(null==s?void 0:s.id)||""},fetchParams:{method:"PUT",body:t}}):T("watchlist",{fetchParams:{method:"POST",body:t}})},onSuccess:async()=>{await t(),v(!1)},onError:e=>{var s;v(!1);let t=null===(s=e.payload)||void 0===s?void 0:s.errors;(null==t?void 0:t.address_hash)||(null==t?void 0:t.name)?((null==t?void 0:t.address_hash)&&S("address",{type:"custom",message:(0,x.Z)(t,"address_hash")}),(null==t?void 0:t.name)&&S("tag",{type:"custom",message:(0,x.Z)(t,"name")})):(null==t?void 0:t.watchlist_id)?S("address",{type:"custom",message:(0,x.Z)(t,"watchlist_id")}):i(!0)}}),A=(0,n.useCallback)(e=>{let{field:s}=e;return(0,a.jsx)(p.Z,{field:s,backgroundColor:_,error:C.address})},[C,_]),E=(0,n.useCallback)(e=>{let{field:s}=e;return(0,a.jsx)(j.Z,{field:s,error:C.tag,backgroundColor:_})},[C,_]),F=(0,n.useCallback)(e=>s=>{let{field:t}=s;return(0,a.jsx)(g.Z,{text:e,field:t})},[]);return(0,a.jsxs)("form",{noValidate:!0,onSubmit:Z(e=>{i(!1),v(!0),P(e)}),children:[(0,a.jsx)(o.xu,{marginBottom:5,children:(0,a.jsx)(h.Qr,{name:"address",control:w,rules:{pattern:m.T,required:!0},render:A})}),(0,a.jsx)(o.xu,{marginBottom:8,children:(0,a.jsx)(h.Qr,{name:"tag",control:w,rules:{maxLength:35,required:!0},render:E})}),(0,a.jsx)(l.x,{variant:"secondary",fontSize:"sm",marginBottom:5,children:"Please select what types of notifications you will receive"}),(0,a.jsx)(o.xu,{marginBottom:8,children:(0,a.jsx)(AddressFormNotifications,{control:w})}),(0,a.jsx)(l.x,{variant:"secondary",fontSize:"sm",marginBottom:{base:"10px",lg:5},children:"Notification methods"}),(0,a.jsx)(h.Qr,{name:"notification",control:w,render:F("Email notifications")}),(0,a.jsx)(o.xu,{marginTop:8,children:(0,a.jsx)(d.z,{size:"lg",type:"submit",isLoading:b,isDisabled:!L,children:f?"Add address":"Save changes"})})]})},AddressModal_AddressModal=e=>{let{isOpen:s,onClose:t,onSuccess:r,data:o,isAdd:l}=e,d=l?"New address to watch list":"Edit watch list address",c=l?"An email notification can be sent to you when an address on your watch list sends or receives any transactions.":"",[h,u]=(0,n.useState)(!1),x=(0,n.useCallback)(()=>(0,a.jsx)(AddressModal_AddressForm,{data:o,onSuccess:r,setAlertVisible:u,isAdd:l}),[o,l,r]);return(0,a.jsx)(i.Z,{isOpen:s,onClose:t,title:d,text:c,renderForm:x,isAlertVisible:h,setAlertVisible:u})}},36340:function(e,s,t){"use strict";var a=t(85893),n=t(88911),i=t(67294),r=t(22099),o=t(55036),l=t(16789);s.Z=e=>{let{isOpen:s,onClose:t,onSuccess:d,data:c}=e,h=(0,o.Z)(),u=(0,r.Z)(),x=(0,i.useCallback)(()=>u("watchlist",{pathParams:{id:c.id},fetchParams:{method:"DELETE"}}),[null==c?void 0:c.id,u]),m=null==c?void 0:c.address_hash,p=(0,i.useCallback)(()=>{let e=h?[m.slice(0,4),m.slice(-4)].join("..."):m;return(0,a.jsxs)(n.x,{children:["Address ",(0,a.jsxs)(n.x,{fontWeight:"700",as:"span",children:[" ",e||"address"]})," will be deleted"]})},[m,h]);return(0,a.jsx)(l.Z,{isOpen:s,onClose:t,title:"Remove address from watch list",renderContent:p,mutationFn:x,onSuccess:d})}},33519:function(e,s,t){"use strict";var a=t(85893),n=t(93344);t(67294);var i=t(44831),r=t(4914),o=t(38390),l=t(8112),d=t(26287),c=t(88841),h=t(47147);let u=i.Z.features.beaconChain;s.Z=e=>{let{item:s,isLoading:t,view:i}=e;return u.isEnabled?(0,a.jsxs)(h.Z.Container,{gridTemplateColumns:"100px auto",children:[(0,a.jsx)(h.Z.Label,{isLoading:t,children:"Index"}),(0,a.jsx)(h.Z.Value,{children:(0,a.jsx)(n.O,{isLoaded:!t,display:"inline-block",children:s.index})}),(0,a.jsx)(h.Z.Label,{isLoading:t,children:"Validator index"}),(0,a.jsx)(h.Z.Value,{children:(0,a.jsx)(n.O,{isLoaded:!t,display:"inline-block",children:s.validator_index})}),"block"!==i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z.Label,{isLoading:t,children:"Block"}),(0,a.jsx)(h.Z.Value,{children:(0,a.jsx)(c.ZP,{number:s.block_number,isLoading:t,fontSize:"sm",lineHeight:5})})]}),"address"!==i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z.Label,{isLoading:t,children:"To"}),(0,a.jsx)(h.Z.Value,{children:(0,a.jsx)(d.ZP,{address:s.receiver,isLoading:t})})]}),"block"!==i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z.Label,{isLoading:t,children:"Age"}),(0,a.jsx)(h.Z.Value,{children:(0,a.jsx)(n.O,{isLoaded:!t,display:"inline-block",children:(0,r.Z)(s.timestamp).fromNow()})}),(0,a.jsx)(h.Z.Label,{isLoading:t,children:"Value"}),(0,a.jsx)(h.Z.Value,{children:(0,a.jsx)(l.Z,{value:s.amount,currency:o.Y.ether,isLoading:t})})]})]}):null}},68830:function(e,s,t){"use strict";t.d(s,{Z:function(){return withdrawals_WithdrawalsTable}});var a=t(85893),n=t(36557),i=t(36526),r=t(75421),o=t(28650);t(67294);var l=t(44831),d=t(87900),c=t(577),h=t(93344),u=t(4914),x=t(8112),m=t(26287),p=t(88841),withdrawals_WithdrawalsTableItem=e=>{let{item:s,view:t,isLoading:n}=e;return(0,a.jsxs)(i.Tr,{children:[(0,a.jsx)(c.Td,{verticalAlign:"middle",children:(0,a.jsx)(h.O,{isLoaded:!n,display:"inline-block",children:s.index})}),(0,a.jsx)(c.Td,{verticalAlign:"middle",children:(0,a.jsx)(h.O,{isLoaded:!n,display:"inline-block",children:s.validator_index})}),"block"!==t&&(0,a.jsx)(c.Td,{verticalAlign:"middle",children:(0,a.jsx)(p.ZP,{number:s.block_number,isLoading:n,fontSize:"sm",lineHeight:5})}),"address"!==t&&(0,a.jsx)(c.Td,{verticalAlign:"middle",children:(0,a.jsx)(m.ZP,{address:s.receiver,isLoading:n,truncation:"constant"})}),"block"!==t&&(0,a.jsx)(c.Td,{verticalAlign:"middle",pr:12,children:(0,a.jsx)(h.O,{isLoaded:!n,display:"inline-block",color:"text_secondary",children:(0,a.jsx)("span",{children:(0,u.Z)(s.timestamp).fromNow()})})}),(0,a.jsx)(c.Td,{verticalAlign:"middle",children:(0,a.jsx)(x.Z,{value:s.amount,isLoading:n})})]})};let g=l.Z.features.beaconChain;var withdrawals_WithdrawalsTable=e=>{let{items:s,isLoading:t,top:l,view:c="list"}=e;return g.isEnabled?(0,a.jsxs)(n.i,{variant:"simple",size:"sm",style:{tableLayout:"auto"},minW:"950px",children:[(0,a.jsx)(d.Z,{top:l,children:(0,a.jsxs)(i.Tr,{children:[(0,a.jsx)(r.Th,{minW:"140px",children:"Index"}),(0,a.jsx)(r.Th,{minW:"200px",children:"Validator index"}),"block"!==c&&(0,a.jsx)(r.Th,{w:"25%",children:"Block"}),"address"!==c&&(0,a.jsx)(r.Th,{w:"25%",children:"To"}),"block"!==c&&(0,a.jsx)(r.Th,{w:"25%",children:"Age"}),(0,a.jsx)(r.Th,{w:"25%",children:"Value ".concat(g.currency.symbol)})]})}),(0,a.jsxs)(o.p,{children:["list"===c&&s.map((e,s)=>(0,a.jsx)(withdrawals_WithdrawalsTableItem,{item:e,view:"list",isLoading:t},e.index+(t?String(s):""))),"address"===c&&s.map((e,s)=>(0,a.jsx)(withdrawals_WithdrawalsTableItem,{item:e,view:"address",isLoading:t},e.index+(t?String(s):""))),"block"===c&&s.map((e,s)=>(0,a.jsx)(withdrawals_WithdrawalsTableItem,{item:e,view:"block",isLoading:t},e.index+(t?String(s):"")))]})]}):null}},57386:function(e,s,t){"use strict";t.d(s,{m:function(){return l}});var a=t(34151),n=t(25432),i=t(35059),r=t(75350),o=t(85893),l=(0,i.G)((e,s)=>{let{className:t,...i}=e,l=(0,n.cx)("chakra-modal__footer",t),d=(0,a.I_)(),c={display:"flex",alignItems:"center",justifyContent:"flex-end",...d.footer};return(0,o.jsx)(r.m.footer,{ref:s,...i,__css:c,className:l})});l.displayName="ModalFooter"}}]);
//# sourceMappingURL=2494.3dc28755504d7b1e.js.map