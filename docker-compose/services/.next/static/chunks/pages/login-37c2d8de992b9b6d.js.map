{"version":3,"file":"static/chunks/pages/login-37c2d8de992b9b6d.js","mappings":"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","sources":["webpack://_N_E/?f1d5","webpack://_N_E/./lib/hooks/useGradualIncrement.tsx","webpack://_N_E/./lib/growthbook/useFeatureValue.ts","webpack://_N_E/./ui/pages/Login.tsx","webpack://_N_E/./pages/login.tsx","webpack://_N_E/./node_modules/@chakra-ui/layout/dist/chunk-MVNZWEQB.mjs","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/login\",\n      function () {\n        return require(\"private-next-pages/login.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/login\"])\n      });\n    }\n  ","import React from 'react';\n\nconst DURATION = 300;\n\nexport default function useGradualIncrement(initialValue: number): [number, (inc: number) => void] {\n  const [ num, setNum ] = React.useState(initialValue);\n  const queue = React.useRef<number>(0);\n  const timeoutId = React.useRef(0);\n  const delay = React.useRef(0);\n\n  const incrementDelayed = React.useCallback(() => {\n    if (queue.current === 0) {\n      return;\n    }\n\n    queue.current--;\n    setNum(prev => prev + 1);\n    timeoutId.current = 0;\n  }, []);\n\n  const increment = React.useCallback((inc: number) => {\n    if (inc < 1) {\n      return;\n    }\n\n    queue.current += inc;\n\n    if (!timeoutId.current) {\n      timeoutId.current = window.setTimeout(incrementDelayed, 0);\n    }\n  }, [ incrementDelayed ]);\n\n  React.useEffect(() => {\n    if (queue.current > 0 && !timeoutId.current) {\n      if (!delay.current) {\n        delay.current = DURATION / queue.current;\n      } else if (delay.current > DURATION / queue.current) {\n        // in case if queue size is increased since last DOM update\n        delay.current = DURATION / queue.current;\n      }\n      timeoutId.current = window.setTimeout(incrementDelayed, delay.current);\n    }\n  }, [ incrementDelayed, num ]);\n\n  React.useEffect(() => {\n    return () => {\n      window.clearTimeout(timeoutId.current);\n    };\n  }, []);\n\n  return [ num, increment ];\n}\n","import type { WidenPrimitives } from '@growthbook/growthbook';\nimport { useFeatureValue, useGrowthBook } from '@growthbook/growthbook-react';\n\nimport type { GrowthBookFeatures } from './init';\n\nexport default function useGbFeatureValue<Name extends keyof GrowthBookFeatures>(\n  name: Name,\n  fallback: GrowthBookFeatures[Name],\n): { value: WidenPrimitives<GrowthBookFeatures[Name]>; isLoading: boolean } {\n  const value = useFeatureValue(name, fallback);\n  const growthBook = useGrowthBook();\n\n  return { value, isLoading: !(growthBook?.ready ?? true) };\n}\n","import { VStack, Textarea, Button, Alert, AlertTitle, AlertDescription, Code, Flex, Box } from '@chakra-ui/react';\nimport * as Sentry from '@sentry/react';\nimport mixpanel from 'mixpanel-browser';\nimport type { ChangeEvent } from 'react';\nimport React from 'react';\n\nimport config from 'configs/app';\nimport * as cookies from 'lib/cookies';\nimport useFeatureValue from 'lib/growthbook/useFeatureValue';\nimport useGradualIncrement from 'lib/hooks/useGradualIncrement';\nimport useToast from 'lib/hooks/useToast';\nimport PageTitle from 'ui/shared/Page/PageTitle';\n\n{ /* will be deleted when we fix login in preview CI stands */ }\nconst Login = () => {\n  const toast = useToast();\n  const [ num, setNum ] = useGradualIncrement(0);\n\n  const testFeature = useFeatureValue('test_value', 'fallback');\n\n  const [ isFormVisible, setFormVisibility ] = React.useState(false);\n  const [ token, setToken ] = React.useState('');\n\n  React.useEffect(() => {\n    const token = cookies.get(cookies.NAMES.API_TOKEN);\n    setFormVisibility(Boolean(!token && config.features.account.isEnabled));\n    // throw new Error('Test error');\n  }, []);\n\n  const checkSentry = React.useCallback(() => {\n    Sentry.captureException(new Error('Test error'), { tags: { source: 'test' } });\n  }, []);\n\n  const checkMixpanel = React.useCallback(() => {\n    mixpanel.track('Test event', { my_prop: 'foo bar' });\n  }, []);\n\n  const handleTokenChange = React.useCallback((event: ChangeEvent<HTMLTextAreaElement>) => {\n    setToken(event.target.value);\n  }, []);\n\n  const handleSetTokenClick = React.useCallback(() => {\n    cookies.set(cookies.NAMES.API_TOKEN, token);\n    setToken('');\n    toast({\n      position: 'top-right',\n      title: 'Success ðŸ¥³',\n      description: 'Successfully set cookie',\n      status: 'success',\n      variant: 'subtle',\n      isClosable: true,\n      onCloseComplete: () => {\n        setFormVisibility(false);\n      },\n    });\n  }, [ toast, token ]);\n\n  const handleNumIncrement = React.useCallback(() => {\n    for (let index = 0; index < 5; index++) {\n      setNum(5);\n    }\n  }, [ setNum ]);\n\n  return (\n    <VStack gap={ 4 } alignItems=\"flex-start\" maxW=\"1000px\">\n      <PageTitle title=\"Login page ðŸ˜‚\"/>\n      { isFormVisible && (\n        <>\n          <Alert status=\"error\" flexDirection=\"column\" alignItems=\"flex-start\">\n            <AlertTitle fontSize=\"md\">\n                !!! Temporary solution for authentication on localhost !!!\n            </AlertTitle>\n            <AlertDescription mt={ 3 }>\n                    To Sign in go to production instance first, sign in there, copy obtained API token from cookie\n              <Code ml={ 1 }>{ cookies.NAMES.API_TOKEN }</Code> and paste it in the form below. After submitting the form you should be successfully\n                    authenticated in current environment\n            </AlertDescription>\n          </Alert>\n          <Textarea value={ token } onChange={ handleTokenChange } placeholder=\"API token\"/>\n          <Button onClick={ handleSetTokenClick }>Set cookie</Button>\n        </>\n      ) }\n      <Flex columnGap={ 2 }>\n        <Button colorScheme=\"red\" onClick={ checkSentry }>Check Sentry</Button>\n        <Button colorScheme=\"teal\" onClick={ checkMixpanel }>Check Mixpanel</Button>\n      </Flex>\n      <Flex columnGap={ 2 } alignItems=\"center\">\n        <Box w=\"50px\" textAlign=\"center\">{ num }</Box>\n        <Button onClick={ handleNumIncrement } size=\"sm\">add</Button>\n      </Flex>\n      <Box>Test feature value: <b>{ testFeature.isLoading ? 'loading...' : JSON.stringify(testFeature.value) }</b></Box>\n    </VStack>\n  );\n\n};\n\nexport default Login;\n","import type { NextPage } from 'next';\nimport React from 'react';\n\nimport PageNextJs from 'nextjs/PageNextJs';\n\nimport Login from 'ui/pages/Login';\n\nconst Page: NextPage = () => {\n  return (\n    <PageNextJs pathname=\"/login\">\n      <Login/>\n    </PageNextJs>\n  );\n};\n\nexport default Page;\n\nexport { base as getServerSideProps } from 'nextjs/getServerSideProps';\n","// src/code.tsx\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useStyleConfig\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/shared-utils\";\nimport { jsx } from \"react/jsx-runtime\";\nvar Code = forwardRef(function Code2(props, ref) {\n  const styles = useStyleConfig(\"Code\", props);\n  const { className, ...rest } = omitThemingProps(props);\n  return /* @__PURE__ */ jsx(\n    chakra.code,\n    {\n      ref,\n      className: cx(\"chakra-code\", props.className),\n      ...rest,\n      __css: {\n        display: \"inline-block\",\n        ...styles\n      }\n    }\n  );\n});\nCode.displayName = \"Code\";\n\nexport {\n  Code\n};\n"],"names":["window","__NEXT_P","push","__webpack_require__","useGradualIncrement","initialValue","num","setNum","React","queue","timeoutId","delay","incrementDelayed","current","prev","increment","inc","setTimeout","DURATION","clearTimeout","pages_Login","toast","useToast","testFeature","useFeatureValue","name","fallback","growthBook","value","useGrowthBook","isLoading","ready","isFormVisible","setFormVisibility","token","setToken","cookies","API_TOKEN","Boolean","config","features","account","isEnabled","checkSentry","Sentry","tags","source","checkMixpanel","mixpanel","my_prop","handleTokenChange","event","target","handleSetTokenClick","position","title","description","status","variant","isClosable","onCloseComplete","handleNumIncrement","index","jsx_runtime","jsxs","VStack","gap","alignItems","maxW","jsx","PageTitle","Fragment","Alert","flexDirection","AlertTitle","fontSize","AlertDescription","mt","Code","ml","Textarea","onChange","placeholder","Button","onClick","Flex","columnGap","colorScheme","Box","w","textAlign","size","b","JSON","stringify","login","PageNextJs","pathname","Login","_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__","G","props","ref","styles","_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__","mq","className","rest","_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__","Lr","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__","m","code","_chakra_ui_shared_utils__WEBPACK_IMPORTED_MODULE_5__","cx","__css","display","displayName"],"sourceRoot":""}