{"version":3,"file":"static/chunks/4592.b5a3635cb01397ad.js","mappings":"6NAUA,IAAMA,EAAUC,EAAAA,CAAMA,CAACC,QAAQ,CAACC,cAAc,CAExCC,EAAe,CACnB,sBAAuB,CACrBC,gBAAiB,OACnB,CACF,CAuDAC,CAAAA,EAAA,QArDgB,KAEd,GAAM,CAAEC,UAAAA,CAAS,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,IAEhBC,EAAeC,OAAOC,YAAY,CAACC,OAAO,CAAC,kBAG3C,CAAEC,EAAgBC,EAAmB,CAAGC,EAAAA,QAAc,CAACN,GAW7D,GATAM,EAAAA,SAAe,CAAC,KACVC,CAAAA,EAAAA,EAAAA,CAAAA,KACEP,IAAiBF,IACnBG,OAAOC,YAAY,CAACM,OAAO,CAAC,iBAAkBV,GAC9CO,EAAkBP,GAGxB,EAAG,CAAEA,EAAWE,EAAc,EAE1B,CAACT,EAAQkB,SAAS,CACpB,OAAO,KAGT,IAAMC,EAAe,qCAEgBC,MAAA,CAAvBpB,EAAQqB,aAAa,CAAE,qFAS/BC,EAAaC,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,WAEtBC,EAAUC,CAAAA,EAAAA,EAAAA,EAAAA,EAAsB,CACpCC,IAAKJ,CAMP,GAEA,MACE,GAAAK,EAAAC,GAAA,EAACC,EAAAA,EAAGA,CAAAA,CAACC,EAAE,QAAQC,UAAU,SAASC,GAAK5B,WACrC,GAAAuB,EAAAC,GAAA,EAACC,EAAAA,EAAGA,CAAAA,CAACC,EAAE,QAAQG,KAAK,QAAQD,GAAK5B,WAC/B,GAAAuB,EAAAC,GAAA,EAACM,EAAAA,EAAQA,CAAAA,CAACV,QAAUA,EAAUW,aAAehB,GAAqBN,MAI1E","sources":["webpack://_N_E/./ui/graphQL/GraphQL.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { Box, useColorMode } from '@chakra-ui/react';\nimport { createGraphiQLFetcher } from '@graphiql/toolkit';\nimport { GraphiQL } from 'graphiql';\nimport React from 'react';\n\nimport config from 'configs/app';\nimport buildUrl from 'lib/api/buildUrl';\nimport 'graphiql/graphiql.css';\nimport isBrowser from 'lib/isBrowser';\n\nconst feature = config.features.graphqlApiDocs;\n\nconst graphQLStyle = {\n  '.graphiql-container': {\n    backgroundColor: 'unset',\n  },\n};\n\nconst GraphQL = () => {\n\n  const { colorMode } = useColorMode();\n\n  const graphqlTheme = window.localStorage.getItem('graphiql:theme');\n\n  // colorModeState used as a key to re-render GraphiQL conponent after color mode change\n  const [ colorModeState, setColorModeState ] = React.useState(graphqlTheme);\n\n  React.useEffect(() => {\n    if (isBrowser()) {\n      if (graphqlTheme !== colorMode) {\n        window.localStorage.setItem('graphiql:theme', colorMode);\n        setColorModeState(colorMode);\n      }\n    }\n  }, [ colorMode, graphqlTheme ]);\n\n  if (!feature.isEnabled) {\n    return null;\n  }\n\n  const initialQuery = `{\n    transaction(\n      hash: \"${ feature.defaultTxHash }\"\n    ) {\n      hash\n      blockNumber\n      value\n      gasUsed\n    }\n  }`;\n\n  const graphqlUrl = buildUrl('graphql');\n\n  const fetcher = createGraphiQLFetcher({\n    url: graphqlUrl,\n    // graphql ws implementation with absinthe plugin is incompatible with graphiql-ws protocol\n    // or the older one subscriptions-transport-ws\n    // so we (isstuev & vbaranov) decided to configure playground without subscriptions\n    // in case of any complaint consider reconfigure the graphql ws server with absinthe_graphql_ws package\n    // subscriptionUrl: `wss://${config.app.host}/socket/`,\n  });\n\n  return (\n    <Box h=\"100vh\" overflowX=\"scroll\" sx={ graphQLStyle }>\n      <Box h=\"100vh\" minW=\"900px\" sx={ graphQLStyle }>\n        <GraphiQL fetcher={ fetcher } defaultQuery={ initialQuery } key={ colorModeState }/>\n      </Box>\n    </Box>\n  );\n};\n\nexport default GraphQL;\n"],"names":["feature","config","features","graphqlApiDocs","graphQLStyle","backgroundColor","__webpack_exports__","colorMode","useColorMode","graphqlTheme","window","localStorage","getItem","colorModeState","setColorModeState","React","isBrowser","setItem","isEnabled","initialQuery","concat","defaultTxHash","graphqlUrl","buildUrl","fetcher","createGraphiQLFetcher","url","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","Box","h","overflowX","sx","minW","GraphiQL","defaultQuery"],"sourceRoot":""}