"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4144],{77078:function(e,t,a){a.d(t,{Z:function(){return getErrorMessage}});function getErrorMessage(e,t){var a;return null==e?void 0:null===(a=e[t])||void 0===a?void 0:a.join(", ")}},9125:function(e,t,a){a.d(t,{Z:function(){return AddressModal_AddressModal}});var r=a(85893),s=a(67294),n=a(85786),i=a(74408),d=a(12498),o=a(23100),l=a(96272),u=a(4527),c=a(87536),m=a(22099),h=a(77078),g=a(97477),x=a(49876),v=a(22362),AddressModal_AddressForm=e=>{let{data:t,onClose:a,onSuccess:n,setAlertVisible:i}=e,p=(0,m.Z)(),[f,j]=(0,s.useState)(!1),{control:_,handleSubmit:b,formState:{errors:y,isDirty:A},setError:T}=(0,c.cI)({mode:"onTouched",defaultValues:{address:(null==t?void 0:t.address_hash)||"",tag:(null==t?void 0:t.name)||""}}),Z=(0,d.ff)("white","gray.900"),{mutate:C}=(0,u.D)({mutationFn:e=>{let a={name:null==e?void 0:e.tag,address_hash:null==e?void 0:e.address},r=null==t?void 0:t.id;return r?p("private_tags_address",{pathParams:{id:t.id},fetchParams:{method:"PUT",body:a}}):p("private_tags_address",{fetchParams:{method:"POST",body:a}})},onError:e=>{var t;j(!1);let a=null===(t=e.payload)||void 0===t?void 0:t.errors;(null==a?void 0:a.address_hash)||(null==a?void 0:a.name)?((null==a?void 0:a.address_hash)&&T("address",{type:"custom",message:(0,h.Z)(a,"address_hash")}),(null==a?void 0:a.name)&&T("tag",{type:"custom",message:(0,h.Z)(a,"name")})):(null==a?void 0:a.identity_id)?T("address",{type:"custom",message:(0,h.Z)(a,"identity_id")}):i(!0)},onSuccess:async()=>{await n(),a(),j(!1)}}),k=(0,s.useCallback)(e=>{let{field:t}=e;return(0,r.jsx)(x.Z,{field:t,error:y.address,backgroundColor:Z})},[y,Z]),I=(0,s.useCallback)(e=>{let{field:t}=e;return(0,r.jsx)(v.Z,{field:t,error:y.tag,backgroundColor:Z})},[y,Z]);return(0,r.jsxs)("form",{noValidate:!0,onSubmit:b(e=>{i(!1),j(!0),C(e)}),children:[(0,r.jsx)(o.xu,{marginBottom:5,children:(0,r.jsx)(c.Qr,{name:"address",control:_,rules:{pattern:g.T,required:!0},render:k})}),(0,r.jsx)(o.xu,{marginBottom:8,children:(0,r.jsx)(c.Qr,{name:"tag",control:_,rules:{maxLength:35,required:!0},render:I})}),(0,r.jsx)(o.xu,{marginTop:8,children:(0,r.jsx)(l.z,{size:"lg",type:"submit",isDisabled:!A,isLoading:f,children:t?"Save changes":"Add tag"})})]})},AddressModal_AddressModal=e=>{let{isOpen:t,onClose:a,onSuccess:d,data:o,pageType:l}=e,u=(null==o?void 0:o.id)?"Edit address tag":"New address tag",c=(null==o?void 0:o.id)?"":"Label any address with a private address tag (up to 35 chars) to customize your explorer experience.",[m,h]=(0,s.useState)(!1);s.useEffect(()=>{!t||(null==o?void 0:o.id)||n.Kz(n.GM.PRIVATE_TAG,{Action:"Form opened","Page type":l,"Tag type":"Address"})},[null==o?void 0:o.id,t,l]);let g=s.useCallback(()=>((null==o?void 0:o.id)||n.Kz(n.GM.PRIVATE_TAG,{Action:"Submit","Page type":l,"Tag type":"Address"}),d()),[null==o?void 0:o.id,d,l]),x=(0,s.useCallback)(()=>(0,r.jsx)(AddressModal_AddressForm,{data:o,onClose:a,onSuccess:g,setAlertVisible:h}),[o,a,g]);return(0,r.jsx)(i.Z,{isOpen:t,onClose:a,title:u,text:c,renderForm:x,isAlertVisible:m,setAlertVisible:h})}},66635:function(e,t,a){a.d(t,{Z:function(){return TransactionModal}});var r=a(85893),s=a(67294),n=a(40329),i=a(85786),d=a(74408),o=a(12498),l=a(23100),u=a(96272),c=a(30202),m=a(4527),h=a(87536),g=a(34216),x=a(22099),v=a(77078);let p=/^0x[a-fA-F\d]{64}$/;var f=a(22362),j=a(70654),_=a(28129),b=a(14072),shared_TransactionInput=function(e){let{field:t,error:a,backgroundColor:s}=e;return(0,r.jsxs)(j.NI,{variant:"floating",id:"transaction",isRequired:!0,backgroundColor:s,children:[(0,r.jsx)(_.I,{...t,isInvalid:!!a,maxLength:66}),(0,r.jsx)(b.Z,{text:"Transaction hash (0x...)",error:a})]})},TransactionModal_TransactionForm=e=>{let{data:t,onClose:a,onSuccess:n,setAlertVisible:i}=e,[d,j]=(0,s.useState)(!1),_=(0,o.ff)("white","gray.900"),{control:b,handleSubmit:y,formState:{errors:A,isDirty:T},setError:Z}=(0,h.cI)({mode:"onTouched",defaultValues:{transaction:(null==t?void 0:t.transaction_hash)||"",tag:(null==t?void 0:t.name)||""}}),C=(0,c.NL)(),k=(0,x.Z)(),{mutate:I}=(0,m.D)({mutationFn:e=>{let a={name:null==e?void 0:e.tag,transaction_hash:null==e?void 0:e.transaction},r=null==t?void 0:t.id;return r?k("private_tags_tx",{pathParams:{id:t.id},fetchParams:{method:"PUT",body:a}}):k("private_tags_tx",{fetchParams:{method:"POST",body:a}})},onError:e=>{var t;j(!1);let a=null===(t=e.payload)||void 0===t?void 0:t.errors;(null==a?void 0:a.tx_hash)||(null==a?void 0:a.name)?((null==a?void 0:a.tx_hash)&&Z("transaction",{type:"custom",message:(0,v.Z)(a,"tx_hash")}),(null==a?void 0:a.name)&&Z("tag",{type:"custom",message:(0,v.Z)(a,"name")})):(null==a?void 0:a.identity_id)?Z("transaction",{type:"custom",message:(0,v.Z)(a,"identity_id")}):i(!0)},onSuccess:async()=>{await C.refetchQueries({queryKey:[(0,g.Ni)("private_tags_tx")]}),await n(),a(),j(!1)}}),P=(0,s.useCallback)(e=>{let{field:t}=e;return(0,r.jsx)(shared_TransactionInput,{field:t,error:A.transaction,backgroundColor:_})},[A,_]),S=(0,s.useCallback)(e=>{let{field:t}=e;return(0,r.jsx)(f.Z,{field:t,error:A.tag,backgroundColor:_})},[A,_]);return(0,r.jsxs)("form",{noValidate:!0,onSubmit:y(e=>{j(!0),I(e)}),children:[(0,r.jsx)(l.xu,{marginBottom:5,children:(0,r.jsx)(h.Qr,{name:"transaction",control:b,rules:{pattern:p,required:!0},render:P})}),(0,r.jsx)(l.xu,{marginBottom:8,children:(0,r.jsx)(h.Qr,{name:"tag",control:b,rules:{maxLength:35,required:!0},render:S})}),(0,r.jsx)(l.xu,{marginTop:8,children:(0,r.jsx)(u.z,{size:"lg",type:"submit",isDisabled:!T,isLoading:d,children:t?"Save changes":"Add tag"})})]})},TransactionModal=e=>{let{isOpen:t,onClose:a,onSuccess:o,data:l}=e,u=l?"Edit transaction tag":"New transaction tag",c=l?"":"Label any transaction with a private transaction tag (up to 35 chars) to customize your explorer experience.",[m,h]=(0,s.useState)(!1);s.useEffect(()=>{!t||(null==l?void 0:l.id)||i.Kz(i.GM.PRIVATE_TAG,{Action:"Form opened","Page type":n.Q["/account/tag-address"],"Tag type":"Tx"})},[null==l?void 0:l.id,t]);let g=s.useCallback(async()=>{null==o||o(),(null==l?void 0:l.id)||i.Kz(i.GM.PRIVATE_TAG,{Action:"Submit","Page type":n.Q["/account/tag-address"],"Tag type":"Tx"})},[null==l?void 0:l.id,o]),x=(0,s.useCallback)(()=>(0,r.jsx)(TransactionModal_TransactionForm,{data:l,onClose:a,onSuccess:g,setAlertVisible:h}),[l,g,a]);return(0,r.jsx)(d.Z,{isOpen:t,onClose:a,title:u,text:c,renderForm:x,isAlertVisible:m,setAlertVisible:h})}},49876:function(e,t,a){a.d(t,{Z:function(){return AddressInput}});var r=a(85893),s=a(70654),n=a(28129);a(67294);var i=a(97477),d=a(14072);function AddressInput(e){let{error:t,field:a,size:o,placeholder:l="Address (0x...)",backgroundColor:u}=e;return(0,r.jsxs)(s.NI,{variant:"floating",id:"address",isRequired:!0,backgroundColor:u,size:o,children:[(0,r.jsx)(n.I,{...a,isInvalid:!!t,maxLength:i.y}),(0,r.jsx)(d.Z,{text:l,error:t})]})}},74408:function(e,t,a){a.d(t,{Z:function(){return FormModal}});var r=a(85893),s=a(34151),n=a(65291),i=a(77374),d=a(10191),o=a(23438),l=a(56880),u=a(23100),c=a(88911),m=a(67294),h=a(55036),g=a(26121);function FormModal(e){let{isOpen:t,onClose:a,title:x,text:v,renderForm:p,isAlertVisible:f,setAlertVisible:j}=e,_=(0,m.useCallback)(()=>{j(!1),a()},[a,j]),b=(0,h.Z)();return(0,r.jsxs)(s.u_,{isOpen:t,onClose:_,size:b?"full":"md",children:[(0,r.jsx)(n.Z,{}),(0,r.jsxs)(i.h,{children:[(0,r.jsx)(d.x,{fontWeight:"500",textStyle:"h3",children:x}),(0,r.jsx)(o.o,{}),(0,r.jsxs)(l.f,{children:[(f||v)&&(0,r.jsxs)(u.xu,{marginBottom:{base:6,lg:8},children:[v&&(0,r.jsx)(c.x,{lineHeight:"30px",mb:3,children:v}),f&&(0,r.jsx)(g.Z,{})]}),p()]})]})]})}},26121:function(e,t,a){var r=a(85893),s=a(31507),n=a(56837);a(67294),t.Z=()=>(0,r.jsx)(s.b,{status:"error",children:(0,r.jsx)(n.X,{children:"There has been an error processing your request"})})},22362:function(e,t,a){var r=a(85893),s=a(70654),n=a(28129);a(67294);var i=a(14072);t.Z=function(e){let{field:t,error:a,backgroundColor:d}=e;return(0,r.jsxs)(s.NI,{variant:"floating",id:"tag",isRequired:!0,backgroundColor:d,children:[(0,r.jsx)(n.I,{...t,isInvalid:!!a,maxLength:35}),(0,r.jsx)(i.Z,{text:"Private tag (max 35 characters)",error:a})]})}}}]);
//# sourceMappingURL=4144.4fe271c241cd7257.js.map