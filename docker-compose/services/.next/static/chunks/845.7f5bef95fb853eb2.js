"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{60845:function(e,n,t){t.r(n),t.d(n,{c:function(){return o}});var r=t(97480),a=Object.defineProperty,__name=(e,n)=>a(e,"name",{value:n,configurable:!0});function _mergeNamespaces(e,n){return n.forEach(function(n){n&&"string"!=typeof n&&!Array.isArray(n)&&Object.keys(n).forEach(function(t){if("default"!==t&&!(t in e)){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}})}),Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}__name(_mergeNamespaces,"_mergeNamespaces");var i={exports:{}};!function(e){var n={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},t=e.Pos;function getOption(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:n[t]}e.defineOption("autoCloseBrackets",!1,function(n,t,a){a&&a!=e.Init&&(n.removeKeyMap(r),n.state.closeBrackets=null),t&&(ensureBound(getOption(t,"pairs")),n.state.closeBrackets=t,n.addKeyMap(r))}),__name(getOption,"getOption");var r={Backspace:handleBackspace,Enter:handleEnter};function ensureBound(e){for(var n=0;n<e.length;n++){var t=e.charAt(n),a="'"+t+"'";r[a]||(r[a]=handler(t))}}function handler(e){return function(n){return handleChar(n,e)}}function getConfig(e){var n=e.state.closeBrackets;return!n||n.override?n:e.getModeAt(e.getCursor()).closeBrackets||n}function handleBackspace(n){var r=getConfig(n);if(!r||n.getOption("disableInput"))return e.Pass;for(var a=getOption(r,"pairs"),i=n.listSelections(),o=0;o<i.length;o++){if(!i[o].empty())return e.Pass;var s=charsAround(n,i[o].head);if(!s||a.indexOf(s)%2!=0)return e.Pass}for(var o=i.length-1;o>=0;o--){var l=i[o].head;n.replaceRange("",t(l.line,l.ch-1),t(l.line,l.ch+1),"+delete")}}function handleEnter(n){var t=getConfig(n),r=t&&getOption(t,"explode");if(!r||n.getOption("disableInput"))return e.Pass;for(var a=n.listSelections(),i=0;i<a.length;i++){if(!a[i].empty())return e.Pass;var o=charsAround(n,a[i].head);if(!o||r.indexOf(o)%2!=0)return e.Pass}n.operation(function(){var e=n.lineSeparator()||"\n";n.replaceSelection(e+e,null),moveSel(n,-1),a=n.listSelections();for(var t=0;t<a.length;t++){var r=a[t].head.line;n.indentLine(r,null,!0),n.indentLine(r+1,null,!0)}})}function moveSel(e,n){for(var t=[],r=e.listSelections(),a=0,i=0;i<r.length;i++){var o=r[i];o.head==e.getCursor()&&(a=i);var s=o.head.ch||n>0?{line:o.head.line,ch:o.head.ch+n}:{line:o.head.line-1};t.push({anchor:s,head:s})}e.setSelections(t,a)}function contractSelection(n){var r=e.cmpPos(n.anchor,n.head)>0;return{anchor:new t(n.anchor.line,n.anchor.ch+(r?-1:1)),head:new t(n.head.line,n.head.ch+(r?1:-1))}}function handleChar(n,r){var a=getConfig(n);if(!a||n.getOption("disableInput"))return e.Pass;var i=getOption(a,"pairs"),o=i.indexOf(r);if(-1==o)return e.Pass;for(var s=getOption(a,"closeBefore"),l=getOption(a,"triples"),c=i.charAt(o+1)==r,h=n.listSelections(),u=o%2==0,f=0;f<h.length;f++){var d,g,p=h[f],v=p.head,_=n.getRange(v,t(v.line,v.ch+1));if(u&&!p.empty())g="surround";else if((c||!u)&&_==r)g=c&&stringStartsAfter(n,v)?"both":l.indexOf(r)>=0&&n.getRange(v,t(v.line,v.ch+3))==r+r+r?"skipThree":"skip";else if(c&&v.ch>1&&l.indexOf(r)>=0&&n.getRange(t(v.line,v.ch-2),v)==r+r){if(v.ch>2&&/\bstring/.test(n.getTokenTypeAt(t(v.line,v.ch-2))))return e.Pass;g="addFour"}else if(c){var m=0==v.ch?" ":n.getRange(t(v.line,v.ch-1),v);if(e.isWordChar(_)||m==r||e.isWordChar(m))return e.Pass;g="both"}else{if(!(u&&(0===_.length||/\s/.test(_)||s.indexOf(_)>-1)))return e.Pass;g="both"}if(d){if(d!=g)return e.Pass}else d=g}var S=o%2?i.charAt(o-1):r,O=o%2?r:i.charAt(o+1);n.operation(function(){if("skip"==d)moveSel(n,1);else if("skipThree"==d)moveSel(n,3);else if("surround"==d){for(var e=n.getSelections(),t=0;t<e.length;t++)e[t]=S+e[t]+O;n.replaceSelections(e,"around"),e=n.listSelections().slice();for(var t=0;t<e.length;t++)e[t]=contractSelection(e[t]);n.setSelections(e)}else"both"==d?(n.replaceSelection(S+O,null),n.triggerElectric(S+O),moveSel(n,-1)):"addFour"==d&&(n.replaceSelection(S+S+S+S,"before"),moveSel(n,1))})}function charsAround(e,n){var r=e.getRange(t(n.line,n.ch-1),t(n.line,n.ch+1));return 2==r.length?r:null}function stringStartsAfter(e,n){var r=e.getTokenAt(t(n.line,n.ch+1));return/\bstring/.test(r.type)&&r.start==n.ch&&(0==n.ch||!/\bstring/.test(e.getTokenTypeAt(n)))}__name(ensureBound,"ensureBound"),ensureBound(n.pairs+"`"),__name(handler,"handler"),__name(getConfig,"getConfig"),__name(handleBackspace,"handleBackspace"),__name(handleEnter,"handleEnter"),__name(moveSel,"moveSel"),__name(contractSelection,"contractSelection"),__name(handleChar,"handleChar"),__name(charsAround,"charsAround"),__name(stringStartsAfter,"stringStartsAfter")}(r.a.exports);var o=_mergeNamespaces({__proto__:null,default:i.exports},[i.exports])}}]);
//# sourceMappingURL=845.7f5bef95fb853eb2.js.map