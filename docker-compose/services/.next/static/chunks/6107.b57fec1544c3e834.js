"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6107],{26107:function(e,t,a){a.r(t),a.d(t,{default:function(){return ex}});var r=a(85893),n=a(204),i=a(23100),l=a(11163),s=a(67294),o=a(36217),d=a(21260),u=a(38117),c=a(55036),h=a(98393),p=a(10723),x=a(48291),m=a(48572),f=a(57654),j=a(80302),b=a(32770),g=a(65850),v=a(95204),y=a(24727),_=a(30721),w=a(56048),k=a(52323),S=a(5737),Z=a(10814),L=a(42850),C=a(7500),D=a(59686),P=a(31708),O=a(93344),T=a(68387),I=a(17806),F=a(55146),N=a(86850),A=a(26287),W=a(26154),B=a(42444),R=a(66274),G=a(52726),details_TokenInstanceCreatorAddress=e=>{var t;let{hash:a}=e,n=(0,o.Z)("address",{pathParams:{hash:a},queryOptions:{enabled:!!a,placeholderData:G.SX}});if(n.isError||!(null===(t=n.data)||void 0===t?void 0:t.creator_address_hash))return null;let i={hash:n.data.creator_address_hash,is_contract:!1,implementation_name:null};return(0,r.jsx)(I.Z,{title:"Creator",hint:"Address that deployed this token contract",isLoading:n.isPlaceholderData,children:(0,r.jsx)(A.ZP,{address:i,isLoading:n.isPlaceholderData})})},q=a(12498),J=a(776),z=a(11700),E=a.n(z),U=a(4914),M=a(40847);let Item=e=>{let{data:t,isLoading:a}=e,n=(0,q.ff)("blackAlpha.50","whiteAlpha.50"),i="URL"===t.value_type?(0,r.jsx)(_.Z,{whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",w:"100%",overflow:"hidden",href:t.value,fontSize:"sm",lineHeight:5,children:(0,r.jsx)(M.Z,{value:t.value,w:"calc(100% - 16px)"})}):(0,r.jsx)(M.Z,{value:t.value,fontSize:"sm",w:"100%",isLoading:a});return(0,r.jsxs)(J.P,{bgColor:n,borderRadius:"md",px:4,py:2,display:"flex",flexDir:"column",alignItems:"flex-start",children:[(0,r.jsx)(O.O,{isLoaded:!a,fontSize:"xs",lineHeight:4,color:"text_secondary",fontWeight:500,mb:1,children:(0,r.jsx)("span",{children:t.trait_type})}),i]})};var H=s.memo(e=>{let{data:t,isLoading:a}=e,n=s.useMemo(()=>(function(e){if(!e)return;let t={};if("name"in e&&"string"==typeof e.name&&(t.name=e.name),"description"in e&&"string"==typeof e.description&&(t.description=e.description),"attributes"in e&&Array.isArray(e.attributes)&&(t.attributes=e.attributes.map(e=>{if("object"!=typeof e||!e)return;let t="value"in e&&("string"==typeof e.value||"number"==typeof e.value)?e.value:void 0,a="trait_type"in e&&"string"==typeof e.trait_type?e.trait_type:void 0,r="display_type"in e&&"string"==typeof e.display_type?e.display_type:void 0;if(t)return{...function(e,t,a){switch(t){case"boost_number":return{value:"+".concat(e," boost")};case"boost_percentage":return{value:"".concat(e,"% boost")};case"date":return{value:(0,U.Z)(e).format("YYYY-MM-DD")};default:try{if((null==a?void 0:a.toLowerCase().includes("url"))||e.toString().startsWith("http")){let t=new URL(String(e));return{value:t.toString(),value_type:"URL"}}throw Error()}catch(t){return{value:String(e)}}}}(t,r,a),trait_type:E()(a||"property")}}).filter(Boolean)),0!==Object.keys(t).length)return t})(null==t?void 0:t.metadata),[t]),i=n&&!!(n.name||n.description||n.attributes);return i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.Z,{}),(null==n?void 0:n.name)&&(0,r.jsx)(I.Z,{title:"Name",hint:"NFT name",whiteSpace:"normal",wordBreak:"break-word",isLoading:a,children:(0,r.jsx)(O.O,{isLoaded:!a,children:n.name})}),(null==n?void 0:n.description)&&(0,r.jsx)(I.Z,{title:"Description",hint:"NFT description",whiteSpace:"normal",wordBreak:"break-word",isLoading:a,children:(0,r.jsx)(O.O,{isLoaded:!a,children:n.description})}),(null==n?void 0:n.attributes)&&(0,r.jsx)(I.Z,{title:"Attributes",hint:"NFT attributes",whiteSpace:"normal",isLoading:a,children:(0,r.jsx)(P.r,{gap:2,templateColumns:"repeat(auto-fill,minmax(160px, 1fr))",w:"100%",children:n.attributes.map((e,t)=>(0,r.jsx)(Item,{data:e,isLoading:a},t))})})]}):null}),Q=a(99640),V=a(76215),details_TokenInstanceTransfersCount=e=>{var t;let{hash:a,id:n,onClick:i}=e,l=(0,o.Z)("token_instance_transfers_count",{pathParams:{hash:a,id:n},queryOptions:{enabled:!!(a&&n),placeholderData:{transfers_count:420}}});if(l.isError||!(null===(t=l.data)||void 0===t?void 0:t.transfers_count))return null;let s=l.data.transfers_count>0?(0,Q.B)({pathname:"/token/[hash]/instance/[id]",query:{hash:a,id:n,tab:"token_transfers"}}):void 0;return(0,r.jsx)(I.Z,{title:"Transfers",hint:"Number of transfer for the token instance",isLoading:l.isPlaceholderData,children:(0,r.jsx)(O.O,{isLoaded:!l.isPlaceholderData,display:"inline-block",children:(0,r.jsx)(V.Z,{href:s,onClick:l.data.transfers_count>0?i:void 0,children:l.data.transfers_count.toLocaleString()})})})},Y=s.memo(e=>{let{data:t,token:a,scrollRef:i,isLoading:l}=e,o=s.useCallback(()=>{window.setTimeout(()=>{var e;null==i||null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},500)},[i]);return t&&a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.k,{alignItems:"flex-start",flexDir:{base:"column-reverse",lg:"row"},columnGap:6,rowGap:6,children:[(0,r.jsxs)(P.r,{flexGrow:1,columnGap:8,rowGap:{base:1,lg:3},templateColumns:{base:"minmax(0, 1fr)",lg:"200px minmax(0, 1fr)"},overflow:"hidden",children:[t.is_unique&&t.owner&&(0,r.jsx)(I.Z,{title:"Owner",hint:"Current owner of this token instance",isLoading:l,children:(0,r.jsx)(A.ZP,{address:t.owner,isLoading:l})}),(0,r.jsx)(details_TokenInstanceCreatorAddress,{hash:l?"":a.address}),(0,r.jsx)(I.Z,{title:"Token ID",hint:"This token instance unique token ID",isLoading:l,children:(0,r.jsxs)(n.k,{alignItems:"center",overflow:"hidden",children:[(0,r.jsx)(O.O,{isLoaded:!l,overflow:"hidden",display:"inline-block",w:"100%",children:(0,r.jsx)(W.Z,{hash:t.id})}),(0,r.jsx)(T.Z,{text:t.id,isLoading:l})]})}),(0,r.jsx)(details_TokenInstanceTransfersCount,{hash:l?"":a.address,id:l?"":t.id,onClick:o}),(0,r.jsx)(R.Z,{isLoading:l,hash:a.address,id:t.id})]}),(0,r.jsx)(B.Z,{url:t.animation_url||t.image_url,w:"250px",flexShrink:0,alignSelf:{base:"center",lg:"flex-start"},isLoading:l,withFullscreen:!0})]}),(0,r.jsxs)(P.r,{mt:5,columnGap:8,rowGap:{base:1,lg:3},templateColumns:{base:"minmax(0, 1fr)",lg:"200px minmax(0, 1fr)"},overflow:"hidden",children:[(0,r.jsx)(H,{data:t,isLoading:l}),(0,r.jsx)(F.Z,{}),(0,r.jsx)(N.Z,{isLoading:l})]})]}):null}),X=a(75350),K=a(18691),$=a(35202),ee=a(44834),et=a(36024),ea=a(77484),er=a(21673),en=a(18122),ei=a(5077),el=s.memo((0,X.m)(e=>{let{children:t,className:a,level:n,isFlat:i}=e;return(0,r.jsx)(ei.Q,{className:a,display:"flex",alignItems:"flex-start",flexDir:{base:"column",lg:"row"},py:2,pl:i?0:6,columnGap:3,borderTopWidth:"1px",borderColor:"divider",wordBreak:"break-all",rowGap:1,_last:{borderBottomWidth:0===n?"1px":"0px"},_first:{borderTopWidth:0===n?"1px":"0px"},children:t})}));let es=["name","description"];function sortFields(e,t){let[a]=e,[r]=t,n=es.indexOf(a.toLowerCase()),i=es.indexOf(r.toLowerCase());return -1===n&&-1===i?0:-1===i?-1:-1===n?1:n>i?1:-1}var eo=s.memo((0,X.m)(e=>{let{name:t,className:a}=e;return(0,r.jsx)(i.xu,{w:{base:"auto",lg:"90px"},flexShrink:0,fontWeight:600,wordBreak:"break-word",className:a,children:function(e){let t=e.replaceAll("_"," ").replaceAll(/\burl|nft|id\b/gi,e=>e.toUpperCase());return E()(t.trim())}(t)})})),ed=s.memo(e=>{let{name:t,value:a,isItem:n=!0,isFlat:l,level:s}=e,o=n?el:i.xu,d=(()=>{if("string"==typeof a){let e=function(e){try{return p.Sh.test(e)?new URL(e.replace(p.Sh,"https://ipfs.io/ipfs/")):p.JS.test(e)?new URL(e):void 0}catch(e){}}(a);if(e)return(0,r.jsx)(_.Z,{href:e.toString(),children:a})}return(0,r.jsx)("div",{children:String(a)})})();return(0,r.jsxs)(o,{level:s,isFlat:l,children:[t&&(0,r.jsx)(eo,{name:t}),d]})}),eu=s.memo(e=>{let{name:t,value:a,level:i}=e;return(0,r.jsxs)(el,{flexDir:{lg:"column"},alignItems:"stretch",pl:{base:0,lg:0},py:0,children:[(0,r.jsxs)(ea.K,{px:0,py:2,_hover:{bgColor:"inherit"},fontSize:"sm",textAlign:"left",_expanded:{borderColor:"divider",borderBottomWidth:"1px"},children:[(0,r.jsx)(er.X,{boxSize:6,p:1}),(0,r.jsx)(eo,{name:t})]}),(0,r.jsx)(en.H,{p:0,ml:{base:6,lg:0===i?"126px":6},children:a.map((e,t)=>{let a=(()=>{switch(typeof e){case"string":case"number":case"boolean":return(0,r.jsx)(ed,{value:e,isItem:!1,level:i});case"object":if(!e)return(0,r.jsx)("span",{children:String(e)});if(Array.isArray(e))return(0,r.jsx)("span",{children:JSON.stringify(e,void 0,2)});return Object.entries(e).map((e,t)=>{let[a,l]=e;return(0,r.jsxs)(n.k,{columnGap:3,children:[(0,r.jsx)(eo,{name:a,fontWeight:400,w:{base:"90px"}}),(0,r.jsx)(ed,{value:"object"==typeof l?JSON.stringify(l,void 0,2):l,isItem:!1,level:i})]},t)});default:return(0,r.jsx)("span",{children:String(e)})}})();return(0,r.jsx)(n.k,{py:2,_notFirst:{borderColor:"divider",borderTopWidth:"1px"},flexDir:"column",rowGap:2,children:a},t)})})]})}),ec=s.memo(e=>{let{name:t,value:a,level:n}=e;return n>=4?(0,r.jsxs)(el,{level:n,isFlat:!0,children:[(0,r.jsx)(eo,{name:t}),(0,r.jsx)(i.xu,{whiteSpace:"pre-wrap",children:JSON.stringify(a,void 0,2)})]}):(0,r.jsxs)(el,{flexDir:{lg:"column"},alignItems:"stretch",py:0,isFlat:!0,level:n,children:[(0,r.jsxs)(ea.K,{px:0,py:2,_hover:{bgColor:"inherit"},fontSize:"sm",textAlign:"left",_expanded:{borderColor:"divider",borderBottomWidth:"1px"},children:[(0,r.jsx)(er.X,{boxSize:6,p:1}),(0,r.jsx)(eo,{name:t})]}),(0,r.jsx)(en.H,{p:0,children:(0,r.jsx)(eh,{data:a,level:n+1})})]})}),eh=s.memo(e=>{let{data:t,level:a=0}=e,n=0===a?0:1===a?126:24,i=Object.entries(t).every(e=>{let[,t]=e;return"object"!=typeof t}),l=s.useCallback((e,t)=>{switch(typeof t){case"string":case"number":case"boolean":return(0,r.jsx)(ed,{name:e,value:t,isFlat:i,level:a},e);case"object":if(null===t)return(0,r.jsx)(ed,{name:e,value:t,isFlat:i,level:a},e);if(Array.isArray(t)&&t.length>0)return(0,r.jsx)(eu,{name:e,value:t,level:a},e);if(Object.keys(t).length>0)return(0,r.jsx)(ec,{name:e,value:t,level:a},e);default:return(0,r.jsx)(ed,{name:e,value:String(t),isFlat:i,level:a},e)}},[a,i]);return(0,r.jsx)(et.U,{allowMultiple:!0,fontSize:"sm",ml:{base:0===a?0:6,lg:"".concat(n,"px")},defaultIndex:0===a?[0]:void 0,children:Object.entries(t).sort(sortFields).map(e=>{let[t,a]=e;return l(t,a)})})}),ep=s.memo(e=>{let{data:t,isPlaceholderData:a}=e,[l,o]=s.useState("Table"),d=s.useCallback(e=>{o(e.target.value)},[]);if(a)return(0,r.jsx)($.Z,{});if(!t)return(0,r.jsx)(i.xu,{children:"There is no metadata for this NFT"});let u="Table"===l?(0,r.jsx)(eh,{data:t}):(0,r.jsx)(ee.Z,{data:JSON.stringify(t,void 0,4),showCopy:!1});return(0,r.jsxs)(i.xu,{children:[(0,r.jsxs)(n.k,{alignItems:"center",mb:6,children:[(0,r.jsx)(X.m.span,{fontWeight:500,children:"Metadata"}),(0,r.jsxs)(K.P,{size:"xs",borderRadius:"base",value:l,onChange:d,focusBorderColor:"none",w:"auto",ml:5,children:[(0,r.jsx)("option",{value:"Table",children:"Table"}),(0,r.jsx)("option",{value:"JSON",children:"JSON"})]}),"JSON"===l&&(0,r.jsx)(T.Z,{text:JSON.stringify(t),ml:"auto"})]}),u]})}),ex=s.memo(()=>{var e,t,a,P,O,T,I,F;let N;let A=(0,l.useRouter)(),W=(0,c.Z)(),B=(0,d.b)(),R=null===(e=A.query.hash)||void 0===e?void 0:e.toString(),G=null===(t=A.query.id)||void 0===t?void 0:t.toString(),q=null===(a=A.query.tab)||void 0===a?void 0:a.toString(),J=s.useRef(null),z=(0,o.Z)("token",{pathParams:{hash:R},queryOptions:{enabled:!!(R&&G),placeholderData:x.QO}}),E=(0,o.Z)("token_instance",{pathParams:{hash:R,id:G},queryOptions:{enabled:!!(R&&G),placeholderData:x.Ll}}),U=(0,S.Z)({resourceName:"token_instance_transfers",pathParams:{hash:R,id:G},scrollRef:J,options:{enabled:!!(R&&G&&(!q||"token_transfers"===q)&&!E.isPlaceholderData&&E.data),placeholderData:(0,m.F)((null===(P=z.data)||void 0===P?void 0:P.type)==="ERC-1155"?x.yi:x.h3,10,{next_page_params:null})}}),M=!z.isPlaceholderData&&!E.isPlaceholderData&&E.data&&!E.data.is_unique,H=(0,S.Z)({resourceName:"token_instance_holders",pathParams:{hash:R,id:G},scrollRef:J,options:{enabled:!!(R&&"holders"===q&&M),placeholderData:(0,m.F)((null===(O=z.data)||void 0===O?void 0:O.type)==="ERC-1155"?x.aJ:x.TE,10,{next_page_params:null})}});s.useEffect(()=>{if(E.data&&!E.isPlaceholderData&&z.data&&!z.isPlaceholderData){var e;h.V({pathname:"/token/[hash]/instance/[id]",query:{hash:z.data.address,id:E.data.id}},{symbol:null!==(e=z.data.symbol)&&void 0!==e?e:""})}},[E.data,E.isPlaceholderData,z.data,z.isPlaceholderData]);let Q=s.useMemo(()=>{let e=B.referrer&&B.referrer.includes("/token/".concat(R))&&!B.referrer.includes("instance");if(e)return{label:"Back to token page",url:B.referrer}},[B.referrer,R]),V=[{id:"token_transfers",title:"Token transfers",component:(0,r.jsx)(D.Z,{transfersQuery:U,tokenId:G,token:z.data})},M?{id:"holders",title:"Holders",component:(0,r.jsx)(C.Z,{holdersQuery:H,token:z.data})}:void 0,{id:"metadata",title:"Metadata",component:(0,r.jsx)(ep,{data:null===(T=E.data)||void 0===T?void 0:T.metadata,isPlaceholderData:E.isPlaceholderData})}].filter(Boolean);(0,u.Z)(E);let X=(0,r.jsx)(v.Z,{isLoading:E.isPlaceholderData,children:null===(I=z.data)||void 0===I?void 0:I.type}),K=E.isPlaceholderData||z.isPlaceholderData,$=(()=>{var e;if(!(null===(e=E.data)||void 0===e?void 0:e.external_app_url))return null;try{let e=new URL(p.JS.test(E.data.external_app_url)?E.data.external_app_url:"https://"+E.data.external_app_url);return(0,r.jsx)(_.Z,{href:e.toString(),variant:"subtle",isLoading:K,ml:{base:0,lg:"auto"},children:e.hostname||E.data.external_app_url})}catch(e){return(0,r.jsx)(_.Z,{href:E.data.external_app_url,isLoading:K,ml:{base:0,lg:"auto"},children:"View in app"})}})();"token_transfers"===q?N=U.pagination:"holders"===q&&(N=H.pagination);let ee=(0,r.jsxs)(n.k,{alignItems:"center",w:"100%",minW:0,columnGap:2,rowGap:2,flexWrap:{base:"wrap",lg:"nowrap"},children:[(0,r.jsx)(y.ZP,{token:z.data,isLoading:K,noSymbol:!0,noCopy:!0,jointSymbol:!0,fontFamily:"heading",fontSize:"lg",fontWeight:500,w:"auto",maxW:"700px"}),!K&&E.data&&(0,r.jsx)(g.Z,{token:z.data,variant:"button"}),(0,r.jsx)(f.Z,{address:{hash:R||"",is_contract:!0,implementation_name:null,watchlist_names:[],watchlist_address_id:null},isLoading:K}),(0,r.jsx)(j.Z,{isLoading:K}),$]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{mb:6}),(0,r.jsx)(w.Z,{title:"ID ".concat(null===(F=E.data)||void 0===F?void 0:F.id),backLink:Q,contentAfter:X,secondRow:ee,isLoading:K}),(0,r.jsx)(Y,{data:null==E?void 0:E.data,isLoading:K,scrollRef:J,token:z.data}),(0,r.jsx)(i.xu,{ref:J}),K?(0,r.jsx)(L.Z,{tabs:V}):(0,r.jsx)(Z.Z,{tabs:V,tabListProps:W?{mt:8}:{mt:3,py:5,marginBottom:0},rightSlot:!W&&(null==N?void 0:N.isVisible)?(0,r.jsx)(k.Z,{...N}):null,stickyEnabled:!W})]})})},55146:function(e,t,a){var r=a(85893),n=a(776);a(67294),t.Z=()=>(0,r.jsx)(n.P,{colSpan:{base:void 0,lg:2},mt:{base:2,lg:3},mb:{base:0,lg:3},borderBottom:"1px solid",borderColor:"divider"})}}]);
//# sourceMappingURL=6107.b57fec1544c3e834.js.map