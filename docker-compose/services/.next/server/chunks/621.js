"use strict";exports.id=621,exports.ids=[621],exports.modules={552:(a,e,t)=>{t.a(a,async(a,r)=>{try{t.d(e,{Z:()=>useMarketplaceWallet});var s=t(16689),l=t(48998),o=t(44831),c=a([l]);function useMarketplaceWallet(){let{address:a}=(0,l.useAccount)(),{chain:e}=(0,l.useNetwork)(),{sendTransactionAsync:t}=(0,l.useSendTransaction)(),{signMessageAsync:r}=(0,l.useSignMessage)(),{signTypedDataAsync:c}=(0,l.useSignTypedData)(),{switchNetworkAsync:n}=(0,l.useSwitchNetwork)({chainId:Number(o.Z.chain.id)}),i=(0,s.useCallback)(async()=>{Number(o.Z.chain.id)!==e?.id&&await n?.()},[e,n]),u=(0,s.useCallback)(async a=>{await i();let e=await t(a);return e.hash},[t,i]),p=(0,s.useCallback)(async a=>{await i();let e=await r({message:a});return e},[r,i]),d=(0,s.useCallback)(async a=>{await i(),a.domain&&(a.domain.chainId=Number(a.domain.chainId));let e=await c(a);return e},[c,i]);return{address:a,sendTransaction:u,signMessage:p,signTypedData:d}}l=(c.then?(await c)():c)[0],r()}catch(a){r(a)}})},50621:(a,e,t)=>{t.a(a,async(a,r)=>{try{t.r(e),t.d(e,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=t(20997),l=t(22210),o=t(49752),c=t(88285),n=t(11163),i=t(16689),u=t(63668),p=t(44831),d=t(38117),h=t(89321),w=t(98393),b=t(97526),k=t(35202),y=t(552),m=a([l,o,c,u,k,y]);[l,o,c,u,k,y]=m.then?(await m)():m;let f=p.Z.features.marketplace,Z=f.isEnabled?f.configUrl:"",MarketplaceAppContent=({address:a,data:e,isPending:t})=>{let{iframeRef:r,isReady:o}=(0,c.useDappscoutIframe)(),[n,d]=(0,i.useState)(0),[h,w]=(0,i.useState)(t),{colorMode:b}=(0,l.useColorMode)();(0,i.useEffect)(()=>{d(a=>a+1)},[a]);let y=(0,i.useCallback)(()=>{w(!1)},[]);return(0,i.useEffect)(()=>{if(e&&!h){let a={blockscoutColorMode:b,blockscoutRootUrl:p.Z.app.baseUrl+(0,u.route)({pathname:"/"}),blockscoutAddressExplorerUrl:p.Z.app.baseUrl+(0,u.route)({pathname:"/address/[hash]",query:{hash:""}}),blockscoutTransactionExplorerUrl:p.Z.app.baseUrl+(0,u.route)({pathname:"/tx/[hash]",query:{hash:""}}),blockscoutNetworkName:p.Z.chain.name,blockscoutNetworkId:Number(p.Z.chain.id),blockscoutNetworkCurrency:p.Z.chain.currency,blockscoutNetworkRpc:p.Z.chain.rpcUrl};r?.current?.contentWindow?.postMessage(a,e.url)}},[h,e,b,r]),(0,s.jsxs)(l.Center,{h:"100vh",mx:{base:-4,lg:-6},children:[h&&s.jsx(k.Z,{}),e&&o&&s.jsx(l.Box,{allow:"clipboard-read; clipboard-write;",ref:r,sandbox:"allow-forms allow-orientation-lock allow-pointer-lock allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups",as:"iframe",h:"100%",w:"100%",display:h?"none":"block",src:e.url,title:e.title,onLoad:y},n)]})},__WEBPACK_DEFAULT_EXPORT__=()=>{let{address:a,sendTransaction:e,signMessage:t,signTypedData:r}=(0,y.Z)(),l=(0,h.Z)(),u=(0,n.useRouter)(),k=(0,b.Z)(u.query.id),m=(0,o.useQuery)({queryKey:["marketplace-apps",k],queryFn:async()=>{let a=await l(Z,void 0,{resource:"marketplace-apps"});if(!Array.isArray(a))throw a;let e=a.find(a=>a.id===k);if(!e)throw{status:404};return e},enabled:f.isEnabled}),{data:x,isPending:C}=m;return(0,i.useEffect)(()=>{x&&w.V({pathname:"/apps/[id]",query:{id:x.id}},{app_name:x.title})},[x]),(0,d.Z)(m),s.jsx(c.DappscoutIframeProvider,{address:a,appUrl:x?.url,rpcUrl:p.Z.chain.rpcUrl,sendTransaction:e,signMessage:t,signTypedData:r,children:s.jsx(MarketplaceAppContent,{address:a,data:x,isPending:C})})};r()}catch(a){r(a)}})}};