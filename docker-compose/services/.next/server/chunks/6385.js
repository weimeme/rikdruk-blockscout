"use strict";exports.id=6385,exports.ids=[6385],exports.modules={66188:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>C});var n=s(20997),r=s(22210),i=s(49752),o=s(16689),l=s.n(o),d=s(45641),c=s(34216),m=s(22099),u=s(77078),h=s(97477),x=s(49876),j=s(14072),b=e([r,i,d,m,x,j]);[r,i,d,m,x,j]=b.then?(await b)():b;let C=l().memo(({data:e,onClose:a,setAlertVisible:s})=>{let{control:t,formState:{errors:l,isDirty:b},handleSubmit:C,setError:g}=(0,d.useForm)({defaultValues:{contract_address_hash:e?.contract_address_hash||"",name:e?.name||"",abi:JSON.stringify(e?.abi)||""},mode:"onTouched"}),p=(0,i.useQueryClient)(),y=(0,m.Z)(),_=(0,r.useColorModeValue)("white","gray.900"),k=(0,i.useMutation)({mutationFn:e=>{let a={name:e.name,contract_address_hash:e.contract_address_hash,abi:e.abi};return e.id?y("custom_abi",{pathParams:{id:String(e.id)},fetchParams:{method:"PUT",body:a}}):y("custom_abi",{fetchParams:{method:"POST",body:a}})},onSuccess:e=>{p.setQueryData([(0,c.Ni)("custom_abi")],a=>{let s=a&&a.some(a=>a.id===e.id);return s?a.map(a=>a.id===e.id?e:a):[e,...a||[]]}),a()},onError:e=>{let a=e.payload?.errors;a?.address_hash||a?.name||a?.abi?(a?.address_hash&&g("contract_address_hash",{type:"custom",message:(0,u.Z)(a,"address_hash")}),a?.name&&g("name",{type:"custom",message:(0,u.Z)(a,"name")}),a?.abi&&g("abi",{type:"custom",message:(0,u.Z)(a,"abi")})):a?.identity_id?g("contract_address_hash",{type:"custom",message:(0,u.Z)(a,"identity_id")}):s(!0)}}),Z=(0,o.useCallback)(a=>{s(!1),k.mutate({...a,id:e?.id})},[k,e,s]),f=(0,o.useCallback)(({field:e})=>n.jsx(x.Z,{field:e,error:l.contract_address_hash,backgroundColor:_,placeholder:"Smart contract address (0x...)"}),[l,_]),T=(0,o.useCallback)(({field:e})=>(0,n.jsxs)(r.FormControl,{variant:"floating",id:"name",isRequired:!0,backgroundColor:_,children:[n.jsx(r.Input,{...e,isInvalid:!!l.name,maxLength:255}),n.jsx(j.Z,{text:"Project name",error:l.name})]}),[l,_]),A=(0,o.useCallback)(({field:e})=>(0,n.jsxs)(r.FormControl,{variant:"floating",id:"abi",isRequired:!0,backgroundColor:_,children:[n.jsx(r.Textarea,{...e,size:"lg",minH:"300px",isInvalid:!!l.abi}),n.jsx(j.Z,{text:"Custom ABI [{...}] (JSON format)",error:l.abi})]}),[l,_]);return(0,n.jsxs)("form",{noValidate:!0,onSubmit:C(Z),children:[n.jsx(r.Box,{children:n.jsx(d.Controller,{name:"contract_address_hash",control:t,render:f,rules:{pattern:h.T,required:!0}})}),n.jsx(r.Box,{marginTop:5,children:n.jsx(d.Controller,{name:"name",control:t,render:T,rules:{required:!0}})}),n.jsx(r.Box,{marginTop:5,children:n.jsx(d.Controller,{name:"abi",control:t,render:A,rules:{required:!0}})}),n.jsx(r.Box,{marginTop:8,children:n.jsx(r.Button,{size:"lg",type:"submit",isDisabled:!b,isLoading:k.isPending,children:e?"Save":"Create custom ABI"})})]})});t()}catch(e){t(e)}})},5887:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>c});var n=s(20997),r=s(16689),i=s.n(r),o=s(74408),l=s(66188),d=e([o,l]);[o,l]=d.then?(await d)():d;let c=i().memo(({isOpen:e,onClose:a,data:s})=>{let t=s?"Edit custom ABI":"New custom ABI",i=s?"":"Double check the ABI matches the contract to prevent errors or incorrect results.",[d,c]=(0,r.useState)(!1),m=(0,r.useCallback)(()=>n.jsx(l.Z,{data:s,onClose:a,setAlertVisible:c}),[s,a]);return n.jsx(o.Z,{isOpen:e,onClose:a,title:t,text:i,renderForm:m,isAlertVisible:d,setAlertVisible:c})});t()}catch(e){t(e)}})},13055:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>u});var n=s(20997),r=s(22210),i=s(16689),o=s.n(i),l=s(26287),d=s(40299),c=s(9536),m=e([r,l,d,c]);[r,l,d,c]=m.then?(await m)():m;let u=o().memo(({item:e,isLoading:a,onEditClick:s,onDeleteClick:t})=>{let o=(0,i.useCallback)(()=>s(e),[e,s]),m=(0,i.useCallback)(()=>t(e),[e,t]);return(0,n.jsxs)(d.Z,{children:[(0,n.jsxs)(r.Box,{maxW:"100%",children:[n.jsx(l.ZP,{address:e.contract_address,fontWeight:"600",isLoading:a}),n.jsx(r.Skeleton,{fontSize:"sm",color:"text_secondary",mt:.5,ml:8,display:"inline-block",isLoaded:!a,children:n.jsx("span",{children:e.name})})]}),n.jsx(c.Z,{onDeleteClick:m,onEditClick:o,isLoading:a})]})});t()}catch(e){t(e)}})},95557:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>c});var n=s(20997),r=s(22210),i=s(16689),o=s.n(i),l=s(30304),d=e([r,l]);[r,l]=d.then?(await d)():d;let c=o().memo(({data:e,isLoading:a,onDeleteClick:s,onEditClick:t})=>(0,n.jsxs)(r.Table,{variant:"simple",minWidth:"600px",children:[n.jsx(r.Thead,{children:(0,n.jsxs)(r.Tr,{children:[n.jsx(r.Th,{children:"ABI for Smart contract address (0x...)"}),n.jsx(r.Th,{width:"108px"})]})}),n.jsx(r.Tbody,{children:e?.map((e,r)=>n.jsx(l.Z,{item:e,isLoading:a,onDeleteClick:s,onEditClick:t},e.id+(a?r:"")))})]}));t()}catch(e){t(e)}})},30304:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>m});var n=s(20997),r=s(22210),i=s(16689),o=s.n(i),l=s(26287),d=s(9536),c=e([r,l,d]);[r,l,d]=c.then?(await c)():c;let m=o().memo(({item:e,isLoading:a,onEditClick:s,onDeleteClick:t})=>{let o=(0,i.useCallback)(()=>s(e),[e,s]),c=(0,i.useCallback)(()=>t(e),[e,t]);return(0,n.jsxs)(r.Tr,{alignItems:"top",children:[n.jsx(r.Td,{children:(0,n.jsxs)(r.Box,{maxW:"100%",children:[n.jsx(l.ZP,{address:e.contract_address,fontWeight:"600",isLoading:a}),n.jsx(r.Skeleton,{fontSize:"sm",color:"text_secondary",mt:.5,ml:8,display:"inline-block",isLoaded:!a,children:n.jsx("span",{children:e.name})})]})}),n.jsx(r.Td,{children:n.jsx(d.Z,{onDeleteClick:c,onEditClick:o,isLoading:a})})]},e.id)});t()}catch(e){t(e)}})},18876:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>h});var n=s(20997),r=s(22210),i=s(49752),o=s(16689),l=s.n(o),d=s(34216),c=s(22099),m=s(16789),u=e([r,i,c,m]);[r,i,c,m]=u.then?(await u)():u;let h=l().memo(({isOpen:e,onClose:a,data:s})=>{let t=(0,i.useQueryClient)(),l=(0,c.Z)(),u=(0,o.useCallback)(()=>l("custom_abi",{pathParams:{id:String(s.id)},fetchParams:{method:"DELETE"}}),[l,s.id]),h=(0,o.useCallback)(async()=>{t.setQueryData([(0,d.Ni)("custom_abi")],e=>e?.filter(e=>e.id!==s.id))},[s,t]),x=(0,o.useCallback)(()=>(0,n.jsxs)(r.Text,{children:["Custom ABI for",n.jsx(r.Text,{fontWeight:"700",as:"span",children:` "${s.name||"name"}" `}),"will be deleted"]}),[s.name]);return n.jsx(m.Z,{isOpen:e,onClose:a,title:"Remove custom ABI",renderContent:x,mutationFn:u,onSuccess:h})});t()}catch(e){t(e)}})},26385:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var n=s(20997),r=s(22210),i=s(16689),o=s(36217),l=s(6937),d=s(61766),c=s(5887),m=s(13055),u=s(95557),h=s(18876),x=s(41156),j=s(19819),b=s(56048),C=e([r,o,l,c,m,u,h,x,j,b]);[r,o,l,c,m,u,h,x,j,b]=C.then?(await C)():C;let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,r.useDisclosure)(),a=(0,r.useDisclosure)();(0,l.Z)();let[s,t]=(0,i.useState)(),[C,g]=(0,i.useState)(),{data:p,isPlaceholderData:y,isError:_}=(0,o.Z)("custom_abi",{queryOptions:{placeholderData:[,,,].fill(d.z9)}}),k=(0,i.useCallback)(a=>{t(a),e.onOpen()},[e]),Z=(0,i.useCallback)(()=>{t(void 0),e.onClose()},[e]),f=(0,i.useCallback)(e=>{g(e),a.onOpen()},[a]),T=(0,i.useCallback)(()=>{g(void 0),a.onClose()},[a]),A=n.jsx(x.Z,{children:"Add custom ABIs for any contract and access when logged into your account. Helpful for debugging, functional testing and contract interaction."}),B=(()=>{if(_)return n.jsx(j.Z,{});let t=(0,n.jsxs)(n.Fragment,{children:[n.jsx(r.Box,{display:{base:"block",lg:"none"},children:p?.map((e,a)=>n.jsx(m.Z,{item:e,isLoading:y,onDeleteClick:f,onEditClick:k},e.id+(y?a:"")))}),n.jsx(r.Box,{display:{base:"none",lg:"block"},children:n.jsx(u.Z,{data:p,isLoading:y,onDeleteClick:f,onEditClick:k})})]});return(0,n.jsxs)(n.Fragment,{children:[A,!!p?.length&&t,n.jsx(r.Skeleton,{mt:8,isLoaded:!y,display:"inline-block",children:n.jsx(r.Button,{size:"lg",onClick:e.onOpen,children:"Add custom ABI"})}),n.jsx(c.Z,{...e,onClose:Z,data:s}),C&&n.jsx(h.Z,{...a,onClose:T,data:C})]})})();return(0,n.jsxs)(n.Fragment,{children:[n.jsx(b.Z,{title:"Custom ABI"}),B]})};t()}catch(e){t(e)}})},49876:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.d(a,{Z:()=>AddressInput});var n=s(20997),r=s(22210);s(16689);var i=s(97477),o=s(14072),l=e([r,o]);function AddressInput({error:e,field:a,size:s,placeholder:t="Address (0x...)",backgroundColor:l}){return(0,n.jsxs)(r.FormControl,{variant:"floating",id:"address",isRequired:!0,backgroundColor:l,size:s,children:[n.jsx(r.Input,{...a,isInvalid:!!e,maxLength:i.y}),n.jsx(o.Z,{text:t,error:e})]})}[r,o]=l.then?(await l)():l,t()}catch(e){t(e)}})}};