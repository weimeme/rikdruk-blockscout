"use strict";exports.id=725,exports.ids=[725],exports.modules={56470:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(20997),i=t(22210),l=t(49752),o=t(16689),r=t(45641),d=t(34216),c=t(22099),_=t(77078),m=t(14072),u=e([i,l,r,c,m]);[i,l,r,c,m]=u.then?(await u)():u;let __WEBPACK_DEFAULT_EXPORT__=({data:e,onClose:a,setAlertVisible:t})=>{let{control:s,handleSubmit:u,formState:{errors:k,isDirty:x},setError:y}=(0,r.useForm)({mode:"onTouched",defaultValues:{token:e?.api_key||"",name:e?.name||""}}),h=(0,c.Z)(),p=(0,l.useQueryClient)(),C=(0,i.useColorModeValue)("white","gray.900"),j=(0,l.useMutation)({mutationFn:e=>{let a={name:e.name};return e.token?h("api_keys",{pathParams:{id:e.token},fetchParams:{method:"PUT",body:a}}):h("api_keys",{fetchParams:{method:"POST",body:a}})},onSuccess:async e=>{p.setQueryData([(0,d.Ni)("api_keys")],a=>{let t=a&&a.some(a=>a.api_key===e.api_key);return t?a.map(a=>a.api_key===e.api_key?e:a):[e,...a||[]]}),a()},onError:e=>{let a=e.payload?.errors;a?.name?y("name",{type:"custom",message:(0,_.Z)(a,"name")}):a?.identity_id?y("name",{type:"custom",message:(0,_.Z)(a,"identity_id")}):t(!0)}}),E=(0,o.useCallback)(e=>{t(!1),j.mutate(e)},[j,t]),P=(0,o.useCallback)(({field:e})=>(0,n.jsxs)(i.FormControl,{variant:"floating",id:"address",children:[n.jsx(i.Input,{...e,isDisabled:!0}),n.jsx(i.FormLabel,{"data-in-modal":"true",children:"Auto-generated API key token"})]}),[]),A=(0,o.useCallback)(({field:e})=>(0,n.jsxs)(i.FormControl,{variant:"floating",id:"name",isRequired:!0,backgroundColor:C,children:[n.jsx(i.Input,{...e,isInvalid:!!k.name,maxLength:255}),n.jsx(m.Z,{text:"Application name for API key (e.g Web3 project)",error:k.name})]}),[k,C]);return(0,n.jsxs)("form",{noValidate:!0,onSubmit:u(E),children:[e&&n.jsx(i.Box,{marginBottom:5,children:n.jsx(r.Controller,{name:"token",control:s,render:P})}),n.jsx(i.Box,{marginBottom:8,children:n.jsx(r.Controller,{name:"name",control:s,rules:{maxLength:255,required:!0},render:A})}),n.jsx(i.Box,{marginTop:8,children:n.jsx(i.Button,{size:"lg",type:"submit",isDisabled:!x,isLoading:j.isPending,children:e?"Save":"Generate API key"})})]})};s()}catch(e){s(e)}})},40693:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(20997),i=t(16689),l=t(74408),o=t(56470),r=e([l,o]);[l,o]=r.then?(await r)():r;let __WEBPACK_DEFAULT_EXPORT__=({isOpen:e,onClose:a,data:t})=>{let s=t?"Edit API key":"New API key",r=t?"":"Add an application name to identify your API key. Click the button below to auto-generate the associated key.",[d,c]=(0,i.useState)(!1),_=(0,i.useCallback)(()=>n.jsx(o.Z,{data:t,onClose:a,setAlertVisible:c}),[t,a]);return n.jsx(l.Z,{isOpen:e,onClose:a,title:s,text:r,renderForm:_,isAlertVisible:d,setAlertVisible:c})};s()}catch(e){s(e)}})},74362:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(20997),i=t(16689),l=t(96268),o=t(40299),r=t(9536),d=e([l,o,r]);[l,o,r]=d.then?(await d)():d;let __WEBPACK_DEFAULT_EXPORT__=({item:e,isLoading:a,onEditClick:t,onDeleteClick:s})=>{let d=(0,i.useCallback)(()=>t(e),[e,t]),c=(0,i.useCallback)(()=>s(e),[e,s]);return(0,n.jsxs)(o.Z,{children:[n.jsx(l.Z,{apiKey:e.api_key,name:e.name,isLoading:a}),n.jsx(r.Z,{onDeleteClick:c,onEditClick:d,isLoading:a})]})};s()}catch(e){s(e)}})},14857:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(20997),i=t(22210);t(16689);var l=t(86098),o=e([i,l]);[i,l]=o.then?(await o)():o;let __WEBPACK_DEFAULT_EXPORT__=({data:e,isLoading:a,onDeleteClick:t,onEditClick:s,limit:o})=>(0,n.jsxs)(i.Table,{variant:"simple",minWidth:"600px",children:[n.jsx(i.Thead,{children:(0,n.jsxs)(i.Tr,{children:[n.jsx(i.Th,{children:`API key token (limit ${o} keys)`}),n.jsx(i.Th,{width:"108px"})]})}),n.jsx(i.Tbody,{children:e?.map((e,i)=>n.jsx(l.Z,{item:e,isLoading:a,onDeleteClick:t,onEditClick:s},e.api_key+(a?i:"")))})]});s()}catch(e){s(e)}})},86098:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(20997),i=t(22210),l=t(16689),o=t(96268),r=t(9536),d=e([i,o,r]);[i,o,r]=d.then?(await d)():d;let __WEBPACK_DEFAULT_EXPORT__=({item:e,isLoading:a,onEditClick:t,onDeleteClick:s})=>{let d=(0,l.useCallback)(()=>t(e),[e,t]),c=(0,l.useCallback)(()=>s(e),[e,s]);return(0,n.jsxs)(i.Tr,{alignItems:"top",children:[n.jsx(i.Td,{children:n.jsx(o.Z,{apiKey:e.api_key,name:e.name,isLoading:a})}),n.jsx(i.Td,{children:n.jsx(r.Z,{onDeleteClick:c,onEditClick:d,isLoading:a})})]},e.api_key)};s()}catch(e){s(e)}})},84795:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(20997),i=t(22210),l=t(49752),o=t(16689),r=t(34216),d=t(22099),c=t(16789),_=e([i,l,d,c]);[i,l,d,c]=_.then?(await _)():_;let __WEBPACK_DEFAULT_EXPORT__=({isOpen:e,onClose:a,data:t})=>{let s=(0,l.useQueryClient)(),_=(0,d.Z)(),m=(0,o.useCallback)(()=>_("api_keys",{pathParams:{id:t.api_key},fetchParams:{method:"DELETE"}}),[t.api_key,_]),u=(0,o.useCallback)(async()=>{s.setQueryData([(0,r.Ni)("api_keys")],e=>e?.filter(e=>e.api_key!==t.api_key))},[t,s]),k=(0,o.useCallback)(()=>(0,n.jsxs)(i.Text,{children:[" API key for ",n.jsx(i.Text,{fontWeight:"700",as:"span",children:` "${t.name||"name"}" `})," will be deleted "]}),[t.name]);return n.jsx(c.Z,{isOpen:e,onClose:a,title:"Remove API key",renderContent:k,mutationFn:m,onSuccess:u})};s()}catch(e){s(e)}})},10725:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(20997),i=t(22210),l=t(16689),o=t(36217),r=t(6937),d=t(14853),c=t(61766),_=t(40693),m=t(74362),u=t(14857),k=t(84795),x=t(41156),y=t(19819),h=t(56048),p=e([i,o,r,_,m,u,k,x,y,h]);[i,o,r,_,m,u,k,x,y,h]=p.then?(await p)():p;let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,i.useDisclosure)(),a=(0,i.useDisclosure)();(0,r.Z)();let[t,s]=(0,l.useState)(),[p,C]=(0,l.useState)(),{data:j,isPlaceholderData:E,isError:P}=(0,o.Z)("api_keys",{queryOptions:{placeholderData:[,,,].fill(c.$h)}}),A=(0,l.useCallback)(a=>{s(a),e.onOpen()},[e]),g=(0,l.useCallback)(()=>{s(void 0),e.onClose()},[e]),T=(0,l.useCallback)(e=>{C(e),a.onOpen()},[a]),b=(0,l.useCallback)(()=>{C(void 0),a.onClose()},[a]),L=(0,n.jsxs)(x.Z,{children:["Create API keys to use for your RPC and EthRPC API requests. For more information, see ",d.Dh,n.jsx(i.Link,{href:"https://docs.blockscout.com/for-users/api#api-keys",target:"_blank",children:"“How to use a Blockscout API key”"}),"."]}),Z=(()=>{if(P)return n.jsx(y.Z,{});let s=(0,n.jsxs)(n.Fragment,{children:[n.jsx(i.Box,{display:{base:"block",lg:"none"},children:j?.map((e,a)=>n.jsx(m.Z,{item:e,isLoading:E,onDeleteClick:T,onEditClick:A},e.api_key+(E?a:"")))}),n.jsx(i.Box,{display:{base:"none",lg:"block"},children:n.jsx(u.Z,{data:j,isLoading:E,onDeleteClick:T,onEditClick:A,limit:3})})]}),l=!!E||3>(j?.length||0);return(0,n.jsxs)(n.Fragment,{children:[L,!!j?.length&&s,(0,n.jsxs)(i.Skeleton,{marginTop:8,flexDir:{base:"column",lg:"row"},alignItems:{base:"start",lg:"center"},isLoaded:!E,display:"inline-flex",columnGap:5,rowGap:5,children:[n.jsx(i.Button,{size:"lg",onClick:e.onOpen,isDisabled:!l,children:"Add API key"}),!l&&n.jsx(i.Text,{fontSize:"sm",variant:"secondary",children:"You have added the maximum number of API keys (3). Contact us to request additional keys."})]}),n.jsx(_.Z,{...e,onClose:g,data:t}),p&&n.jsx(k.Z,{...a,onClose:b,data:p})]})})();return(0,n.jsxs)(n.Fragment,{children:[n.jsx(h.Z,{title:"API keys"}),Z]})};s()}catch(e){s(e)}})},96268:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>_});var n=t(20997),i=t(22210),l=t(16689),o=t.n(l),r=t(68387),d=t(96026),c=e([i,r,d]);[i,r,d]=c.then?(await c)():c;let _=o().memo(({apiKey:e,name:a,isLoading:t})=>(0,n.jsxs)(i.HStack,{spacing:2,alignItems:"start",children:[n.jsx(d.Z,{name:"key",boxSize:6,color:(0,i.useColorModeValue)("gray.500","gray.400"),isLoading:t}),(0,n.jsxs)(i.Box,{children:[(0,n.jsxs)(i.Flex,{alignItems:{base:"flex-start",lg:"center"},children:[n.jsx(i.Skeleton,{isLoaded:!t,display:"inline-block",fontWeight:600,mr:1,children:n.jsx("span",{children:e})}),n.jsx(r.Z,{text:e,isLoading:t})]}),a&&n.jsx(i.Skeleton,{isLoaded:!t,display:"inline-block",fontSize:"sm",color:"text_secondary",mt:1,children:n.jsx("span",{children:a})})]})]}));s()}catch(e){s(e)}})}};