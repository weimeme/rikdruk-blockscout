"use strict";exports.id=9044,exports.ids=[9044],exports.modules={61044:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>getCurrencyValue});var i=s(49766),n=s(7263),o=e([i,n]);function getCurrencyValue({value:e,accuracy:t,accuracyUsd:s,decimals:a,exchangeRate:o}){let l;let r=(0,i.default)(e).div((0,i.default)(10**Number(a||"18"))),c=t?r.dp(t).toFormat():r.toFormat(),d=n.xE;if(o){let e=new i.default(o);if(d=r.times(e),s&&!d.isEqualTo(0)){let e=d.dp(s);l=e.isEqualTo(0)?d.precision(s).toFormat():e.toFormat()}else l=d.toFormat()}return{valueStr:c,usd:l,usdBn:d}}[i,n]=o.then?(await o)():o,a()}catch(e){a(e)}})},99044:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(22210),o=s(49752),l=s(16689),r=s(34216),c=s(36217),d=s(6937),h=s(61766),u=s(41156),m=s(58244),x=s(39468),_=s(56048),g=s(52323),C=s(5737),j=s(31349),p=s(36340),f=s(35273),b=s(76938),E=e([n,o,c,d,u,m,x,_,g,C,j,p,f,b]);[n,o,c,d,u,m,x,_,g,C,j,p,f,b]=E.then?(await E)():E;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{data:e,isPlaceholderData:t,isError:s,pagination:a}=(0,C.Z)({resourceName:"watchlist",options:{placeholderData:{items:[,,,,,].fill(h.V_),next_page_params:null}}}),E=(0,o.useQueryClient)(),k=(0,n.useDisclosure)(),y=(0,n.useDisclosure)();(0,d.Z)();let[T,Z]=(0,l.useState)(),[S,w]=(0,l.useState)(),P=(0,l.useCallback)(e=>{Z(e),k.onOpen()},[k]),v=(0,l.useCallback)(()=>{Z(void 0),k.onClose()},[k]),A=(0,l.useCallback)(async()=>{await E.refetchQueries({queryKey:[(0,r.Ni)("watchlist")]}),Z(void 0),k.onClose()},[k,E]),F=(0,l.useCallback)(e=>{w(e),y.onOpen()},[y]),L=(0,l.useCallback)(()=>{w(void 0),y.onClose()},[y]),B=(0,l.useCallback)(async()=>{E.setQueryData((0,c.$)("watchlist"),e=>{let t=e?.items.filter(e=>e.id!==S?.id);return{...e,items:t}})},[S?.id,E]),D=i.jsx(u.Z,{children:"An email notification can be sent to you when an address on your watch list sends or receives any transactions."}),O=(()=>{let o=a.isVisible?i.jsx(m.Z,{mt:-6,children:i.jsx(g.Z,{ml:"auto",...a})}):null,l=(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.Box,{display:{base:"block",lg:"none"},children:e?.items.map((e,s)=>i.jsx(f.Z,{item:e,isLoading:t,onDeleteClick:F,onEditClick:P},e.address_hash+(t?s:"")))}),i.jsx(n.Box,{display:{base:"none",lg:"block"},children:i.jsx(b.Z,{data:e?.items,isLoading:t,onDeleteClick:F,onEditClick:P,top:a.isVisible?80:0})})]});return(0,i.jsxs)(i.Fragment,{children:[D,i.jsx(x.Z,{isError:s,items:e?.items,emptyText:"",content:l,actionBar:o}),i.jsx(n.Skeleton,{mt:8,isLoaded:!t,display:"inline-block",children:i.jsx(n.Button,{size:"lg",onClick:k.onOpen,children:"Add address"})}),i.jsx(j.Z,{...k,onClose:v,onSuccess:A,data:T,isAdd:!T}),S&&i.jsx(p.Z,{...y,onClose:L,onSuccess:B,data:S})]})})();return(0,i.jsxs)(i.Fragment,{children:[i.jsx(_.Z,{title:"Watch list"}),O]})};a()}catch(e){a(e)}})},69029:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>CheckboxInput});var i=s(20997),n=s(22210),o=s(16689),l=s.n(o),r=e([n]);function CheckboxInput({field:e,text:t,onChange:s,isDisabled:a}){let o=l().useCallback((...t)=>{e.onChange(...t),s?.()},[e,s]);return i.jsx(n.Checkbox,{isChecked:e.value,onChange:o,ref:e.ref,colorScheme:"blue",size:"lg",isDisabled:a,children:t})}n=(r.then?(await r)():r)[0],a()}catch(e){a(e)}})},10178:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(22210),o=s(49752),l=s(16689),r=s(45641),c=s(22099),d=s(77078),h=s(97477),u=s(49876),m=s(69029),x=s(22362),_=s(37787),g=e([n,o,r,c,u,m,x,_]);[n,o,r,c,u,m,x,_]=g.then?(await g)():g;let C=["native","ERC-20","ERC-721"],__WEBPACK_DEFAULT_EXPORT__=({data:e,onSuccess:t,setAlertVisible:s,isAdd:a})=>{let[g,j]=(0,l.useState)(!1),p=(0,n.useColorModeValue)("white","gray.900"),f={};e?.notification_settings?f=e.notification_settings:C.forEach(e=>f[e]={incoming:!0,outcoming:!0});let{control:b,handleSubmit:E,formState:{errors:k,isDirty:y},setError:T}=(0,r.useForm)({defaultValues:{address:e?.address_hash||"",tag:e?.name||"",notification:!e?.notification_methods||e.notification_methods.email,notification_settings:f},mode:"onTouched"}),Z=(0,c.Z)(),{mutate:S}=(0,o.useMutation)({mutationFn:function(t){let s={name:t?.tag,address_hash:t?.address,notification_settings:t.notification_settings,notification_methods:{email:t.notification}};return!a&&e?Z("watchlist",{pathParams:{id:e?.id||""},fetchParams:{method:"PUT",body:s}}):Z("watchlist",{fetchParams:{method:"POST",body:s}})},onSuccess:async()=>{await t(),j(!1)},onError:e=>{j(!1);let t=e.payload?.errors;t?.address_hash||t?.name?(t?.address_hash&&T("address",{type:"custom",message:(0,d.Z)(t,"address_hash")}),t?.name&&T("tag",{type:"custom",message:(0,d.Z)(t,"name")})):t?.watchlist_id?T("address",{type:"custom",message:(0,d.Z)(t,"watchlist_id")}):s(!0)}}),w=(0,l.useCallback)(({field:e})=>i.jsx(u.Z,{field:e,backgroundColor:p,error:k.address}),[k,p]),P=(0,l.useCallback)(({field:e})=>i.jsx(x.Z,{field:e,error:k.tag,backgroundColor:p}),[k,p]),v=(0,l.useCallback)(e=>({field:t})=>i.jsx(m.Z,{text:e,field:t}),[]);return(0,i.jsxs)("form",{noValidate:!0,onSubmit:E(e=>{s(!1),j(!0),S(e)}),children:[i.jsx(n.Box,{marginBottom:5,children:i.jsx(r.Controller,{name:"address",control:b,rules:{pattern:h.T,required:!0},render:w})}),i.jsx(n.Box,{marginBottom:8,children:i.jsx(r.Controller,{name:"tag",control:b,rules:{maxLength:35,required:!0},render:P})}),i.jsx(n.Text,{variant:"secondary",fontSize:"sm",marginBottom:5,children:"Please select what types of notifications you will receive"}),i.jsx(n.Box,{marginBottom:8,children:i.jsx(_.Z,{control:b})}),i.jsx(n.Text,{variant:"secondary",fontSize:"sm",marginBottom:{base:"10px",lg:5},children:"Notification methods"}),i.jsx(r.Controller,{name:"notification",control:b,render:v("Email notifications")}),i.jsx(n.Box,{marginTop:8,children:i.jsx(n.Button,{size:"lg",type:"submit",isLoading:g,isDisabled:!y,children:a?"Add address":"Save changes"})})]})};a()}catch(e){a(e)}})},37787:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>AddressFormNotifications});var i=s(20997),n=s(22210),o=s(16689),l=s.n(o),r=s(45641),c=s(44831),d=s(69029),h=e([n,r,d]);[n,r,d]=h.then?(await h)():h;let u=["native","ERC-20","ERC-721"],m=[c.Z.chain.currency.symbol,"ERC-20","ERC-721, ERC-1155 (NFT)"];function AddressFormNotifications({control:e}){let t=(0,o.useCallback)(e=>({field:t})=>i.jsx(d.Z,{text:e,field:t}),[]);return i.jsx(n.Grid,{templateColumns:{base:"repeat(2, max-content)",lg:"repeat(3, max-content)"},gap:{base:"10px 24px",lg:"20px 24px"},children:u.map((s,a)=>{let o=`notification_settings.${s}.incoming`,c=`notification_settings.${s}.outcoming`;return(0,i.jsxs)(l().Fragment,{children:[i.jsx(n.GridItem,{gridColumnStart:{base:1,lg:1},gridColumnEnd:{base:3,lg:1},_notFirst:{mt:{base:3,lg:0}},children:m[a]}),i.jsx(n.GridItem,{children:i.jsx(r.Controller,{name:o,control:e,render:t("Incoming")})}),i.jsx(n.GridItem,{children:i.jsx(r.Controller,{name:c,control:e,render:t("Outgoing")})})]},s)})})}a()}catch(e){a(e)}})},31349:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(16689),o=s(74408),l=s(10178),r=e([o,l]);[o,l]=r.then?(await r)():r;let __WEBPACK_DEFAULT_EXPORT__=({isOpen:e,onClose:t,onSuccess:s,data:a,isAdd:r})=>{let c=r?"New address to watch list":"Edit watch list address",d=r?"An email notification can be sent to you when an address on your watch list sends or receives any transactions.":"",[h,u]=(0,n.useState)(!1),m=(0,n.useCallback)(()=>i.jsx(l.Z,{data:a,onSuccess:s,setAlertVisible:u,isAdd:r}),[a,r,s]);return i.jsx(o.Z,{isOpen:e,onClose:t,title:c,text:d,renderForm:m,isAlertVisible:h,setAlertVisible:u})};a()}catch(e){a(e)}})},36340:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(22210),o=s(16689),l=s(22099),r=s(55036),c=s(16789),d=e([n,l,r,c]);[n,l,r,c]=d.then?(await d)():d;let __WEBPACK_DEFAULT_EXPORT__=({isOpen:e,onClose:t,onSuccess:s,data:a})=>{let d=(0,r.Z)(),h=(0,l.Z)(),u=(0,o.useCallback)(()=>h("watchlist",{pathParams:{id:a.id},fetchParams:{method:"DELETE"}}),[a?.id,h]),m=a?.address_hash,x=(0,o.useCallback)(()=>{let e=d?[m.slice(0,4),m.slice(-4)].join("..."):m;return(0,i.jsxs)(n.Text,{children:["Address ",(0,i.jsxs)(n.Text,{fontWeight:"700",as:"span",children:[" ",e||"address"]})," will be deleted"]})},[m,d]);return i.jsx(c.Z,{isOpen:e,onClose:t,title:"Remove address from watch list",renderContent:x,mutationFn:u,onSuccess:s})};a()}catch(e){a(e)}})},93935:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(22210),o=s(49766),l=s(16689),r=s.n(l),c=s(44831),d=s(61044),h=s(14853),u=s(38390),m=s(8112),x=s(26287),_=s(24727),g=s(96026),C=e([n,o,d,m,x,_,g]);[n,o,d,m,x,_,g]=C.then?(await C)():C;let __WEBPACK_DEFAULT_EXPORT__=({item:e,isLoading:t})=>{let s=r().useMemo(()=>({name:c.Z.chain.currency.name||"",icon_url:"",symbol:"",address:"",type:"ERC-20"}),[]),{usdBn:a}=(0,d.Z)({value:e.address_balance,accuracy:2,accuracyUsd:2,exchangeRate:e.exchange_rate});return(0,i.jsxs)(n.VStack,{spacing:3,align:"stretch",fontWeight:500,children:[i.jsx(x.ZP,{address:e.address,isLoading:t,fontWeight:"600",py:"2px"}),(0,i.jsxs)(n.Flex,{fontSize:"sm",pl:7,flexWrap:"wrap",alignItems:"center",rowGap:1,children:[i.jsx(_.JO,{token:s,isLoading:t}),(0,i.jsxs)(n.Skeleton,{isLoaded:!t,whiteSpace:"pre",display:"inline-flex",children:[(0,i.jsxs)("span",{children:[u.Y.ether," balance: "]}),i.jsx(m.Z,{value:e.address_balance,exchangeRate:e.exchange_rate,decimals:String(c.Z.chain.currency.decimals),accuracy:2,accuracyUsd:2})]})]}),e.tokens_count&&(0,i.jsxs)(n.HStack,{spacing:2,fontSize:"sm",pl:7,children:[i.jsx(g.Z,{name:"tokens",boxSize:5,isLoading:t,borderRadius:"sm"}),(0,i.jsxs)(n.Skeleton,{isLoaded:!t,display:"inline-flex",children:[i.jsx("span",{children:`Tokens:${h.vk}`+e.tokens_count+(e.tokens_overflow?"+":"")}),i.jsx(n.Text,{variant:"secondary",fontWeight:400,children:`${h.vk}($${(0,o.default)(e.tokens_fiat_value).toFormat(2)})`})]})]}),e.tokens_fiat_value&&(0,i.jsxs)(n.HStack,{spacing:2,fontSize:"sm",pl:7,children:[i.jsx(g.Z,{boxSize:5,name:"wallet",isLoading:t}),i.jsx(n.Skeleton,{isLoaded:!t,display:"inline-flex",children:(0,i.jsxs)(n.Text,{children:[`Net worth:${h.vk}`,`${e.tokens_overflow?">":""}
                $${(0,o.default)(e.tokens_fiat_value).plus((0,o.default)(e.address_balance?a:"0")).toFormat(2)}`]})})]})]})};a()}catch(e){a(e)}})},35273:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(22210),o=s(49752),l=s(16689),r=s(22099),c=s(22618),d=s(95204),h=s(40299),u=s(9536),m=s(93935),x=e([n,o,r,c,d,h,u,m]);[n,o,r,c,d,h,u,m]=x.then?(await x)():x;let __WEBPACK_DEFAULT_EXPORT__=({item:e,isLoading:t,onEditClick:s,onDeleteClick:a})=>{let[x,_]=(0,l.useState)(e.notification_methods.email),[g,C]=(0,l.useState)(!1),j=(0,l.useCallback)(()=>s(e),[e,s]),p=(0,l.useCallback)(()=>a(e),[e,a]),f=(0,c.Z)(),b=(0,r.Z)(),E=(0,l.useCallback)(()=>{f({position:"top-right",description:"There has been an error processing your request",colorScheme:"red",status:"error",variant:"subtle",isClosable:!0,icon:null})},[f]),k=(0,c.Z)(),y=(0,l.useCallback)(e=>{k({position:"top-right",description:e?"Email notification is ON":"Email notification is OFF",colorScheme:"green",status:"success",variant:"subtle",title:"Success",isClosable:!0,icon:null})},[k]),{mutate:T}=(0,o.useMutation)({mutationFn:()=>{C(!0);let t={...e,notification_methods:{email:!x}};return _(e=>!e),b("watchlist",{pathParams:{id:e.id},fetchParams:{method:"PUT",body:t}})},onError:()=>{E(),_(e=>!e),C(!1)},onSuccess:()=>{C(!1),y(x)}}),Z=(0,l.useCallback)(()=>T(),[T]);return(0,i.jsxs)(h.Z,{children:[(0,i.jsxs)(n.Box,{maxW:"100%",children:[i.jsx(m.Z,{item:e,isLoading:t}),(0,i.jsxs)(n.HStack,{spacing:3,mt:6,children:[i.jsx(n.Text,{fontSize:"sm",fontWeight:500,children:"Private tag"}),i.jsx(d.Z,{isLoading:t,isTruncated:!0,children:e.name})]})]}),(0,i.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",mt:6,w:"100%",children:[(0,i.jsxs)(n.HStack,{spacing:3,children:[i.jsx(n.Text,{fontSize:"sm",fontWeight:500,children:"Email notification"}),i.jsx(n.Skeleton,{isLoaded:!t,display:"inline-block",children:i.jsx(n.Switch,{colorScheme:"blue",size:"md",isChecked:x,onChange:Z,"aria-label":"Email notification",isDisabled:g})})]}),i.jsx(u.Z,{onDeleteClick:p,onEditClick:j,isLoading:t})]})]})};a()}catch(e){a(e)}})},7593:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(22210),o=s(49752),l=s(16689),r=s(22099),c=s(22618),d=s(95204),h=s(9536),u=s(93935),m=e([n,o,r,c,d,h,u]);[n,o,r,c,d,h,u]=m.then?(await m)():m;let __WEBPACK_DEFAULT_EXPORT__=({item:e,isLoading:t,onEditClick:s,onDeleteClick:a})=>{let[m,x]=(0,l.useState)(e.notification_methods.email),[_,g]=(0,l.useState)(!1),C=(0,l.useCallback)(()=>s(e),[e,s]),j=(0,l.useCallback)(()=>a(e),[e,a]),p=(0,c.Z)(),f=(0,r.Z)(),b=(0,l.useCallback)(()=>{p({position:"top-right",description:"There has been an error processing your request",colorScheme:"red",status:"error",variant:"subtle",isClosable:!0,icon:null})},[p]),E=(0,c.Z)(),k=(0,l.useCallback)(e=>{E({position:"top-right",description:e?"Email notification is ON":"Email notification is OFF",colorScheme:"green",status:"success",variant:"subtle",title:"Success",isClosable:!0,icon:null})},[E]),{mutate:y}=(0,o.useMutation)({mutationFn:()=>{g(!0);let t={...e,notification_methods:{email:!m}};return x(e=>!e),f("watchlist",{pathParams:{id:e.id},fetchParams:{method:"PUT",body:t}})},onError:()=>{b(),x(e=>!e),g(!1)},onSuccess:()=>{g(!1),k(!m)}}),T=(0,l.useCallback)(()=>y(),[y]);return(0,i.jsxs)(n.Tr,{alignItems:"top",children:[i.jsx(n.Td,{children:i.jsx(u.Z,{item:e,isLoading:t})}),i.jsx(n.Td,{children:i.jsx(d.Z,{isLoading:t,isTruncated:!0,children:e.name})}),i.jsx(n.Td,{children:i.jsx(n.Skeleton,{isLoaded:!t,display:"inline-block",children:i.jsx(n.Switch,{colorScheme:"blue",size:"md",isChecked:m,onChange:T,isDisabled:_,"aria-label":"Email notification"})})}),i.jsx(n.Td,{children:i.jsx(h.Z,{onDeleteClick:j,onEditClick:C,isLoading:t})})]},e.address_hash)};a()}catch(e){a(e)}})},76938:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(20997),n=s(22210);s(16689);var o=s(87900),l=s(7593),r=e([n,o,l]);[n,o,l]=r.then?(await r)():r;let __WEBPACK_DEFAULT_EXPORT__=({data:e,isLoading:t,onDeleteClick:s,onEditClick:a,top:r})=>(0,i.jsxs)(n.Table,{variant:"simple",minWidth:"600px",children:[i.jsx(o.Z,{top:r,children:(0,i.jsxs)(n.Tr,{children:[i.jsx(n.Th,{width:"70%",children:"Address"}),i.jsx(n.Th,{width:"30%",children:"Private tag"}),i.jsx(n.Th,{width:"160px",children:"Email notification"}),i.jsx(n.Th,{width:"108px"})]})}),i.jsx(n.Tbody,{children:e?.map((e,n)=>i.jsx(l.Z,{item:e,isLoading:t,onDeleteClick:s,onEditClick:a},e.address_hash+(t?n:"")))})]});a()}catch(e){a(e)}})}};