"use strict";exports.id=4023,exports.ids=[4023],exports.modules={67052:(e,s,r)=>{r.d(s,{z:()=>a});let a=/^0x[a-fA-F\d]{130}$/},14023:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>p});var t=r(20997),n=r(22210),o=r(16689),i=r.n(o),l=r(28934),d=r(96026),c=r(2248),u=r(2341),h=r(10500),m=r(75546),x=e([n,l,d,c,u,h,m]);[n,l,d,c,u,h,m]=x.then?(await x)():x;let p=i().memo(({defaultAddress:e,isOpen:s,onClose:r,onSubmit:a,onAddTokenInfoClick:o,onShowListClick:x,pageType:p})=>{let[g,f]=i().useState(0),[j,y]=i().useState({address:"",signingMessage:""});i().useEffect(()=>{s&&l.Kz(l.GM.VERIFY_ADDRESS,{Action:"Form opened","Page type":p})},[s,p]);let b=i().useCallback(e=>{y(e),f(e=>e+1),l.Kz(l.GM.VERIFY_ADDRESS,{Action:"Address entered","Page type":p})},[p]),S=i().useCallback((e,s)=>{a(e),f(e=>e+1),y(s=>({...s,isToken:!!e.metadata.tokenName})),l.Kz(l.GM.VERIFY_ADDRESS,{Action:"Sign ownership","Page type":p,"Sign method":s})},[a,p]),w=i().useCallback(()=>{f(e=>e-1)},[]),k=i().useCallback(()=>{r(),f(0),y({address:"",signingMessage:""})},[r]),C=i().useCallback(()=>{o(j.address),k()},[k,j.address,o]),v=[{title:"Verify new address ownership",content:t.jsx(u.Z,{onContinue:b,defaultAddress:e})},{title:"Copy and sign message",content:t.jsx(h.Z,{...j,onContinue:S}),fallback:t.jsx(h.Z,{...j,onContinue:S,noWeb3Provider:!0})},{title:"Congrats! Address is verified.",content:t.jsx(m.Z,{onShowListClick:x,onAddTokenInfoClick:C,isToken:j.isToken,address:j.address})}],R=v[g];return(0,t.jsxs)(n.Modal,{isOpen:s,onClose:k,size:{base:"full",lg:"md"},children:[t.jsx(n.ModalOverlay,{}),(0,t.jsxs)(n.ModalContent,{children:[(0,t.jsxs)(n.ModalHeader,{fontWeight:"500",textStyle:"h3",mb:6,children:[0!==g&&t.jsx(n.Link,{mr:3,onClick:w,children:t.jsx(d.Z,{name:"arrows/east",boxSize:6,transform:"rotate(180deg)",verticalAlign:"middle"})}),t.jsx("span",{children:R.title})]}),t.jsx(n.ModalCloseButton,{}),t.jsx(n.ModalBody,{mb:0,children:t.jsx(c.Z,{fallback:R?.fallback||R.content,children:R.content})})]})]})});a()}catch(e){a(e)}})},68951:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>h});var t=r(20997),n=r(22210),o=r(16689),i=r.n(o),l=r(45641),d=r(97477),c=r(14072),u=e([n,l,c]);[n,l,c]=u.then?(await u)():u;let h=i().memo(({formState:e,control:s})=>{let r=(0,n.useColorModeValue)("white","gray.900"),a=i().useCallback(({field:s})=>{let a="address"in e.errors?e.errors.address:void 0;return(0,t.jsxs)(n.FormControl,{variant:"floating",id:s.name,isRequired:!0,size:"md",backgroundColor:r,mt:8,children:[t.jsx(n.Input,{...s,required:!0,isInvalid:!!a,maxLength:d.y,isDisabled:e.isSubmitting,autoComplete:"off"}),t.jsx(c.Z,{text:"Smart contract address (0x...)",error:a})]})},[e.errors,e.isSubmitting,r]);return t.jsx(l.Controller,{name:"address",control:s,render:a,rules:{required:!0,pattern:d.T}})});a()}catch(e){a(e)}})},98887:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>u});var t=r(20997),n=r(22210),o=r(16689),i=r.n(o),l=r(45641),d=r(14072),c=e([n,l,d]);[n,l,d]=c.then?(await c)():c;let u=i().memo(({formState:e,control:s})=>{let r=(0,n.useColorModeValue)("white","gray.900"),a=i().useCallback(({field:s})=>{let a="message"in e.errors?e.errors.message:void 0;return(0,t.jsxs)(n.FormControl,{variant:"floating",id:s.name,isRequired:!0,size:"md",backgroundColor:r,children:[t.jsx(n.Textarea,{...s,required:!0,isInvalid:!!a,isDisabled:!0,autoComplete:"off",maxH:{base:"140px",lg:"80px"}}),t.jsx(d.Z,{text:"Message to sign",error:a,isInModal:!0})]})},[e.errors,r]);return t.jsx(l.Controller,{defaultValue:"some value",name:"message",control:s,render:a,rules:{required:!0}})});a()}catch(e){a(e)}})},65900:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>h});var t=r(20997),n=r(22210),o=r(16689),i=r.n(o),l=r(45641),d=r(67052),c=r(14072),u=e([n,l,c]);[n,l,c]=u.then?(await u)():u;let h=i().memo(({formState:e,control:s})=>{let r=(0,n.useColorModeValue)("white","gray.900"),a=i().useCallback(({field:s})=>{let a="signature"in e.errors?e.errors.signature:void 0;return(0,t.jsxs)(n.FormControl,{variant:"floating",id:s.name,isRequired:!0,size:"md",backgroundColor:r,children:[t.jsx(n.Input,{...s,required:!0,isInvalid:!!a,isDisabled:e.isSubmitting,autoComplete:"off"}),t.jsx(c.Z,{text:"Signature hash",error:a})]})},[e.errors,e.isSubmitting,r]);return t.jsx(l.Controller,{name:"signature",control:s,render:a,rules:{required:!0,pattern:d.z}})});a()}catch(e){a(e)}})},2341:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>g});var t=r(20997),n=r(22210),o=r(16689),i=r.n(o),l=r(45641),d=r(63668),c=r(44831),u=r(22099),h=r(76215),m=r(23613),x=r(68951),p=e([n,l,d,u,h,m,x]);[n,l,d,u,h,m,x]=p.then?(await p)():p;let g=i().memo(({defaultAddress:e,onContinue:s})=>{let r=(0,l.useForm)({mode:"onBlur",defaultValues:{address:e}}),{handleSubmit:a,formState:o,control:p,setError:g,clearErrors:f,watch:j}=r,y=(0,u.Z)(),b=j("address");i().useEffect(()=>{f("root")},[b,f]);let S=i().useCallback(async e=>{try{let r={contractAddress:e.address},a=await y("address_verification",{fetchParams:{method:"POST",body:r},pathParams:{chainId:c.Z.chain.id,type:":prepare"}});if("SUCCESS"!==a.status){let e="number"==typeof a.status?"UNKNOWN_ERROR":a.status,s=("payload"in a?a.payload?.message:void 0)||"Oops! Something went wrong";return g("root",{type:e,message:s})}s({...a.result,address:e.address})}catch(e){g("root",{type:"manual",message:e.payload?.message||"Oops! Something went wrong"})}},[y,s,g]),w=a(S),k=(()=>{switch(o.errors.root?.type){case"INVALID_ADDRESS_ERROR":return t.jsx("span",{children:"Specified address either does not exist or is EOA."});case"IS_OWNER_ERROR":return t.jsx("span",{children:"Ownership of this contract address is already verified by this account."});case"OWNERSHIP_VERIFIED_ERROR":return t.jsx("span",{children:"Ownership of this contract address is already verified by another account."});case"SOURCE_CODE_NOT_VERIFIED_ERROR":{let e=(0,d.route)({pathname:"/address/[hash]/contract-verification",query:{hash:b}});return(0,t.jsxs)(n.Box,{children:[t.jsx("span",{children:"The contract source code you entered is not yet verified. Please follow these steps to "}),t.jsx(h.Z,{href:e,children:"verify the contract"}),t.jsx("span",{children:"."})]})}case void 0:return null;default:return o.errors.root?.message}})();return(0,t.jsxs)("form",{noValidate:!0,onSubmit:w,children:[t.jsx(n.Box,{children:"Enter the contract address you are verifying ownership for."}),k&&t.jsx(n.Alert,{status:"warning",mt:3,children:k}),t.jsx(x.Z,{formState:o,control:p}),(0,t.jsxs)(n.Flex,{alignItems:{base:"flex-start",lg:"center"},mt:8,columnGap:5,rowGap:2,flexDir:{base:"column",lg:"row"},children:[t.jsx(n.Button,{size:"lg",type:"submit",isDisabled:o.isSubmitting,flexShrink:0,children:"Continue"}),t.jsx(m.Z,{})]})]})});a()}catch(e){a(e)}})},10500:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>y});var t=r(20997),n=r(22210),o=r(10420),i=r(16689),l=r.n(i),d=r(45641),c=r(48998),u=r(44831),h=r(22099),m=r(16282),x=r(68387),p=r(23613),g=r(98887),f=r(65900),j=e([n,o,d,c,h,x,p,g,f]);[n,o,d,c,h,x,p,g,f]=j.then?(await j)():j;let y=l().memo(({address:e,signingMessage:s,contractCreator:r,contractOwner:a,onContinue:i,noWeb3Provider:j})=>{let[y,b]=l().useState(j?"manual":"wallet"),{open:S}=(0,o.useWeb3Modal)(),{isConnected:w}=(0,c.useAccount)(),k=(0,d.useForm)({mode:"onBlur",defaultValues:{message:s}}),{handleSubmit:C,formState:v,control:R,setValue:I,getValues:E,setError:A,clearErrors:Z,watch:_}=k,N=(0,h.Z)(),O=_("signature");l().useEffect(()=>{Z("root")},[Z,O]);let D=l().useCallback(async s=>{try{let r={contractAddress:e,message:s.message,signature:s.signature},a=await N("address_verification",{fetchParams:{method:"POST",body:r},pathParams:{chainId:u.Z.chain.id,type:":verify"}});if("SUCCESS"!==a.status){let e="number"==typeof a.status?"UNKNOWN_STATUS":a.status;return A("root",{type:e,message:"INVALID_SIGNER_ERROR"===a.status?a.invalidSigner.signer:void 0})}i(a.result.verifiedAddress,y)}catch(e){A("root",{type:"UNKNOWN_STATUS"})}},[e,N,i,A,y]),T=C(D),{signMessage:V,isLoading:B}=(0,c.useSignMessage)({onSuccess:e=>{I("signature",e),T()},onError:e=>A("root",{type:"SIGNING_FAIL",message:e?.message||"Oops! Something went wrong"})}),G=l().useCallback(e=>{b(e),Z("root")},[Z]),F=l().useCallback(()=>{Z("root"),S()},[Z,S]),M=l().useCallback(()=>{if(Z("root"),!w)return A("root",{type:"manual",message:"Please connect to your Web3 wallet first"});let e=E("message");V({message:e})},[Z,w,E,V,A]),W=l().useCallback(()=>{Z("root"),T()},[Z,T]),L="manual"===y?t.jsx(n.Button,{size:"lg",onClick:W,isLoading:v.isSubmitting,loadingText:"Verifying",children:"Verify"}):t.jsx(n.Button,{size:"lg",onClick:w?M:F,isLoading:v.isSubmitting||B,loadingText:B?"Signing":"Verifying",children:w?"Sign and verify":"Connect wallet"}),z=(0,t.jsxs)("span",{children:["contact us ",t.jsx(n.Link,{href:"mailto:help@blockscout.com",children:"help@blockscout.com"})]}),P=(()=>{switch(v.errors.root?.type){case"INVALID_SIGNATURE_ERROR":return t.jsx("span",{children:"The signature could not be processed."});case"VALIDITY_EXPIRED_ERROR":return t.jsx("span",{children:"This verification message has expired. Add the contract address to restart the process."});case"SIGNING_FAIL":return t.jsx("span",{children:v.errors.root.message});case"INVALID_SIGNER_ERROR":{let e=(0,m.Z)(v.errors.root.message||""),s=[r,a].filter(Boolean).map(m.Z).join(", ");return(0,t.jsxs)(n.Box,{children:[t.jsx("span",{children:"This address "}),t.jsx("span",{children:e}),t.jsx("span",{children:" is not a creator/owner of the requested contract and cannot claim ownership. Only "}),t.jsx("span",{children:s}),t.jsx("span",{children:" can verify ownership of this contract."})]})}case"UNKNOWN_STATUS":return(0,t.jsxs)(n.Box,{children:[t.jsx("span",{children:"We are not able to process the verify account ownership for this contract address. Kindly "}),z,t.jsx("span",{children:" for further assistance."})]});case void 0:return null}})();return(0,t.jsxs)("form",{noValidate:!0,onSubmit:T,children:[P&&t.jsx(n.Alert,{status:"warning",mb:6,children:P}),(0,t.jsxs)(n.Box,{mb:8,children:[t.jsx("span",{children:"Please select the address to sign and copy the message and sign it using the Blockscout message provider of your choice. "}),t.jsx(n.Link,{href:"https://docs.blockscout.com/for-users/my-account/verified-addresses/copy-and-sign-message",target:"_blank",children:"Additional instructions"}),t.jsx("span",{children:". If you do not see your address here but are sure that you are the owner of the contract, kindly "}),z,t.jsx("span",{children:" for further assistance."})]}),(a||r)&&(0,t.jsxs)(n.Flex,{flexDir:"column",rowGap:4,mb:4,children:[r&&(0,t.jsxs)(n.Box,{children:[t.jsx(n.chakra.span,{fontWeight:600,children:"Contract creator: "}),t.jsx(n.chakra.span,{children:r})]}),a&&(0,t.jsxs)(n.Box,{children:[t.jsx(n.chakra.span,{fontWeight:600,children:"Contract owner: "}),t.jsx(n.chakra.span,{children:a})]})]}),(0,t.jsxs)(n.Flex,{rowGap:5,flexDir:"column",children:[(0,t.jsxs)("div",{children:[t.jsx(x.Z,{text:s,ml:"auto",display:"block"}),t.jsx(g.Z,{formState:v,control:R})]}),!j&&(0,t.jsxs)(n.RadioGroup,{onChange:G,value:y,display:"flex",flexDir:"column",rowGap:4,children:[t.jsx(n.Radio,{value:"wallet",children:"Sign via Web3 wallet"}),t.jsx(n.Radio,{value:"manually",children:"Sign manually"})]}),"manual"===y&&t.jsx(f.Z,{formState:v,control:R})]}),(0,t.jsxs)(n.Flex,{alignItems:{base:"flex-start",lg:"center"},mt:8,columnGap:5,rowGap:2,flexDir:{base:"column",lg:"row"},children:[L,t.jsx(p.Z,{})]})]})});a()}catch(e){a(e)}})},75546:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>d});var t=r(20997),n=r(22210),o=r(16689),i=r.n(o),l=e([n]);n=(l.then?(await l)():l)[0];let d=i().memo(({onAddTokenInfoClick:e,onShowListClick:s,isToken:r,address:a})=>(0,t.jsxs)(n.Box,{children:[(0,t.jsxs)(n.Alert,{status:"success",flexWrap:"wrap",whiteSpace:"pre-wrap",wordBreak:"break-word",mb:3,display:"inline-block",children:[t.jsx("span",{children:"The address ownership for "}),t.jsx(n.chakra.span,{fontWeight:700,children:a}),t.jsx("span",{children:" is verified."})]}),t.jsx("p",{children:"You may now submit the “Add token information” request"}),(0,t.jsxs)(n.Flex,{alignItems:"center",mt:8,columnGap:5,flexWrap:"wrap",rowGap:5,children:[t.jsx(n.Button,{size:"lg",variant:r?"outline":"solid",onClick:s,children:"View my verified addresses"}),r&&t.jsx(n.Button,{size:"lg",onClick:e,children:"Add token information"})]})]}));a()}catch(e){a(e)}})},23613:(e,s,r)=>{r.a(e,async(e,a)=>{try{r.d(s,{Z:()=>i});var t=r(20997),n=r(22210);r(16689);var o=e([n]);n=(o.then?(await o)():o)[0];let i=(0,n.chakra)(({className:e})=>(0,t.jsxs)(n.Box,{className:e,children:[t.jsx("span",{children:"Need help? Contact admin team at "}),t.jsx(n.Link,{href:"mailto:help@blockscout.com",children:"help@blockscout.com"}),t.jsx("span",{children:" for assistance!"})]}));a()}catch(e){a(e)}})}};