"use strict";exports.id=6788,exports.ids=[6788],exports.modules={42188:(e,a,t)=>{t.d(a,{i:()=>s,s:()=>validator});let s=/^[\w.%+-]+@[a-zA-Z\d-]+(?:\.[a-zA-Z\d-]+)+$/,validator=e=>!!s.test(e)||"Invalid email"},16788:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var i=t(20997),n=t(11163),l=t(16689),r=t.n(l),o=t(83094),d=t(6937),c=t(22618),m=t(97526),u=t(55413),h=t(27096),x=t(56048),p=e([d,c,u,h,x]);[d,c,u,h,x]=p.then?(await p)():p;let g={added:"Your request sent to moderator. Waiting for...",removed:"Tags have been removed."},__WEBPACK_DEFAULT_EXPORT__=()=>{let e,a;let t=(0,n.useRouter)(),s=(0,m.Z)(t.query.address),[p,j]=(0,l.useState)(s?"form":"data"),[b,y]=(0,l.useState)(s?{addresses:[s]}:void 0),f=(0,c.Z)();(0,d.Z)(),r().useEffect(()=>{s&&t.replace({pathname:"/account/public-tags-request"})},[]);let C=(0,l.useCallback)(e=>{f({position:"top-right",title:"Success",description:g[e],colorScheme:"green",status:"success",variant:"subtle",isClosable:!0,icon:null})},[f]),k=(0,l.useCallback)(e=>{y(e),j("form"),o.animateScroll.scrollToTop({duration:500,delay:100})},[]),T=(0,l.useCallback)(e=>{e&&C("added"),j("data"),o.animateScroll.scrollToTop({duration:500,delay:100})},[C]),_=(0,l.useCallback)(()=>C("removed"),[C]),Z=(0,l.useCallback)(()=>j("data"),[]);return"data"===p?(e=i.jsx(u.Z,{changeToFormScreen:k,onTagDelete:_}),a="Public tags"):(e=i.jsx(h.Z,{changeToDataScreen:T,data:b}),a=b?"Request to edit a public tag/label":"Request a public tag/label"),(0,i.jsxs)(i.Fragment,{children:[i.jsx(x.Z,{title:a,backLink:"form"===p?{label:"Public tags",onClick:Z}:void 0,display:{base:"block",lg:"inline-flex"}}),e]})};s()}catch(e){s(e)}})},38620:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>h});var i=t(20997),n=t(22210),l=t(49752),r=t(16689),o=t.n(r),d=t(34216),c=t(22099),m=t(16789),u=e([n,l,c,m]);[n,l,c,m]=u.then?(await u)():u;let h=o().memo(({isOpen:e,onClose:a,data:t,onDeleteSuccess:s})=>{let[o,u]=(0,r.useState)(""),h=t.tags.split(";"),x=(0,l.useQueryClient)(),p=(0,c.Z)(),g=(0,n.useColorModeValue)("white","gray.900"),j=(0,r.useCallback)(()=>p("public_tags",{pathParams:{id:String(t.id)},fetchParams:{method:"DELETE",body:{remove_reason:o}}}),[t.id,p,o]),b=(0,r.useCallback)(async()=>{s(),x.setQueryData([(0,d.Ni)("public_tags")],e=>e?.filter(e=>e.id!==t.id))},[x,t,s]),y=(0,r.useCallback)(e=>{u(e.currentTarget.value)},[]),f=(0,r.useCallback)(()=>{let e;if(1===h.length&&(e=(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.Text,{display:"inline",as:"span",children:"Public tag"}),i.jsx(n.Text,{fontWeight:"700",whiteSpace:"pre",as:"span",children:` "${h[0]}" `}),i.jsx(n.Text,{as:"span",children:"will be removed."})]})),h.length>1){let a=[];h.forEach((e,t)=>{t<h.length-2&&(a.push(i.jsx(n.Text,{fontWeight:"700",whiteSpace:"pre",as:"span",children:` "${e}"`})),a.push(",")),t===h.length-2&&(a.push(i.jsx(n.Text,{fontWeight:"700",whiteSpace:"pre",as:"span",children:` "${e}" `})),a.push("and")),t===h.length-1&&a.push(i.jsx(n.Text,{fontWeight:"700",whiteSpace:"pre",as:"span",children:` "${e}" `}))}),e=(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.Text,{as:"span",children:"Public tags"}),a,i.jsx(n.Text,{as:"span",children:"will be removed."})]})}return(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.Box,{marginBottom:8,children:e}),(0,i.jsxs)(n.FormControl,{variant:"floating",id:"tag-delete",backgroundColor:g,children:[i.jsx(n.Textarea,{size:"lg",value:o,onChange:y}),i.jsx(n.FormLabel,{children:"Why do you want to remove tags?"})]})]})},[h,o,y,g]);return i.jsx(m.Z,{isOpen:e,onClose:a,title:"Request to remove a public tag",renderContent:f,mutationFn:j,onSuccess:b})});s()}catch(e){s(e)}})},48626:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>h});var i=t(20997),n=t(22210),l=t(16689),r=t.n(l),o=t(95204),d=t(26287),c=t(40299),m=t(9536),u=e([n,o,d,c,m]);[n,o,d,c,m]=u.then?(await u)():u;let h=r().memo(({item:e,isLoading:a,onEditClick:t,onDeleteClick:s})=>{let r=(0,l.useCallback)(()=>t(e),[e,t]),u=(0,l.useCallback)(()=>s(e),[e,s]);return(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)(n.VStack,{spacing:3,alignItems:"flex-start",maxW:"100%",children:[i.jsx(n.VStack,{spacing:4,alignItems:"unset",maxW:"100%",children:e.addresses_with_info.map(e=>i.jsx(d.ZP,{address:e,isLoading:a,fontWeight:"600",w:"100%"},e.hash))}),(0,i.jsxs)(n.HStack,{spacing:3,children:[i.jsx(n.Text,{fontSize:"sm",fontWeight:500,children:"Public tags"}),i.jsx(n.HStack,{spacing:2,alignItems:"baseline",children:e.tags.split(";").map(e=>i.jsx(o.Z,{isLoading:a,isTruncated:!0,children:e},e))})]}),(0,i.jsxs)(n.HStack,{spacing:3,children:[i.jsx(n.Text,{fontSize:"sm",fontWeight:500,children:"Status"}),i.jsx(n.Skeleton,{fontSize:"sm",color:"text_secondary",isLoaded:!a,display:"inline-block",children:i.jsx("span",{children:"Submitted"})})]})]}),i.jsx(m.Z,{onDeleteClick:u,onEditClick:r,isLoading:a})]})});s()}catch(e){s(e)}})},57472:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=t(20997),n=t(22210);t(16689);var l=t(38695),r=e([n,l]);[n,l]=r.then?(await r)():r;let __WEBPACK_DEFAULT_EXPORT__=({data:e,isLoading:a,onEditClick:t,onDeleteClick:s})=>(0,i.jsxs)(n.Table,{variant:"simple",minWidth:"600px",children:[i.jsx(n.Thead,{children:(0,i.jsxs)(n.Tr,{children:[i.jsx(n.Th,{width:"50%",children:"Smart contract / Address (0x...)"}),i.jsx(n.Th,{width:"25%",children:"Public tag"}),i.jsx(n.Th,{width:"25%",children:"Request status"}),i.jsx(n.Th,{width:"108px"})]})}),i.jsx(n.Tbody,{children:e?.map((e,n)=>i.jsx(l.Z,{item:e,isLoading:a,onDeleteClick:s,onEditClick:t},e.id+(a?String(n):"")))})]});s()}catch(e){s(e)}})},38695:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>u});var i=t(20997),n=t(22210),l=t(16689),r=t.n(l),o=t(95204),d=t(26287),c=t(9536),m=e([n,o,d,c]);[n,o,d,c]=m.then?(await m)():m;let u=r().memo(({item:e,isLoading:a,onEditClick:t,onDeleteClick:s})=>{let r=(0,l.useCallback)(()=>t(e),[e,t]),m=(0,l.useCallback)(()=>s(e),[e,s]);return(0,i.jsxs)(n.Tr,{alignItems:"top",children:[i.jsx(n.Td,{children:i.jsx(n.VStack,{spacing:4,alignItems:"unset",children:e.addresses_with_info.map(e=>i.jsx(d.ZP,{address:e,isLoading:a,fontWeight:"600",py:"2px"},e.hash))})}),i.jsx(n.Td,{children:i.jsx(n.VStack,{spacing:2,alignItems:"baseline",children:e.tags.split(";").map(e=>i.jsx(o.Z,{isLoading:a,isTruncated:!0,children:e},e))})}),i.jsx(n.Td,{children:i.jsx(n.Skeleton,{fontSize:"sm",fontWeight:"500",py:"2px",isLoaded:!a,display:"inline-block",children:"Submitted"})}),i.jsx(n.Td,{children:i.jsx(n.Box,{py:"2px",children:i.jsx(c.Z,{onDeleteClick:m,onEditClick:r,isLoading:a})})})]},e.id)});s()}catch(e){s(e)}})},55413:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=t(20997),n=t(22210),l=t(16689),r=t(36217),o=t(61766),d=t(48626),c=t(41156),m=t(19819),u=t(38620),h=t(57472),x=e([n,r,d,c,m,u,h]);[n,r,d,c,m,u,h]=x.then?(await x)():x;let __WEBPACK_DEFAULT_EXPORT__=({changeToFormScreen:e,onTagDelete:a})=>{let t=(0,n.useDisclosure)(),[s,x]=(0,l.useState)(),{data:p,isPlaceholderData:g,isError:j}=(0,r.Z)("public_tags",{queryOptions:{placeholderData:[,,,].fill(o.Rb)}}),b=(0,l.useCallback)(()=>{x(void 0),t.onClose()},[t]),y=(0,l.useCallback)(()=>{e()},[e]),f=(0,l.useCallback)(a=>{e(a)},[e]),C=(0,l.useCallback)(e=>{x(e),t.onOpen()},[t]),k=i.jsx(c.Z,{children:"You can request a public category tag which is displayed to all Blockscout users. Public tags may be added to contract or external addresses, and any associated transactions will inherit that tag. Clicking a tag opens a page with related information and helps provide context and data organization. Requests are sent to a moderator for review and approval. This process can take several days."});if(j)return i.jsx(m.Z,{});let T=(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.Box,{display:{base:"block",lg:"none"},children:p?.map((e,a)=>i.jsx(d.Z,{item:e,isLoading:g,onDeleteClick:C,onEditClick:f},e.id+(g?String(a):"")))}),i.jsx(n.Box,{display:{base:"none",lg:"block"},children:i.jsx(h.Z,{data:p,isLoading:g,onEditClick:f,onDeleteClick:C})})]});return(0,i.jsxs)(i.Fragment,{children:[k,!!p?.length&&T,i.jsx(n.Skeleton,{mt:8,isLoaded:!g,display:"inline-block",children:i.jsx(n.Button,{size:"lg",onClick:y,children:"Request to add public tag"})}),s&&i.jsx(u.Z,{...t,onClose:b,data:s,onDeleteSuccess:a})]})};s()}catch(e){s(e)}})},70834:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>PublicTagFormAction});var i=t(20997),n=t(22210),l=t(16689),r=t(45641),o=e([n,r]);function PublicTagFormAction({control:e,isDisabled:a}){let t=(0,l.useCallback)(({field:e})=>i.jsx(n.RadioGroup,{defaultValue:"add",colorScheme:"blue",...e,children:(0,i.jsxs)(n.Stack,{spacing:5,children:[i.jsx(n.Radio,{value:"add",children:"I want to add tags for my project"}),i.jsx(n.Radio,{value:"report",isDisabled:a,children:"I want to report an incorrect public tag"})]})}),[a]);return i.jsx(r.Controller,{name:"action",control:e,render:t})}[n,r]=o.then?(await o)():o,s()}catch(e){s(e)}})},30358:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>PublicTagFormAction});var i=t(20997),n=t(22210),l=t(16689),r=t(45641),o=t(97477),d=t(49876),c=t(96026),m=e([n,r,d,c]);function PublicTagFormAction({control:e,index:a,fieldsLength:t,error:s,onAddFieldClick:m,onRemoveFieldClick:u,size:h}){let x=(0,l.useCallback)(({field:e})=>i.jsx(d.Z,{field:e,error:s,size:h,placeholder:"Smart contract / Address (0x...)"}),[s,h]);return(0,i.jsxs)(n.Flex,{flexDir:"column",rowGap:5,alignItems:"flex-end",children:[i.jsx(r.Controller,{name:`addresses.${a}.address`,control:e,render:x,rules:{pattern:o.T,required:0===a}}),(0,i.jsxs)(n.Flex,{columnGap:5,position:{base:"static",lg:"absolute"},left:{base:"auto",lg:"calc(100% + 20px)"},h:"100%",alignItems:"center",children:[t>1&&i.jsx(n.IconButton,{"aria-label":"delete",variant:"outline",w:"30px",h:"30px",onClick:u(a),icon:i.jsx(c.Z,{name:"minus",w:"20px",h:"20px"})}),a===t-1&&t<10&&i.jsx(n.IconButton,{"aria-label":"add",variant:"outline",w:"30px",h:"30px",onClick:m,icon:i.jsx(c.Z,{name:"plus",w:"20px",h:"20px"})})]})]})}[n,r,d,c]=m.then?(await m)():m,s()}catch(e){s(e)}})},7097:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>PublicTagFormComment});var i=t(20997),n=t(22210),l=t(16689),r=t(45641),o=t(14072),d=e([n,r,o]);function PublicTagFormComment({control:e,error:a,size:t}){let s=(0,l.useCallback)(({field:e})=>(0,i.jsxs)(n.FormControl,{variant:"floating",id:e.name,size:t,isRequired:!0,children:[i.jsx(n.Textarea,{...e,isInvalid:!!a}),i.jsx(o.Z,{text:"Specify the reason for adding tags and color preference(s)",error:a})]}),[a,t]);return i.jsx(r.Controller,{name:"comment",control:e,render:s,rules:{maxLength:255,required:!0}})}[n,r,o]=d.then?(await d)():d,s()}catch(e){s(e)}})},27096:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>C});var i=t(20997),n=t(22210),l=t(49752),r=t(16689),o=t.n(r),d=t(45641),c=t(34216),m=t(22099),u=t(77078),h=t(42188),x=t(26121),p=t(70834),g=t(30358),j=t(7097),b=t(89815),y=e([n,l,d,m,x,p,g,j,b]);[n,l,d,m,x,p,g,j,b]=y.then?(await y)():y;let f={fullName:"Your name",email:"Email",companyName:"Company name",companyUrl:"Company website",tags:"Public tag (max 35 characters)"},C=o().memo(({changeToDataScreen:e,data:a})=>{let t=(0,l.useQueryClient)(),s=(0,m.Z)(),o={base:"md",lg:"lg"},{control:y,handleSubmit:C,formState:{errors:k,isDirty:T},setError:_}=(0,d.useForm)({defaultValues:{fullName:a?.full_name||"",email:a?.email||"",companyName:a?.company||"",companyUrl:a?.website||"",tags:a?.tags?.split(";").map(e=>e).join("; ")||"",addresses:a?.addresses?.map((e,a)=>({name:`address.${a}.address`,address:e}))||[{name:"address.0.address",address:""}],comment:a?.additional_comment||"",action:a?.is_owner===void 0||a?.is_owner?"add":"report"},mode:"onTouched"}),{fields:Z,append:v,remove:S}=(0,d.useFieldArray)({name:"addresses",control:y}),[w,P]=(0,r.useState)(!1),F=(0,r.useCallback)(()=>v({address:"",name:""}),[v]),E=(0,r.useCallback)(e=>()=>S(e),[S]),B=(0,l.useMutation)({mutationFn:e=>{let t={full_name:e.fullName||"",email:e.email||"",company:e.companyName||"",website:e.companyUrl||"",is_owner:"add"===e.action,addresses:e.addresses?.map(({address:e})=>e)||[],tags:e.tags?.split(";").map(e=>e.trim()).join(";")||"",additional_comment:e.comment||""};return a?.id?s("public_tags",{pathParams:{id:String(a.id)},fetchParams:{method:"PUT",body:t}}):s("public_tags",{fetchParams:{method:"POST",body:t}})},onSuccess:async a=>{t.setQueryData([(0,c.Ni)("public_tags")],e=>{let t=e&&e.some(e=>e.id===a.id);return t?e.map(e=>e.id===a.id?a:e):[a,...e||[]]}),e(!0)},onError:e=>{let a=e.payload?.errors;a?.full_name||a?.email||a?.tags||a?.addresses||a?.additional_comment?(a?.full_name&&_("fullName",{type:"custom",message:(0,u.Z)(a,"full_name")}),a?.email&&_("email",{type:"custom",message:(0,u.Z)(a,"email")}),a?.tags&&_("tags",{type:"custom",message:(0,u.Z)(a,"tags")}),a?.addresses&&_("addresses.0.address",{type:"custom",message:(0,u.Z)(a,"addresses")}),a?.additional_comment&&_("comment",{type:"custom",message:(0,u.Z)(a,"additional_comment")})):P(!0)}}),I=(0,r.useCallback)(e=>{P(!1),B.mutate(e)},[B]);return(0,i.jsxs)(n.chakra.form,{noValidate:!0,width:{base:"auto",lg:"calc(100% - 100px)"},maxWidth:"844px",onSubmit:C(I),children:[w&&i.jsx(n.Box,{mb:4,children:i.jsx(x.Z,{})}),i.jsx(n.Text,{size:"sm",variant:"secondary",paddingBottom:5,children:"Company info"}),(0,i.jsxs)(n.Grid,{templateColumns:{base:"1fr",lg:"1fr 1fr"},rowGap:4,columnGap:5,children:[i.jsx(n.GridItem,{children:i.jsx(b.Z,{fieldName:"fullName",control:y,label:f.fullName,error:k.fullName,required:!0,size:o})}),i.jsx(n.GridItem,{children:i.jsx(b.Z,{fieldName:"companyName",control:y,label:f.companyName,error:k.companyName,size:o})}),i.jsx(n.GridItem,{children:i.jsx(b.Z,{fieldName:"email",control:y,label:f.email,pattern:h.i,error:k.email,required:!0,size:o})}),i.jsx(n.GridItem,{children:i.jsx(b.Z,{fieldName:"companyUrl",control:y,label:f.companyUrl,error:k?.companyUrl,size:o})})]}),i.jsx(n.Box,{marginTop:{base:5,lg:8},marginBottom:{base:5,lg:8},children:i.jsx(p.Z,{control:y})}),i.jsx(n.Text,{size:"sm",variant:"secondary",marginBottom:5,children:'Public tags (2 tags maximum, please use ";" as a divider)'}),i.jsx(n.Box,{marginBottom:4,children:i.jsx(b.Z,{fieldName:"tags",control:y,label:f.tags,error:k.tags,required:!0,size:o})}),Z.map((e,a)=>i.jsx(n.Box,{position:"relative",marginBottom:4,children:i.jsx(g.Z,{control:y,error:k?.addresses?.[a]?.address,index:a,fieldsLength:Z.length,onAddFieldClick:F,onRemoveFieldClick:E,size:o})},e.id)),i.jsx(n.Box,{marginBottom:8,children:i.jsx(j.Z,{control:y,error:k.comment,size:o})}),i.jsx(n.HStack,{spacing:6,children:i.jsx(n.Button,{size:"lg",type:"submit",isDisabled:!T,isLoading:B.isPending,children:"Send request"})})]})});s()}catch(e){s(e)}})},89815:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>PublicTagsFormInput});var i=t(20997),n=t(22210),l=t(16689),r=t(45641),o=t(14072),d=e([n,r,o]);function PublicTagsFormInput({label:e,control:a,required:t,fieldName:s,pattern:d,error:c,size:m}){let u=(0,l.useCallback)(({field:a})=>(0,i.jsxs)(n.FormControl,{variant:"floating",id:a.name,isRequired:t,size:m,children:[i.jsx(n.Input,{...a,required:t,isInvalid:!!c,maxLength:255}),i.jsx(o.Z,{text:e,error:c})]}),[e,t,c,m]);return i.jsx(r.Controller,{name:s,control:a,render:u,rules:{pattern:d,required:t}})}[n,r,o]=d.then?(await d)():d,s()}catch(e){s(e)}})},49876:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>AddressInput});var i=t(20997),n=t(22210);t(16689);var l=t(97477),r=t(14072),o=e([n,r]);function AddressInput({error:e,field:a,size:t,placeholder:s="Address (0x...)",backgroundColor:o}){return(0,i.jsxs)(n.FormControl,{variant:"floating",id:"address",isRequired:!0,backgroundColor:o,size:t,children:[i.jsx(n.Input,{...a,isInvalid:!!e,maxLength:l.y}),i.jsx(r.Z,{text:s,error:e})]})}[n,r]=o.then?(await o)():o,s()}catch(e){s(e)}})}};