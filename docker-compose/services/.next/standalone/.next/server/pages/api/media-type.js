"use strict";(()=>{var e={};e.id=4018,e.ids=[4018],e.modules={20145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},84484:e=>{e.exports=require("pino-http")},96544:e=>{e.exports=import("node-fetch")},27925:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>l,default:()=>p,routeModule:()=>c});var i=a(71802),n=a(47153),d=a(56249),s=a(69919),o=e([s]);s=(o.then?(await o)():o)[0];let u=i.PagesAPIRouteModule,p=(0,d.l)(s,"default"),l=(0,d.l)(s,"config"),c=new u({definition:{kind:n.x.PAGES_API,page:"/api/media-type",pathname:"/api/media-type",bundlePath:"",filename:""},userland:s});r()}catch(e){r(e)}})},68643:(e,t,a)=>{a.d(t,{Z:()=>getQueryParamString});function getQueryParamString(e){return Array.isArray(e)?e.join(","):e||""}},21613:(e,t,a)=>{a.d(t,{W:()=>n});var r=a(84484),i=a.n(r);let n=i()()},69919:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>mediaTypeHandler});var i=a(96544),n=a(21613),d=a(68643),s=e([i]);async function mediaTypeHandler(e,t){(0,n.W)(e,t);try{let a=(0,d.Z)(e.query.url),r=await (0,i.default)(a,{method:"HEAD"});if(200!==r.status)throw Error();let n=r.headers.get("content-type"),s=n?.startsWith("video")?"video":n?.startsWith("text/html")?"html":"image";t.status(200).json({type:s})}catch(e){t.status(200).json({type:void 0})}}i=(s.then?(await s)():s)[0],r()}catch(e){r(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[4222],()=>__webpack_exec__(27925));module.exports=a})();