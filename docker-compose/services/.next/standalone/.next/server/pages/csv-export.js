"use strict";(()=>{var e={};e.id=3751,e.ids=[3751,2888,660],e.modules={8811:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{config:()=>h,default:()=>d,getServerSideProps:()=>f,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>_,routeModule:()=>j,unstable_getServerProps:()=>q,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>g});var s=t(87093),o=t(35244),i=t(1323),n=t(94482),l=t(64496),p=t(70518),c=e([n,l,p]);[n,l,p]=c.then?(await c)():c;let u=s.PagesRouteModule,d=(0,i.l)(p,"default"),m=(0,i.l)(p,"getStaticProps"),x=(0,i.l)(p,"getStaticPaths"),f=(0,i.l)(p,"getServerSideProps"),h=(0,i.l)(p,"config"),_=(0,i.l)(p,"reportWebVitals"),g=(0,i.l)(p,"unstable_getStaticProps"),b=(0,i.l)(p,"unstable_getStaticPaths"),y=(0,i.l)(p,"unstable_getStaticParams"),q=(0,i.l)(p,"unstable_getServerProps"),v=(0,i.l)(p,"unstable_getServerSideProps"),j=new u({definition:{kind:o.x.PAGES,page:"/csv-export",pathname:"/csv-export",bundlePath:"",filename:""},components:{App:l.default,Document:n.default},userland:p});a()}catch(e){a(e)}})},53599:(e,r,t)=>{t.d(r,{Z:()=>downloadBlob});function downloadBlob(e,r){let t=URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download",r),a.click(),a.remove(),URL.revokeObjectURL(t)}},58262:(e,r,t)=>{t.d(r,{Z:()=>throwOnAbsentParamError});function throwOnAbsentParamError(e){if(!e)throw Error("Required param not provided",{cause:{status:404}})}},70518:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__,getServerSideProps:()=>n.$m});var s=t(20997);t(16689);var o=t(76954),i=t(2839),n=t(69675),l=e([o,i]);[o,i]=l.then?(await l)():l;let __WEBPACK_DEFAULT_EXPORT__=()=>s.jsx(o.Z,{pathname:"/csv-export",children:s.jsx(i.Z,{})});a()}catch(e){a(e)}})},40146:(e,r,t)=>{t.d(r,{k:()=>a});let a=["from","to"]},90488:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{Z:()=>h});var s=t(20997),o=t(22210),i=t(16689),n=t.n(i),l=t(45641),p=t(33619),c=t(4914),u=t(53599),d=t(22618),m=t(67859),x=t(61853),f=e([o,l,d,m,x]);[o,l,d,m,x]=f.then?(await f)():f;let h=n().memo(({hash:e,resource:r,filterType:t,filterValue:a,fileNameTemplate:i})=>{let f=(0,l.useForm)({mode:"onBlur",defaultValues:{from:(0,c.Z)().subtract(1,"day").format("YYYY-MM-DD"),to:(0,c.Z)().format("YYYY-MM-DD")}}),{handleSubmit:h,formState:_}=f,g=(0,d.Z)(),b=n().useCallback(async s=>{try{let o=(0,p.Z)(r,void 0,{address_id:e,from_period:s.from,to_period:s.to,filter_type:t,filter_value:a,recaptcha_response:s.reCaptcha}),n=await fetch(o,{headers:{"content-type":"application/octet-stream"}});if(!n.ok)throw Error();let l=await n.blob();(0,u.Z)(l,`${i}_${e}_${s.from}_${s.to}
        ${t&&a?"_with_filter_type_"+t+"_value_"+a:""}.csv`)}catch(e){g({position:"top-right",title:"Error",description:e?.message||"Something went wrong. Try again later.",status:"error",variant:"subtle",isClosable:!0})}},[i,e,r,t,a,g]);return s.jsx(l.FormProvider,{...f,children:(0,s.jsxs)(o.chakra.form,{noValidate:!0,onSubmit:h(b),children:[(0,s.jsxs)(o.Flex,{columnGap:5,rowGap:3,flexDir:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},flexWrap:"wrap",children:[s.jsx(m.Z,{name:"from",formApi:f}),s.jsx(m.Z,{name:"to",formApi:f}),s.jsx(x.Z,{formApi:f})]}),s.jsx(o.Button,{variant:"solid",size:"lg",type:"submit",mt:8,isLoading:_.isSubmitting,loadingText:"Download",isDisabled:!_.isValid,children:"Download"})]})})});a()}catch(e){a(e)}})},67859:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{Z:()=>x});var s=t(20997),o=t(22210),i=t(59969),n=t.n(i),l=t(16689),p=t.n(l),c=t(45641),u=t(4914),d=t(14072),m=e([o,c,d]);[o,c,d]=m.then?(await m)():m;let x=p().memo(({formApi:e,name:r})=>{let{formState:t,control:a,getValues:i,trigger:l}=e,m=p().useCallback(({field:e})=>{let r=e.name in t.errors?t.errors[e.name]:void 0;return(0,s.jsxs)(o.FormControl,{variant:"floating",id:e.name,isRequired:!0,size:{base:"md",lg:"lg"},maxW:{base:"auto",lg:"220px"},children:[s.jsx(o.Input,{...e,required:!0,isInvalid:!!r,type:"date",isDisabled:t.isSubmitting,autoComplete:"off",max:(0,u.Z)().format("YYYY-MM-DD")}),s.jsx(d.Z,{text:n()(e.name),error:r})]})},[t.errors,t.isSubmitting]),x=p().useCallback(e=>{if("from"===r){let r=i("to");if(r&&(0,u.Z)(e)>(0,u.Z)(r))return"Incorrect date";t.errors.to&&l("to")}else{let r=i("from");if(r&&(0,u.Z)(r)>(0,u.Z)(e))return"Incorrect date";t.errors.from&&l("from")}},[t.errors.from,t.errors.to,i,r,l]);return s.jsx(c.Controller,{name:r,control:a,render:m,rules:{required:!0,validate:x}})});a()}catch(e){a(e)}})},61853:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=t(20997),o=t(22210),i=t(16689),n=t.n(i),l=t(25623),p=t.n(l),c=t(44831),u=e([o]);o=(u.then?(await u)():u)[0];let __WEBPACK_DEFAULT_EXPORT__=({formApi:e})=>{let r=n().useRef(null);n().useEffect(()=>(e.register("reCaptcha",{required:!0,shouldUnregister:!0}),()=>{e.unregister("reCaptcha")}),[]),n().useEffect(()=>{r.current?.reset(),e.trigger("reCaptcha")},[e.formState.submitCount]);let t=n().useCallback(r=>{r&&(e.clearErrors("reCaptcha"),e.setValue("reCaptcha",r,{shouldValidate:!0}))},[e]),a=n().useCallback(()=>{e.resetField("reCaptcha"),e.setError("reCaptcha",{type:"required"})},[e]),i=c.Z.features.csvExport;return i.isEnabled?s.jsx(p(),{className:"recaptcha",ref:r,sitekey:i.reCaptcha.siteKey,onChange:t,onExpired:a}):s.jsx(o.Alert,{status:"error",children:"CSV export is not available at the moment since reCaptcha is not configured for this application. Please contact the service maintainer to make necessary changes in the service configuration."})};a()}catch(e){a(e)}})},2839:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.d(r,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=t(20997),o=t(22210),i=t(11163),n=t(16689),l=t.n(n),p=t(40146),c=t(36217),u=t(21260),d=t(58262),m=t(38117),x=t(55036),f=t(14853),h=t(90488),_=t(35202),g=t(26287),b=t(56048),y=e([o,c,x,h,_,g,b]);[o,c,x,h,_,g,b]=y.then?(await y)():y;let q={transactions:{text:"transactions",resource:"csv_export_txs",fileNameTemplate:"transactions",filterType:"address",filterValues:p.k},"internal-transactions":{text:"internal transactions",resource:"csv_export_internal_txs",fileNameTemplate:"internal_transactions",filterType:"address",filterValues:p.k},"token-transfers":{text:"token transfers",resource:"csv_export_token_transfers",fileNameTemplate:"token_transfers",filterType:"address",filterValues:p.k},logs:{text:"logs",resource:"csv_export_logs",fileNameTemplate:"logs",filterType:"topic"}},isCorrectExportType=e=>Object.keys(q).includes(e),__WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,i.useRouter)(),r=(0,u.b)(),t=(0,x.Z)(),a=e.query.address?.toString()||"",n=e.query.type?.toString()||"",p=isCorrectExportType(n)?q[n]:null,y=e.query.filterType?.toString()||null,v=e.query.filterValue?.toString(),j=(0,c.Z)("address",{pathParams:{hash:a},queryOptions:{enabled:!!a}}),k=l().useMemo(()=>{let e=r.referrer&&r.referrer.includes("/address");if(e)return{label:"Back to address",url:r.referrer}},[r.referrer]);if((0,d.Z)(a),(0,d.Z)(p),!p)return null;let w=y===p.filterType?y:null,P=w&&v&&(!p.filterValues||p.filterValues?.includes(v))?v:null,E=((0,m.Z)(j),j.isPending)?s.jsx(_.Z,{}):s.jsx(h.Z,{hash:a,resource:p.resource,filterType:w,filterValue:P,fileNameTemplate:p.fileNameTemplate});return(0,s.jsxs)(s.Fragment,{children:[s.jsx(b.Z,{title:"Export data to CSV file",backLink:k}),(0,s.jsxs)(o.Flex,{mb:10,whiteSpace:"pre-wrap",flexWrap:"wrap",children:[(0,s.jsxs)("span",{children:["Export ",p.text," for address "]}),s.jsx(g.ZP,{address:{hash:a,is_contract:!0,implementation_name:null},truncation:t?"constant":"dynamic",noCopy:!0}),s.jsx("span",{children:f.vk}),w&&P&&(0,s.jsxs)("span",{children:["with applied filter by ",w," (",P,") "]}),s.jsx("span",{children:"to CSV file. "}),(0,s.jsxs)("span",{children:["Exports are limited to the last 10K ",p.text,"."]})]}),E]})};a()}catch(e){a(e)}})},14721:e=>{e.exports=require("@growthbook/growthbook-react")},16891:e=>{e.exports=require("@metamask/post-message-stream")},20693:e=>{e.exports=require("@metamask/providers")},15427:e=>{e.exports=require("@sentry/react")},24842:e=>{e.exports=require("@sentry/tracing")},1635:e=>{e.exports=require("dayjs")},90756:e=>{e.exports=require("dayjs/plugin/duration")},67424:e=>{e.exports=require("dayjs/plugin/localizedFormat")},72520:e=>{e.exports=require("dayjs/plugin/minMax")},14195:e=>{e.exports=require("dayjs/plugin/relativeTime")},60811:e=>{e.exports=require("dayjs/plugin/updateLocale")},59912:e=>{e.exports=require("dayjs/plugin/weekOfYear")},50770:e=>{e.exports=require("gradient-avatar")},59969:e=>{e.exports=require("lodash/capitalize")},12154:e=>{e.exports=require("lodash/clamp")},93908:e=>{e.exports=require("lodash/debounce")},63901:e=>{e.exports=require("lodash/omit")},20808:e=>{e.exports=require("lodash/pickBy")},1381:e=>{e.exports=require("lodash/throttle")},18459:e=>{e.exports=require("lodash/uniq")},5804:e=>{e.exports=require("mixpanel-browser")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{e.exports=require("next/head")},40099:e=>{e.exports=require("path-to-regexp")},16689:e=>{e.exports=require("react")},23599:e=>{e.exports=require("react-device-detect")},66405:e=>{e.exports=require("react-dom")},25623:e=>{e.exports=require("react-google-recaptcha")},61363:e=>{e.exports=require("react-identicons")},69881:e=>{e.exports=require("react-jazzicon")},83094:e=>{e.exports=require("react-scroll")},20997:e=>{e.exports=require("react/jsx-runtime")},47786:e=>{e.exports=require("use-font-face-observer")},79314:e=>{e.exports=require("xss")},58296:e=>{e.exports=import("@chakra-ui/anatomy")},22210:e=>{e.exports=import("@chakra-ui/react")},10724:e=>{e.exports=import("@chakra-ui/styled-system")},64725:e=>{e.exports=import("@chakra-ui/system")},30149:e=>{e.exports=import("@chakra-ui/theme-tools")},86997:e=>{e.exports=import("@chakra-ui/utils")},49752:e=>{e.exports=import("@tanstack/react-query")},19063:e=>{e.exports=import("@tanstack/react-query-devtools")},1186:e=>{e.exports=import("@wagmi/core/providers/jsonRpc")},10420:e=>{e.exports=import("@web3modal/wagmi/react")},49766:e=>{e.exports=import("bignumber.js")},9572:e=>{e.exports=import("blo")},66197:e=>{e.exports=import("framer-motion")},69915:e=>{e.exports=import("js-cookie")},63668:e=>{e.exports=import("nextjs-routes")},57290:e=>{e.exports=import("phoenix")},45641:e=>{e.exports=import("react-hook-form")},44009:e=>{e.exports=import("react-intersection-observer")},48998:e=>{e.exports=import("wagmi")},98926:e=>{e.exports=import("wagmi/window")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},59796:e=>{e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[9966,1627,6859,8450,3151,4496,4482,6954,9675,6048,4072],()=>__webpack_exec__(8811));module.exports=t})();